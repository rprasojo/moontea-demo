/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2014.WID.1.101.1_widgets_422
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2014.WID.1.101.1_widgets_422
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var $b,ob,zb,Dc,gd,te,ue,fb,Pd,ve,we,xe,ye,jb,kb;function ac(a){janrain.ready?a():document.addEventListener?document.addEventListener("DOMContentLoaded",a,!1):window.attachEvent("onload",a)}function hd(){var a;a="http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.2.17/":"https://d3hmp0045zy3cs.cloudfront.net/2.2.17/";if(janrain.settings.capture&&janrain.settings.capture.quiltVersion){a=a.split("/");if("cdn.quilt.janrain.com"===a[2]||"d3hmp0045zy3cs.cloudfront.net"===
a[2])a[a.length-2]=janrain.settings.capture.quiltVersion;a=a.join("/")}janrain.settings.capture&&janrain.settings.capture.quiltUrl&&(a=janrain.settings.capture.quiltUrl+"/2.2.17/");return a}function qa(a){function b(lb){var E=a(lb);i&&0===lb%i&&n.error(q);E||(lb<h?c=setTimeout(function(){b(lb+1)},e):(n.warn("A poll operation failed."),L()))}var c,e=100,h=1,i=0,q="",L=function(){},a="function"===typeof a?a:function(){return!0};return{start:function(){b(1);return this},stop:function(){clearTimeout(c);
return this},setDelay:function(a){"number"===typeof a&&0<a&&(e=a);return this},setMaxAttempts:function(a){"number"===typeof a&&0<a&&(h=a);return this},setFailCallback:function(a){"function"===typeof a&&(L=a);return this},errorEvery:function(a,b){"number"===typeof a&&0<a&&"string"===typeof b&&(i=a,q=b);return this}}}function Ec(a,b,c){var e;if(document.getElementById(a))return!1;if(f){e="";var h=document.createElement("div");h.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+b+'" ')+
'style="display: none;"></iframe>';document.body&&document.body.appendChild(h);e=document.getElementById(a)}else e=document.createElement("iframe"),e.setAttribute("name",a),e.id=a,e.setAttribute("src",b),e.style.display="none",document.body&&document.body.appendChild(e);"function"===typeof c&&c();return e}function ra(a){for(var b="",c=0;c<a;)b+=ra.possible[Math.floor(Math.random()*ra.possible.length)],c++;return b}function Fc(){function a(a,b,c,e){b={action:a,key:b,messageId:c};"set"===a&&(b.value=
e);return"janrainCapture:"+H.stringify(b)}function b(a,b){qa(function(){return"undefined"!==typeof q[a]?("get"===q[a].action&&"function"===typeof b&&b(q[a].storedValue),!0):!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){n.warn("Poll that checks message queue for request failed. requestId: "+a)}).start()}function c(c,e){var i=ra(40);window.setTimeout(function(){L.contentWindow.postMessage(a("get",c,i),lb)});b(i,e)}function e(a,b){if(i)id?c(a,b):setTimeout(function(){e(a,b)},50);else return window.localStorage.getItem(a)}
function h(a){if(0!==a.data.indexOf("janrainCapture:")||!x(E,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=H.parse(a.data.replace("janrainCapture:",""));q[a.messageId]=a}var i=!1,q={},L,lb,E=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,e){if(i){var h=ra(40);window.setTimeout(function(){L.contentWindow.postMessage(a("set",c,h,e),lb)});return b(h)}return window.localStorage.setItem(c,e)},removeItem:function(c){if(i){var e=
ra(40);window.setTimeout(function(){L.contentWindow.postMessage(a("remove",c,e),lb)});return b(e)}return window.localStorage.removeItem(c)},getItem:e,setMultiDomain:function(a){if(i=a)window.addEventListener?window.addEventListener("message",h,!1):window.attachEvent?window.attachEvent("onmessage",h):document.attachEvent&&document.attachEvent("onmessage",h),L=document.getElementById("xDomainLocalStorageJanrain"),lb=janrain.settings.storageServerDomain}}}function w(){function a(){if(h&&Gc){var a=new Fc;
a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=q?"; domain="+q:"",b=new Date;b.setTime(b.getTime()+-864E6);document.cookie=e+"="+i+";expires="+b.toUTCString()+a+"; path="+L}}function b(b,c,i){var q,L,g,f,n,i="undefined"===typeof i?!0:i;if(h&&Gc)if(n=new Fc,janrain.settings.multiDomainLocalStorage)n.setMultiDomain(!0),n.getItem(b,function(q){q?i?n.getItem(b+"_Expires",function(i){i?Math.round((new Date).getTime()/1E3)>Math.round((new Date(i)).getTime()/
1E3)?(e=b,a(),"function"===typeof c&&c(!1)):"function"===typeof c&&c(q):(new w).getCookie(b+"_session")?"function"===typeof c&&c(q):(e=b,a())}):"function"===typeof c&&c(q):"function"===typeof c&&c(!1)});else if(f=n.getItem(b),q=n.getItem(b+"_Expires"),f){if(!i||!(q&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(q)).getTime()/1E3))&&(q||(new w).getCookie(b+"_session")))return f;e=b;a()}else return!1;else{q=document.cookie.split(";");L=q.length;for(var o=0;o<L;o++)if(g=q.pop(),f=g.split("="),
g=f[0],f=f[1],g.trim()===b)return f;return!1}}var c,e,h=!1,i,q,L="/";return{create:function(){if(h&&Gc){var a=new Fc;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,i);c?a.setItem(e+"_Expires",c):(new w).setName(e+"_session").setValue("session").create()}else document.cookie=e+"="+i+(c?"; expires="+c:"")+(q?"; domain="+q:"")+"; path="+L},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var b=new Date;b.setTime(b.getTime()+864E5*
a);c=b.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(i=a);return this},setUseLocalStorage:function(a){h=a;return this},setPath:function(a){a&&(L=a);return this},setDomain:function(a){a&&(q=a);return this},getCookie:function(a,c,e){return b(a,c,e)}}}function bc(a,b){a=a||navigator.appName;b=b||sa;return"Microsoft Internet Explorer"===a&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(b)?parseFloat(RegExp.$1):!1}function Hc(a){a=a||sa;return!/CriOS\//.test(a||
sa)&&!/Chrome\//.test(a||sa)&&/Safari\//.test(a)}function kd(a){a=a||sa;return-1<a.indexOf("iPod")?"iPod":-1<a.indexOf("iPhone")?"iPhone":-1<a.indexOf("iPad")?"iPad":0}function ta(a,b,c,e,h,i){"number"===typeof c&&"number"===typeof e&&"number"===typeof h&&"number"===typeof i?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+e+"px "+h+"px "+i+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+e+"px "+h+"px "+i+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&
(a.style.webkitBorderRadius=c+"px "+e+"px "+h+"px "+i+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=b+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=b+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=b+"px"));return a}function cc(a,b){if("undefined"===typeof a||"undefined"===typeof b)return!1;var c=a-b;0>c&&(c=0);c>a&&(c=a);return c}function Rd(a,b){"undefined"!==typeof a.style.filter&&(a.style.filter="alpha(opacity="+
100*b+")");"undefined"!==typeof a.style.opacity&&(a.style.opacity=b);"undefined"!==typeof a.style.KhtmlOpacity&&(a.style.KhtmlOpacity=b);"undefined"!==typeof a.style.MozOpacity&&(a.style.MozOpacity=b)}function ld(a,b){if(f&&(9>=f||document.documentMode&&9>=document.documentMode))return a.style.backgroundImage="url('"+oc("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;var c;if(c=Hc()){a:{if((c=sa)&&Hc(c))if((c=c.match(/ Version\/(\d)[\d\.]+ /))&&c[1]){c=1*c[1];break a}c=0}c=4>=c}if(c||Ta.getMobileDevice()){var e=
c="",h="",i=b.split(","),q={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};i[0]&&q[i[0]]&&(c=q[i[0]]);i[1]&&(e="from("+i[1]+")");i[i.length-1]&&(h="to("+i[i.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+c+","+e+","+h+")"}a.style.backgroundImage="-moz-linear-gradient("+b+")";a.style.backgroundImage="-webkit-linear-gradient("+b+")";a.style.backgroundImage="-ms-linear-gradient("+b+")";a.style.backgroundImage=
"-o-linear-gradient("+b+")";a.style.backgroundImage="linear-gradient("+b+")"}function Ab(a,b,c,e){var h=Ic(c),i=Ic(c,e);if(c=Sd(c))c.a=e,i="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<b){a.style.backgroundColor=h;a.style.padding=b+"px";if(0<f&&8>=f||f&&ba)return!1;a.style.backgroundColor=i;a.style.padding=b+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function Sd(a){var b={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,
"");a=a.split(",");if(3>a.length||4<a.length)return!1;b.r=a[0];b.g=a[1];b.b=a[2];b.a=a[3]?a[3]:1;return b}function Ic(a,b){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),h=parseInt(a.substring(4,6),16);return isNaN(b)?"rgb("+c+","+e+","+h+")":"rgba("+c+","+e+","+h+","+b+")"}function y(a,b,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+
b,c):a.addEventListener(b,c,!1)}function Bb(a,b){if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(b,!1,!1);a.dispatchEvent(c)}else document.createEventObject&&a.fireEvent("on"+b)}function Cb(a,b,c){"object"===typeof window.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)}function Db(){var a,b;"undefined"!=typeof window.innerWidth?(a=window.innerWidth,b=window.innerHeight):(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);
return{width:a,height:b}}function Eb(a){return{width:a.style&&a.style.width?parseInt(a.style.width):a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function ze(a,b){var c=document.getElementById(a);if(!c)return null;if("object"===typeof c.currentStyle)var e=c.currentStyle[b];else window.getComputedStyle&&(e=document.defaultView.getComputedStyle(c,null).getPropertyValue(b));return e}function Td(a){var b,c,e,
h;if("string"!==typeof a)return!1;a=a.trim();if(0===a.length)return!1;b=document.createElement("a");-1===a.indexOf("//")?a="http://"+a:0===a.indexOf("//")&&(a="http:"+a);"#"===a.charAt(a.length-1)&&(a=a.slice(0,a.length-1));b.href=a;if(2>b.protocol.length||""===b.host||0===b.hostname.length)return!1;h=""!==b.port&&"0"!==b.port&&"21"!==b.port&&"80"!==b.port&&"443"!==b.port;e="/"!==b.pathname.charAt(0);c=-1<a.indexOf(b.hostname+(h?":"+b.port:"")+(e?"/":"")+b.pathname+b.search+b.hash);b=b.protocol+"//"+
b.hostname+(h?":"+b.port:"")+(c?(e?"/":"")+b.pathname:"")+b.search+b.hash;c=encodeURI(a);return 0===b.indexOf(a)||0===b.indexOf(c)?b:!1}function P(a,b,c,e,h){var i=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,q=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!u(e))return h||K.log(e+" is wrong type, must be array, using default value instead"),c;if(b&&u(b))for(var L=0;L<e.length;L++)if(0>b.indexOf(e[L]))return h||K.log(e+" is not within the valid range, using default value instead"),
c;return e}if("url"===a){if("string"!==typeof e)return c;e=e.trim();if(0===e.length)return c;if(L=Td(e))return L;h||K.log(e+" failed url validation, please double check the url.");return e}if("text"===a){if(b){if(0<=b.indexOf(e))return e;h||K.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return i.test(e)?e:c}if("usertext"===a){if("string"!==typeof e&&"number"!==typeof e)return c;if(u(b)){if(1===b.length){if(e.length<=
b[0])return e;h||K.log(e+" is too long, using default value instead");return c}if(2===b.length){if(e.length<=b[1]&&e.length>=b[0])return e;h||K.log(e+" is not within the valid range, using default value instead");return c}h||K.log("usertext range is invalid, using default value instead");return c}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!i.test(e))return h||K.log(e+" contains invalid character(s)"),c;if("boolean"===a){if("boolean"===typeof e)return e;h||K.log(e+" is wrong type, must be boolean, using default value instead");
return c}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return h||K.log(e+" is wrong type, must be a valid number"),c;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||q.test(e))return e;h||K.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof e!=a&&"color"!=a)return h||K.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),c;if("object"===typeof b&&"string"===
a){if(0<=b.indexOf(e))return e;h||K.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof b&&"number"===a){2===b.length?(i=b[0],q=b[1]):(i=b.shift(),q=b.pop(),L=b);if(e<i)return h||K.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+i+", using minimum value of "+i+" instead"),i;if(e>q)return h||K.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+
q+", using maximum value of "+q+" instead"),q;if(L&&"number"===typeof L.indexOf(e)||e==i||e==q)return e;return L?(h||K.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):e}return 0!=e&&!e?c:e}function Fb(a){for(var b=Fb.options,a=b.parser[b.strictMode?"strict":"loose"].exec(a),c={},e=14;e--;)c[b.key[e]]=a[e]||"";c[b.q.name]={};c[b.key[12]].replace(b.q.parser,function(a,e,q){e&&(c[b.q.name][e]=q)});return c}function Pa(a){return document.getElementById(N(a).getAttribute("id"))}
function N(a){return a.target?a.target:a.srcElement}function md(a,b){function c(a){o=!0;"undefined"!==typeof g&&clearTimeout(g);if("string"===typeof a)return"function"===typeof L&&L(a),!0;if("object"===typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof L&&L(a):"function"===typeof h&&h(),!0}function e(){qa(function(){return o}).setDelay(50).setMaxAttempts(i).setFailCallback(function(){n.warn("Polling for script loader failed. src: "+a);c("Load Timeout Error")}).start()}
var h=b,i=200,q=!1,L,g,E=document.createElement("script"),f=document.getElementsByTagName("script")[0],o=!1;E.src=a;E.setAttribute("type","text/javascript");E.onload=E.onerror=E.onreadystatechange=function(a){!o&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&c(a)};return{setTimeoutCallback:function(a){q=!0;L=a;return this},setCallback:function(a){h=a;return this},setTimeoutLimit:function(a){i=a;return this},load:function(){f.parentNode.insertBefore(E,f);q&&e()}}}function Ia(a,
b){md(a,b).load()}function Ae(a,b){f&&9>f&&pc(a,b)}function pc(a,b,c){function e(c){cssNotFound=!1;"function"===typeof b&&b();var e=janrain.events.onCssLoad,c={source:a,noload:c,save:!0};e.fire(c);e.permaArgs||(e.permaArgs=[]);e.permaArgs.push(c)}function h(){qa(function(){for(g=L.length;0<=--g;)if(L[g].href===q.href)return e(),!0;return!1}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){n.warn("Dynamic stylesheet poll check failed.");e(!0)}).start()}function i(){qa(function(){e();return!0}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){n.warn("Dynamic stylesheet poll check failed.")}).start()}
if(x(nd,a))c&&"function"===typeof b&&b();else{nd.push(a);var q,L=document.styleSheets,g;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new Gb);Jc?(q=document.createElement("style"),q.innerHTML='@import "'+a+'";'):(q=document.createElement("link"),q.rel="stylesheet",q.href=a,q.type="text/css");Kc||Jc?(Kc&&h(),Jc&&i()):(q.onload=function(){e()},q.onerror=function(){e(!0)});document.getElementsByTagName("head")[0].appendChild(q)}}function o(a){var b;b=a&&a.className?a.className.split(" "):
[];return{append:function(c){-1===b.indexOf(c)&&(b.push(c),a&&(a.className=b.join(" ")));return this},remove:function(c){-1!==b.indexOf(c)&&(b.splice([b.indexOf(c)],1),a&&(a.className=b.join(" ").trim()));return this},has:function(a){return-1!==b.indexOf(a)}}}function Be(a,b){Ca(a.style,b)}function Da(a,b){a.appendChild(document.createTextNode(b))}function sb(a,b){a.innerHTML="";Da(a,b)}function Ud(a){for(var b=a.lastChild;b;)a.removeChild(b),b=a.lastChild}function Vd(a){var b=typeof a;return("number"===
b||"string"===b&&0<a.length)&&gb(a)?parseFloat(a):null}function pb(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getMonth())}function u(a){return"[object Array]"===Object.prototype.toString.call(a)}function Hb(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)}function x(a,b){return!u(a)?!1:-1<a.indexOf(b)}function ga(a,b){for(var c in a)la(a,c)&&b.call(a[c],c,a[c]);return a}function ua(a,b){if("undefined"===typeof b||0===b.length||!Hb(a)&&!u(a))return a;
for(var c=b.split("."),e=a,h=0,i=c.length;h<i&&!(e=e[c[h]],void 0===e||null===e);++h);return e}function V(a,b,c){for(var e=0,h=a.length;e<h;e++)b.call(c,a[e],e,a)}function Lc(a){a()}function Ib(a){a&&a.parentNode&&a.parentNode.removeChild(a);return a}function Wd(a,b){for(var c=b.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}function $(a){var b=u(a)?[]:{},c;for(c in a)la(a,c)&&(b[c]=$.isCloneable(a[c])?$(a[c]):a[c]);return b}function Mc(a,b){var c=[],e=!(b&&!1===b.encode),h=b&&!0===
b.allowDupes;ga(a,function(a,b){var g=h&&u(b)?b:[b];c.push.apply(c,g.map(function(b){return e?encodeURIComponent(a)+"="+encodeURIComponent(b):a+"="+b}))});return(c.length?"?":"")+c.join("&")}function cf(a,b){for(var c,e={},h=a.split(b||"&"),i=0,q=h.length;i<q;i++)c=h[i].split("="),c[0]&&(e[c[0]]=c[1]);return e}function od(a,b,c){if(!a)return"";if(!b)return a;var e=Fb(a),a=e.protocol+"://"+e.authority+e.path,h=e.anchor?"#"+e.anchor:"",i={};ga(b,function(a,b){var e=c&&u(b)?b:[b];i[encodeURIComponent(a)]=
e.map(encodeURIComponent)});b=Mc(Ca(e.queryKey,i),{encode:!1,allowDupes:c});return a+b+h}function Xd(a,b){ga(b,function(b,e){la(a,b)?u(a[b])?a[b].push(e):a[b]=[a[b],e]:a[b]=e});return a}function R(a){if(!a)return!1;if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(b){}}function dc(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function df(a){var b;a&&(b=hb(a.getElementsByTagName("input")),b=b.concat(hb(a.getElementsByTagName("button"))),b=Ce(b,{type:"submit"})[0]);
return b}function gb(a){return!isNaN(parseFloat(a))&&isFinite(a)}function De(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var b=a.split("/"),a=parseInt(b[1],10),c=parseInt(b[0],10),b=parseInt(b[2],10),e=new Date(b,c-1,a);return e.getFullYear()==b&&e.getMonth()==c-1&&e.getDate()==a?!0:!1}return!1}function qb(a,b,c){var e,h=Ee,i=Yd;void 0===a&&(a="{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}");void 0===b&&(b=new Date);c&&(c.monthNames&&u(c.monthNames)&&12===c.monthNames.length&&(h=c.monthNames),
c.dayNames&&u(c.dayNames)&&7===c.dayNames.length&&(i=c.dayNames));c=function(){var a=b.getHours();12<a&&(a-=12);0===a&&(a=12);return a};e=function(a){return 10>a?"0"+a:a};a=a.replace(/{yyyy}/g,b.getFullYear());a=a.replace(/{month}/g,h[b.getMonth()]);a=a.replace(/{mmm}/g,h[b.getMonth()].substring(0,3));a=a.replace(/{day}/g,i[b.getDay()]);a=a.replace(/{0m}/g,e(b.getMonth()+1));a=a.replace(/{m}/g,b.getMonth()+1);a=a.replace(/{0d}/g,e(b.getDate()));a=a.replace(/{d}/g,b.getDate());a=a.replace(/{ord}/g,
function(){var a=["th","st","nd","rd"],c=b.getDate()%100;return a[(c-20)%10]||a[c]||a[0]}());a=a.replace(/{0hour}/g,e(c()));a=a.replace(/{hour}/g,c());a=a.replace(/{0h}/g,e(b.getHours()));a=a.replace(/{h}/g,b.getHours());a=a.replace(/{minute}/g,e(b.getMinutes()));a=a.replace(/{second}/g,e(b.getSeconds()));return a=a.replace(/{ampm}/g,11<b.getHours()?"PM":"AM")}function pd(a,b,c){function e(){var a=f.search(E);if(-1===a)return!1;var b=f.substring(a,a+2);isNaN(b)||12<b?(g.setMonth(f.substring(a,a+1)-
1),f=f.substring(a+1)):(g.setMonth(b-1),f=f.substring(a+2));return y=!0}function h(){var a=f.search(E);if(-1===a)return!1;var b=f.substring(a,a+2);isNaN(b)||31<b?(g.setDate(f.substring(a,a+1)),f=f.substring(a+1)):(g.setDate(b),f=f.substring(a+2));return nc=!0}function i(){var a;a=f.search(E);if(-1===a)return!1;f=f.substring(a);a=f.match(n)[0];g.setFullYear(a);f=f.substring(a.length);return x=!0}function q(){var a,b,c=-1,e;for(e=0;12>e;++e)a=f.search(o[e]),-1===c&&-1<a&&(c=a,b=e),-1<a&&a<c&&(c=a,b=
e);if(-1===c)return!1;g.setMonth(b);f=f.substring(c);a=f.search(u);-1===a&&(a=f.length);f=f.substring(a);return y=!0}var g=new Date,a=a.match(/\{+([a-z0])+\}/g),f=b,E=/[0-9]{1}/,n=/[0-9]+/,o=[/jan/i,/feb/i,/mar/i,/apr/i,/may/i,/jun/i,/jul/i,/aug/i,/sep/i,/oct/i,/nov/i,/dec/i],u=/[^a-zA-Z]/,y=!1,x=!1,nc=!1;if("string"!==typeof b)return new Date("Invalid Date");"undefined"===typeof c&&(c=!1);g.setMonth(0);g.setFullYear(0);g.setDate(1);g.setMinutes(0);g.setSeconds(0);g.setHours(0);g.setMilliseconds(0);
for(var b=0,jd=a.length;b<jd;++b){var B=!0;switch(a[b]){case "{m}":y||(B=!1,c||(B=q()),B||(B=e()));break;case "{0m}":y||(B=!1,c||(B=q()),B||(B=e()));break;case "{month}":y||(B=q(),!B&&!c&&(B=e()));break;case "{mmm}":y||(B=q(),!B&&!c&&(B=e()));break;case "{d}":nc||(B=h());break;case "{0d}":nc||(B=h());break;case "{yyyy}":x||(B=i())}if(!B){g=new Date("Invalid Date");break}if(y&&x&&nc)break}return g}function Ca(a,b){for(var c in b)la(b,c)&&(a[c]=b[c]);return a}function Fe(a,b){if(!$.isCloneable(a)||
!$.isCloneable(b))return a;for(var c in b)la(b,c)&&(a[c]="undefined"===typeof a[c]||!$.isCloneable(a[c])?$.isCloneable(b[c])?$(b[c]):b[c]:$.isCloneable(b[c])?Fe(a[c],b[c]):b[c]);return a}function Ge(a,b){var c=!0;if(!$.isCloneable(a)||!$.isCloneable(b))return a===b;for(var e in a)if(la(a,e)&&(c=$.isCloneable(a[e])?Ge(a[e],b[e]):a[e]===b[e],!c))return!1;return!0}function Y(a,b){for(var c=b,e=/\{\|(.*?)\|\}/,h;h=e.exec(c);)try{var i=h[1].trim(),q=ua(a,i),q="undefined"!==typeof q?q:"",c=c.replace(h[0],
q)}catch(g){return window.console&&window.console.log&&console.log(g.name+": "+g.message,"error"),!1}return c}function ef(a,b){var c=$(a);ga(b,function(b,h){var i=ua(a,b);if(i&&Hb(h)&&"date"===h.type&&(i=pd("{yyyy}-{0m}-{0d}",i),i=qb(h.format,i),!("undefined"===typeof b||0===b.length||!Hb(c)&&!u(c)))){for(var q=b.split("."),g=c,f,E=0,n=q.length-1;E<n;++E)f=g[q[E]],$.isCloneable(f)||(g[q[E]]={}),g=g[q[E]];g[q.pop()]=i}});return c}function tb(a,b){if(a){if(a.nodeName.toLowerCase()===b.toLowerCase())return a;
if(!a.parentNode)return!1;var c=a.parentNode.nodeName.toLowerCase();return"body"===c?!1:c===b.toLowerCase()?a.parentNode:tb(a.parentNode,b)}}function qd(a,b){return!a?!1:"body"===a.nodeName.toLowerCase()?!1:o(a).has(b)?a:qd(a.parentNode,b)}function Ob(a){var b=[],c;for(c in a)la(a,c)&&b.push(c+'="'+a[c]+'"');return b.join(" ")}function hb(a){return"string"===typeof a?a.split(""):Array.prototype.map.call(a,function(a){return a})}function He(a){if(a&&0<a.length)for(var a=a[0].children,b=a.length,c=
0;c<b;++c)a[c].blur&&a[c].blur()}function ff(a,b){for(var c=[],e=0,h=a.length;e<h;e++)b(a[e])&&c.push(a[e]);return c}function Ce(a,b){return ff(a,function(a){for(var e in b)if(la(b,e)&&a[e]!==b[e])return!1;return!0})}function gf(a,b,c){for(var e=[],h=0,i=a.length;h<i;h++)e.push(b.call(c,a[h],h,a));return e}function Ie(a){var b,c;if(a&&(a.blur&&a.blur(),a.children)){c=a.children;a=0;for(b=c.length;a<b;a++)Ie(c[a])}}function la(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function rd(a){if("string"!==
typeof a)return a;for(var b=a.length,c=[],e;b--;)e=a.charCodeAt(b),c[b]="&#"+e+";";return c.join("")}function sd(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",la&&(c.innerHTML=la)):(c.src=qa,sa||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=Ca?e:b;return c}function b(a){La||(z.style.display=
"none",ya.style.display="none",S.style.display="none");W&&Ta.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&Ma.fire();"object"===typeof a&&R(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),e=document.createElement("a"),i=document.createElement("a"),h=document.createElement("h3");e.innerHTML=Da;i.innerHTML=ua;h.innerHTML=Ia;e.setAttribute("href","#");i.setAttribute("href","#");a.className="janrain_close_confirm_container";
c.className="janrain_close_confirm";e.className="janrain_modal_confirm";i.className="janrain_modal_cancel";y(e,"click",function(a){b();z.removeChild(Ua);Ua=null;R(a)});y(i,"click",function(a){z.removeChild(Ua);Ua=null;R(a)});c.appendChild(h);c.appendChild(i);c.appendChild(e);a.appendChild(c);return a}function e(a){Ua||(Ua=c(),z.appendChild(Ua));R(a)}function h(){function a(){var b,c,e,i,h,q,g,f;e=document.documentElement?document.documentElement:{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,
offsetWidth:0,offsetHeight:0};f=e.scrollWidth?e.scrollWidth:0;b=e.scrollHeight?e.scrollHeight:0;q=e.offsetWidth?e.offsetWidth:0;g=e.offsetHeight?e.offsetHeight:0;i=document.body.scrollWidth?document.body.scrollWidth:0;h=document.body.scrollHeight?document.body.scrollHeight:0;c=document.body.offsetWidth?document.body.offsetWidth:0;e=document.body.offsetHeight?document.body.offsetHeight:0;q=Math.max(i,f,c,q);b=Math.max(h,b,e,g);e=S.style;e.width=q+"px";e.height=b+"px";e.position="absolute"}S=document.createElement("div");
S.id=ga;var b=S.style;b.left="0px";b.top="0px";hf?(a(),y(window,"resize",a)):(b.bottom="0px",b.right="0px",b.position="fixed");b.backgroundColor="#000000";Rd(S,"0.4");b.display="none";b.zIndex=wa;return S}function i(a){var b=document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,c=document.documentElement.scrollLeft>=document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,e=Db(),i=Eb(a),h=e.height-i.height,
e=e.width-i.width,b=b+h/2,c=c+e/2;B()&&(0>h&&(document.documentElement.scrollTop=0,document.body.scrollTop=0,b=10),0>e&&(document.documentElement.scrollLeft=0,c=document.body.scrollLeft=0),a.style.top=b+"px",a.style.left=c+"px");"absolute"!==a.style.position&&(a.style.position="absolute")}function q(){if(La){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(z)}else i(z);La||K.show()}function g(a){Va||(ma=P("number",[0,20],10,a),ra.fire({radius:cc(Qa,ma)}))}function n(a){Va||
(aa=P("color",null,"#000000",a))}function E(a){Va||(Qa=P("number",[0,20],10,a),bb.fire({radius:cc(Qa,ma),refresh:!0}))}function o(a){Va||(Ja=P("number",[0,1],0.5,a),"object"==typeof z&&Ab(z,ma,aa,Ja))}function u(){if("undefined"===typeof Ya)return!0;var a=Db();return!!Math.floor(Ya)!==!!Math.floor(a.width/a.height)}function x(){var a=Db();Ya=a.width/a.height}function Qd(a){if("portrait"===a){Wa="portrait";var b="one column"}"landscape"===a&&(Wa="landscape",b="two column");A.fire({orientation:Wa,format:b,
width:ea,height:N});u()&&q();x()}function w(a){a&&(Y=a);f&&ba&&(Y+=ma-2);"object"==typeof z&&(z.style.width=Y+"px");return this}function nc(a){a&&($=a);f&&ba&&($=$+2*ma-4);a&&"object"==typeof z&&(z.style.height=$+"px");return this}function jd(){var a=Db(),a=a.width>=a.height,b="undefined"===typeof window.orientation,a=90===window.orientation||-90===window.orientation||b&&a?"landscape":"portrait";Wa!==a&&Qd(a);q()}function B(){return"object"===typeof z&&"none"!==z.style.display}var ea=380,N=131,z,
H="janrainModal",ya,S,ga="janrainModalOverlay",V,Y=ea,$=N,ma=10,aa="#000000",Qa=10,Ja=0.5,wa=1E3,Ca=!1,qa=oc("rel/img/17c96fc4b9c8464d1c95cd785dd3120b.png"),la="",Va=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,sa=!1,Ia="Are you sure you want to quit?",Da="Yes, quit",ua="No, stay",Ua,Wa="landscape",Ga=!0,W="boolean"===typeof W?W:"number"===typeof window.orientation?!0:!1,va="boolean"===typeof va?va:janrain.settings.previewMode,La=va,Na=Na||!1,Ya,za=!1;
janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(qa=janrain.settings.capture.modalCloseImage,sa=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(la=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=X());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=X());var Ma=X(),cb=X(),bb=X(),ra=X(),A=X();Ta&&Ta.onOrientationChange&&Ta.onViewportChange&&
(Ta.onOrientationChange.addHandler(function(a){Qd(a.orientation)},!0),Ta.onViewportChange.addHandler(function(){u()&&i(z);x()},!0));"undefined"!==typeof janrain.events.onCaptureRenderComplete&&(janrain.events.onCaptureRenderComplete.addHandler(function(){B()&&(za=!0)},!0),janrain.events.onCaptureContentChange.addHandler(function(){B()&&za&&(q(),za=!1)},!0));return{isOpen:function(){return B()},setWidth:function(a){w(a);return this},setHeight:function(a){nc(a);return this},setBorder:function(a){("string"==
typeof a||"number"==typeof a)&&g(a);Va||"object"==typeof z&&Ab(z,ma,aa,Ja);return this},setBorderColor:function(a){a&&n(a);Va||"object"==typeof z&&Ab(z,ma,aa,Ja);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&E(a);Va||"object"==typeof z&&ta(z,Qa);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&o(a);return this},setZIndex:function(a){S.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(La=a);return this},setId:function(a){H=
a;z&&(z.id=a);return this},show:function(){W||(z.style.display="block");"object"==typeof ya&&Ga&&(ya.style.display="block");La?W&&(z.style.display="block"):(S.style.display="block",W?(Ta.setElement(z).activate(),z.style.display="block"):(y(window,"resize",jd),jd()));Va||bb.fire({radius:cc(Qa,ma),refresh:!1});cb.fire();janrain.events.onModalOpen.fire();$b.fire();z.focus()},close:function(a){b(a)},closeConfirm:function(){e()},refresh:function(a){Na||z.appendChild(V);a&&a.center&&q()},remove:function(){if(La){var a=
document.getElementById("previewMode");"object"===typeof V&&z.removeChild(V);"object"===typeof z&&a.removeChild(z);"object"===typeof S&&document.body.removeChild(S);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";S=z=""}else"object"===typeof V&&z.removeChild(V),"object"===typeof S&&document.body.removeChild(S),"object"===typeof z&&document.body.removeChild(z)},addContent:function(b){var c=janrain.events.onAuthWidgetContentPlaced;c&&c.fire();ya=b;if(!z){z=document.createElement("div");
z.id=H;if("number"===typeof Y||"string"===typeof Y)z.style.width=Y+"px";z.style.height=$+"px";z.style.position="absolute";Va||(z.style.padding=ma+"px",ta(z,Qa),Ab(z,ma,aa,Ja));z.style.zIndex=1E3;z.style.display="none";S=h();V=la?a("a"):a();z.appendChild(V);document.body.appendChild(S);document.body.appendChild(z)}z.appendChild(ya);La&&q();return this},getContent:function(){return ya},getBorderWidth:function(){return ma},getState:function(){return{width:Y,borderWidth:ma,borderColor:aa,borderRadius:Qa,
borderOpacity:Ja,orientation:Wa}},setState:function(a){U("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&g(a.borderWidth),"undefined"!==typeof a.borderColor&&n(a.borderColor),"undefined"!==typeof a.borderOpacity&&o(a.borderOpacity),"undefined"!==typeof a.orientation&&Qd(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&E(a.borderRadius),"object"==typeof z&&ta(z,Qa)))},setConfirmClose:function(a){Ca=a;
return this},setShowContentOnLoad:function(a){Ga=a;return this},setConfirmMessageText:function(a){Ia=a},setConfirmLinkText:function(a){Da=a},setCancelLinkText:function(a){ua=a},onClose:Ma,onShow:cb,onOrientationChange:A,onBorderRadiusChange:bb,onBorderWidthChange:ra}}function jf(a){function b(a){"janrainReadyToClose:True"===a.data&&(top.focus(),g=!0,Cb(window,"message",b))}function c(a){"janrainPopupHasClosed"===a.data&&(Cb(window,"message",c),f&&f.parentNode&&f.parentNode.removeChild(f),"function"===
typeof E&&E())}function e(){var a=window.open(h,"","top="+((window.screen.availHeight||window.screen.height)/2-q/2)+",left="+((window.screen.availWidth||window.screen.width)/2-i/2)+",width="+i+",height="+q+",status=1,location=1,resizable=1,scrollbars=1");kf&&y(window,"message",b);if(lf)y(window,"message",c),f=Ec("janrain-xdr-iframe",janrain.settings.appUrl+"/xdr_iframe");else var e=window.setInterval(function(){g&&a&&(a.close(),g=!1);if(a&&(a.closed||"undefined"===typeof a.closed)||"undefined"===
typeof a)window.clearInterval(e),"function"===typeof E&&E()},500)}var h=a,i=400,q=400,g=!1,f,E;return{show:function(){e()},setWidth:function(a){a&&(i=a);return this},setHeight:function(a){a&&(q=a);return this},setCallback:function(a){a&&(E=a);return this}}}function mf(){function a(a){"function"===typeof a&&(x=a);return this}function b(){g=[];u.innerHTML="";V(arguments,function(a,b){var c=document.createElement("button");c.className="capture_btn capture_secondary";sb(c,a);c.setAttribute("data-index",
b.toString());y(c,"click",function(a){a.index=parseInt(N(a).getAttribute("data-index"));x(a)});g.push(c);u.appendChild(c)});c(g.length-1);return this}function c(a){var b=g[w];b&&o(b).remove("capture_primary").append("capture_secondary");w=a;(b=g[w])&&o(b).remove("capture_secondary").append("capture_primary");return this}function e(){janrain.capture.ui.modal.close();return this}var h,i,g,f,n,E,u,x,w;h="Notice";i="This is a notice.";w=0;(function(){f=document.createElement("div");var a=document.createElement("div"),
b=document.createElement("h1"),c=document.createElement("h2"),e=document.createElement("div");a.className="capture_header";b.className="capture_dialog_title";c.className="capture_dialog_message";e.className="capture_footer";sb(b,h);sb(c,i);a.appendChild(b);f.appendChild(a);f.appendChild(c);f.appendChild(e);n=b;E=c;u=e;return this})();b("OK");a(e);return{open:function(){janrain.capture.ui.renderScreen("janrainDialog");var a=document.getElementById("captureDialogBuiltIn");a.innerHTML="";a.appendChild(f);
return this},close:e,setTitle:function(a){h=a;sb(n,h);return this},setMessage:function(a){i=a;sb(E,i);return this},setPrimaryIndex:c,setButtons:b,setCallback:a}}function Zd(){function a(){x=(new Date).getTime()-h;if(x<e){var a=Math.round(b()*o+f);i.style[E]=a+"px"}else clearInterval(u),i.style[E]=n+"px",N()}function b(){if("flat"==w)return x*(1/e);if("sinusoidal"==w)return Math.abs(Math.sin(x*(Math.PI/(2*e))))}function c(a){return{x:function(){var b=a.event.clientX-Je(a.boundary).x,b=b<this.boundary_x()?
b:this.boundary_x();return 0<b?b:0},boundary_x:function(){var b=a.boundary.getBoundingClientRect();return b.width||b.right-b.left}}}var e="1000",h,i,g=document,f,n,E="left",o,u,x,w="flat",N,K;return{setAcceleration:function(a){w=a;return this},setCallback:function(a){N=a;return this},setDuration:function(a){e=a;return this},setDirection:function(a){"horizontal"===a&&(E="left");"vertical"===a&&(E="top");return this},setElement:function(a){i=a;return this},setElementBoundary:function(a){g=a;return this},
startPosition:function(a){f=a;return this},endPosition:function(a){n=a;return this},animate:function(){o=n-f;h=(new Date).getTime();u=setInterval(a,10);return this},drag:function(a){var b=this;this.moveHandler=function(a){var b=c({event:a.targetTouches&&a.targetTouches.length?a.targetTouches[0]:a,boundary:g}).x();i.style.left=b+"px";dc(a);R(a);K&&clearTimeout(K);K=setTimeout(function(){N({pos_x:b})},500)};this.upHandler=function(a){b.unbindDragHandlers();dc(a);R(a)};y(document,Dc,this.moveHandler);
y(document,gd,this.upHandler);dc(a);R(a)},unbindDragHandlers:function(){Cb(document,gd,this.upHandler);Cb(document,Dc,this.moveHandler);return this}}}function Je(a){var b=curtop=0;if(a.offsetParent){do b+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:curtop}}}function X(){return new Gb}function Gb(){this.eventHandlers=[];this.firedEvents=[];this.fireCount=0}function nf(a,b){a.addHandler(b,!0);if(a.permaArgs)for(var c=0,e=a.permaArgs.length;c<e;++c)b(a.permaArgs[c])}function td(){ga(janrain.events,
function(a,b){b.eventName=a})}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=c)return-1;for(e=0<=e?e:Math.max(c-Math.abs(e),0);e<c;e++)if(e in b&&b[e]===a)return e;return-1});Array.prototype.map||(Array.prototype.map=function(a,b){if(null===this)throw new TypeError;
var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var h=Array(e),i=0;i<e;i++)i in c&&(h[i]=a.call(b,c[i],i,c));return h});Array.prototype.filter||(Array.prototype.filter=function(a,b){if(null==this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var h=[],i=0;i<e;i++)if(i in c){var g=c[i];a.call(b,g,i,c)&&h.push(g)}return h});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")});var H;H||(H={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){h.lastIndex=0;return h.test(a)?'"'+a.replace(h,function(a){var b=f[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var h,f,o,u,y=i,L,B=e[a];B&&"object"===typeof B&&"function"===typeof B.toJSON&&(B=B.toJSON(a));"function"===typeof n&&(B=n.call(e,a,B));switch(typeof B){case "string":return b(B);case "number":return isFinite(B)?""+B:"null";case "boolean":case "null":return""+
B;case "object":if(!B)return"null";i+=g;L=[];if("[object Array]"===Object.prototype.toString.apply(B)){u=B.length;for(h=0;h<u;h+=1)L[h]=c(h,B)||"null";o=0===L.length?"[]":i?"[\n"+i+L.join(",\n"+i)+"\n"+y+"]":"["+L.join(",")+"]";i=y;return o}if(n&&"object"===typeof n){u=n.length;for(h=0;h<u;h+=1)"string"===typeof n[h]&&(f=n[h],(o=c(f,B))&&L.push(b(f)+(i?": ":":")+o))}else for(f in B)Object.prototype.hasOwnProperty.call(B,f)&&(o=c(f,B))&&L.push(b(f)+(i?": ":":")+o);o=0===L.length?"{}":i?"{\n"+i+L.join(",\n"+
i)+"\n"+y+"}":"{"+L.join(",")+"}";i=y;return o}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,g,f={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!==typeof H.stringify&&(H.stringify=function(a,b,e){var h;g=i="";if("number"===typeof e)for(h=0;h<e;h+=1)g+=" ";else"string"===typeof e&&(g=e);if((n=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof H.parse&&(H.parse=function(a,b){function c(a,e){var h,i,g=a[e];if(g&&"object"===typeof g)for(h in g)Object.prototype.hasOwnProperty.call(g,h)&&(i=c(g,h),void 0!==i?g[h]=i:delete g[h]);return b.call(a,e,g)}var h,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof b?c({"":h},""):h;throw new SyntaxError("JSON.parse");})})();var n;(function(){function a(a){return function(b){if("boolean"!==typeof b)throw Error("argument must be true or false");janrain.settings.debug.tagFilter[a]=b;window.localStorage&&(localStorage.janrainDebugTagFilter=H.stringify(janrain.settings.debug.tagFilter))}}janrain.settings.debug=janrain.settings.debug||{};var b={enabled:!1,logLevel:"log",logEvents:!1,
tagFilter:{untagged:!0}};if(window.localStorage&&("true"===localStorage.janrainDebugEnabled&&(janrain.settings.debug.enabled=!0),localStorage.janrainDebugLogLevel&&(janrain.settings.debug.logLevel=localStorage.janrainDebugLogLevel),localStorage.janrainDebugTagFilter))try{janrain.settings.debug.tagFilter=H.parse(localStorage.janrainDebugTagFilter)}catch(c){}Ca(b,janrain.settings.debug);janrain.settings.debug=b;var e=function(){return function(a){if(!a||1>a.length)a="";var b=Error(a),a="Error: "+a+
" at:\n";return"string"===typeof b.stack?0===b.stack.indexOf("Error:")?b.stack:a+b.stack:"[stack trace unavailable]"}}();n=function(){function a(b){var c=b.level>=f[janrain.settings.debug.logLevel]&&janrain.settings.debug.tagFilter[b.tag];if(window.console&&c){c="#"+b.id+" "+b.message;"untagged"!==b.tag&&(c="["+b.tag+"] "+c);try{console[b.type](c)}catch(e){console[b.type](c)}}}function b(i,o){return function(){var b,u;1===arguments.length?(b="untagged",u=arguments[0]):2===arguments.length?(b=arguments[0],
u=arguments[1]):n.forceError("debug logging functions must be called with exactly 1 or 2 arguments");if(janrain.settings.debug.enabled||o)g++,u={stack:e(u),level:f[i],tag:b,id:g,type:i,date:new Date,message:u},c.push(u),a(u)}}var c=[],g=0,f={};V(["log","info","warn","error"],function(a,b){f[a]=b});return{log:b("log"),info:b("info"),warn:b("warn"),error:b("error"),forceWarn:b("warn",!0),forceError:b("error",!0),logEvents:function(){for(var a in janrain.events)"function"===typeof janrain.events[a].addHandler&&
janrain.events[a].addHandler(function(a){return function(b){n.log(a+": "+b)}}(a))},trace:function(a){var b=c[a-1];b?console.log(b.stack):console.error("No such log entry #"+a)},dump:function(){V(c,a)}}}();janrain.debug={dump:n.dump,trace:n.trace,enable:function(){window.localStorage&&(localStorage.janrainDebugEnabled="true")},disable:function(){window.localStorage&&(localStorage.janrainDebugEnabled="false")},$__UNSUPPORTED_MODULE__$:"This module is not provided for customer use, but is intended only for debugging purposes."};
V(["jtl","event","untagged"],function(b){janrain.debug["show"+(b.charAt(0).toUpperCase()+b.substring(1))]=a(b)})})();var of=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;jb=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?
document.documentElement.clientHeight:0;kb=of;var Gc=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,nd=[],id=!1,ba="CSS1Compat"!==document.compatMode,fc=!1,wa=!1,g=[],Sb="32856db";document.createElement("input");var Nc=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
Oc=null!==Nc?Nc[0]:!1,Ga="number"===typeof window.orientation||null!==Nc,Yd="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),Ee="January,February,March,April,May,June,July,August,September,October,November,December".split(","),pf=[16,20,30,32,48,50,64],Ke=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},
{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},
{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],qf=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},
{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];fb=13;we=38;ye=40;ve=37;xe=39;ue=9;Pd=27;var Pc="ontouchstart"in window;te=Pc?"touchstart":"mousedown";gd=Pc?"touchend":"mouseup";Dc=Pc?"touchmove":"mousemove";janrain.settings&&janrain.settings.storageServer&&Ec("xDomainLocalStorageJanrain",janrain.settings.storageServer,
function(){y(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){id=!0})});ra.possible="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,0,1,2,3,4,5,6,7,8,9".split(",");var sa=navigator.userAgent,f=bc(),Qc=document.documentMode,Jc=/Gecko\//.test(sa),Kc=/AppleWebKit\//.test(sa);/Chrome\//.test(sa);var lf=/CriOS\//.test(sa),ud=Hc(),rf=kd(),sf=function(a){var a=a||sa,b=a.indexOf("OS "),c=0;kd(a)&&-1<b&&(c=Number(a.substr(b+3).split(" ")[0].split("_")[0]));return c}(),kf=rf&&6===
sf&&ud,hf=function(a){a=a||sa;return/android/i.test(a)&&/linux/i.test(a)&&!/chrome/i.test(a)&&!/opera/i.test(a)&&!/firefox/i.test(a)}(),U=function(){var a=function(a){for(var b=[],g=0;g<a.length;g++)b.push(a[g]);return b},b={};janrain.settings&&janrain.settings.permissions&&(b.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(b.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!b[e]?!1:0<=b[e].indexOf(a)}}();
Fb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
$.isCloneable=function(a){return a&&(Hb(a)||u(a))};var Le=function(){var a=document.createElement("div");return function(b){b&&"string"===typeof b&&(b=b.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,""),b=b.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,""),a.innerHTML=b,b=a.textContent||a.innerText,a.innerHTML="");return b}}(),aa=function(a,b,c){aa=document.getElementsByClassName?function(a,b,c){for(var a=(b||document).getElementsByClassName(a),c=c?RegExp("\\b"+c+"\\b","i"):null,b=[],g,f=0,n=a.length;f<
n;f+=1)g=a[f],(!c||c.test(g.nodeName))&&b.push(g);return b}:function(a,b,c){var c=c||"*",b=b||document,g=a.split(" "),a=[],b="*"===c&&b.all?b.all:b.getElementsByTagName(c),c=[],f;f=0;for(var n=g.length;f<n;f+=1)a.push(RegExp("(^|\\s)"+g[f]+"(\\s|$)"));for(var n=0,o=b.length;n<o;n+=1){g=b[n];f=!1;for(var u=0,y=a.length;u<y&&!(f=a[u].test(g.className),!f);u+=1);f&&c.push(g)}return c};return aa(a,b,c)},Me=function(){return!1};n.info("Debugging mode is on. Run: \nlocalStorage.janrainDebugEnabled = false; \nin the console to turn it off.");
window.localStorage&&"true"===localStorage.janrainLocalWidgetCodeEnabled&&n.forceWarn("Local code mode is on. Run: \nlocalStorage.janrainLocalWidgetCodeEnabled = false; \nin the console to turn it off.");f&&(n.info("[ Internet Explorer ]\nVersion       : "+f+"\nDocument Mode : "+Qc),f!==Qc&&n.warn("IE version and document mode do not match! This could cause issues."));30<function(){var a=document.getElementsByTagName("style"),b=document.getElementsByTagName("link"),c=a.length;V(b,function(a){"stylesheet"===
a.rel&&c++});return c}()&&n.warn("The page has more than 30 stylsheets. IE 8 and 9 cannot load more than 32 stylesheets.");window.top!==window.self&&n.warn("The widget might be running inside a frame. Watch out for cross origin issues.");janrain.settings.custom&&n.warn("janrain.settings.custom is true. Customer must provide their own UI.");setTimeout(function(){janrain.ready||n.warn("janrain.ready is still not true after waiting for 10 seconds. The widget will not load until this is true. Check your widget loading code block.")},
1E4);for(var Ta=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,x);y=q().content;n();o();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){B(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});f()},
!1),setTimeout(f,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,f,!1)},!1));K.addHandler(function(){b({height:window.innerHeight,width:window.innerWidth},0)},!0);H.addHandler(function(a){jb=a.height;kb=a.width},!0);window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,f,!1)},!1)}function b(a,c){var e=window.innerHeight,g=window.innerWidth,f=!0,h=!0;e!=a.height&&(f=!1);g!=a.width&&(h=!1);f&&h?20>c?setTimeout(function(){b({height:e,
width:g},++c)},100):H.fire({height:e,width:g}):setTimeout(function(){b({height:e,width:g},0)},100)}function c(){setTimeout(function(){u(y)},20);e(x,document.body)}function e(a,b){for(var c=0;c<a.style.length;c++){var e=a.style[c];b.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function g(){var a;a=(0===window.orientation||180===window.orientation)&&kb>jb||(90===window.orientation||-90===window.orientation)&&jb>kb?!1:!0;var b="landscape";if(a&&(0===window.orientation||
180===window.orientation))b="portrait";if(!a&&(90===window.orientation||-90===window.orientation))b="portrait";return b}function f(){var a=g();R||u("width=device-width, initial-scale=1, maximum-scale=1");K.fire({orientation:a})}function q(){var a=document.getElementsByTagName("meta"),b;for(b in a)if("viewport"===a[b].name)return a[b];return!1}function n(){if("undefined"===typeof document.getElementsByTagName||q())return!1;var a=document.getElementsByTagName("head")[0],b=document.createElement("meta");
b.setAttribute("name","viewport");a.appendChild(b);return!0}function o(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function u(a){var b=q();if(!b||b.content==a)return!1;if("undefined"===typeof a){var c=q();document.getElementsByTagName("head")[0].removeChild(c)}b.content=a;return!0}var y,x=document.createElement("div"),w=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
N=null!==w?w[0]:!1,K=X(),H=X(),R=N?N.match(/android|\Wsilk\W/):!1,B=function(){var a=window.orientation,b={height:screen?screen.height:0,width:screen?screen.width:0},c={height:window.innerHeight,width:window.innerWidth},e=!1;return function(g,f,h){var i=!1,q=function(a,b){return a.height>=a.width&&b.height>=b.width||a.width>a.height&&b.width>b.height?!0:!1},n=a===g,o=q(f,b),u=q(h,c);if(!n&&(!o||!u))i=!0;!n&&!o&&(e=!0);i&&(e&&!q(f,h)&&(i=h.height,h.height=h.width,h.width=i),jb=h.height,kb=h.width);
a=g;b={height:f.height,width:f.width};c={height:h.height,width:h.width}}}();return{setElement:function(){return this},onOrientationChange:K,onViewportChange:H,getMobileDevice:function(){return N},getOrientation:function(){return g()},activate:function(){a()},deactivate:function(){c()},isAndroid:function(){return R}}}(),oc=function(a){var b;b="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";b=b.replace(/\/$/,"");return b+"/"+a},vd={openId:{blogger:{identifier:"blogger",
flow:"openid1",width:800,height:600,color:"#FF6600",friendlyName:"Blogger"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368",friendlyName:"LiveJournal"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000",friendlyName:"Netlog"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b",friendlyName:"WordPress"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311",friendlyName:"OpenID"}},
openId2:{aol:{flow:"aol",width:514,height:550,color:"#0FD6FF",friendlyName:"AOL"},flickr:{flow:"flickr",width:500,height:500,color:"#FF0084",friendlyName:"Flickr"},google:{flow:"google",width:500,height:450,color:"#1C69F5",friendlyName:"Google"},hyves:{flow:"hyves",width:800,height:600,color:"#659BC8",friendlyName:"Hyves"},myopenid:{flow:"myopenid",width:800,height:600,color:"#8cc63f",friendlyName:"MyOpenID"},paypal:{flow:"paypal",width:800,height:600,color:"#1A3665",friendlyName:"PayPal"},verisign:{flow:"verisign",
width:945,height:600,color:"#B8004D",friendlyName:"VeriSign"},yahoo:{flow:"yahoo",width:500,height:500,color:"#650065",friendlyName:"Yahoo!",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:640,height:480,color:"#3B5998",friendlyName:"Facebook",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,
media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",friendlyName:"Myspace",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",friendlyName:"Twitter",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",friendlyName:"LinkedIn",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333",friendlyName:"Salesforce"},orkut:{flow:"orkut",width:800,height:600,color:"#333",friendlyName:"Orkut"},vzn:{flow:"vzn",width:600,height:450,color:"#333",friendlyName:"VZnet"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333",friendlyName:"Foursquare"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333",friendlyName:"Sina Weibo"},tencentweibo:{flow:"tencentweibo",
width:800,height:650,color:"#93C5EA",friendlyName:"Tencent Weibo",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0,image:!0,media:!0}}}},qq:{flow:"qq",width:800,height:650,color:"#4BB6EE",friendlyName:"QQ",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0}}}},tumblr:{flow:"tumblr",width:950,height:550,color:"#333",friendlyName:"Tumblr"},microsoft_live_connect:{flow:"microsoft_live_connect",width:950,
height:550,color:"#333",friendlyName:"Microsoft Live Connect"},renren:{flow:"renren",width:950,height:550,color:"#333",friendlyName:"Renren"},disqus:{flow:"disqus",width:950,height:550,color:"#333",friendlyName:"Disqus"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333",friendlyName:"SoundCloud"},vk:{flow:"vk",width:950,height:550,color:"#333",friendlyName:"VK"},amazon:{flow:"amazon",width:950,height:550,color:"#FF9900",friendlyName:"Amazon"},microsoftaccount:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},instagram:{flow:"instagram",width:950,height:550,color:"#FFFFFF",friendlyName:"Instagram"},googleplus:{flow:"googleplus",width:445,height:665,color:"#D34836",friendlyName:"Google"},mydigipass:{flow:"mydigipass",width:900,height:650,color:"#D34836",friendlyName:"MYDIGIPASS.COM"},doccheck:{flow:"doccheck",width:850,height:600,color:"#D34836",friendlyName:"DocCheck"},medikey:{flow:"medikey",width:850,height:650,color:"#D34836",friendlyName:"Medikey"},
paypal_openidconnect:{flow:"paypal_openidconnect",width:600,height:600,color:"#1A3665",friendlyName:"PayPal"},xing:{flow:"xing",width:950,height:550,color:"#006567",friendlyName:"XING",shareSettings:{broadcast:{counter:{max:420,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},
mixi:{flow:"mixi",width:950,height:550,color:"#333",friendlyName:"Mixi",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,googleplus:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},fimnet:{fimnet:{flow:"fimnet",width:514,height:550,color:"#336699",friendlyName:"FiMnet"}},saml2:{samltest:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"SAML Test"},lilly:{flow:"saml2",width:910,height:565,color:"#ED1D23",friendlyName:"Lilly"},jnj:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"J&J"}}},Na={},Rc=["openId","openId2","oauth","fimnet","saml2"];0<Rc.length;){var Sc=
Rc.pop(),Tc;for(Tc in vd[Sc])Na[Tc]=vd[Sc][Tc]}var $d=[],K=function(){var a=[];return{log:function(b){var c={};c.id=a.length+1;c.message=b;a.push(c);return this},show:function(){if(0!=a.length){for(var b in a)if("undefined"!==typeof a[b].id){var c=a[b];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message):"function"===typeof console.log&&console.log("WARNING ID:"+c.id+" MESSAGE: "+c.message))}a=[]}}}}();Gb.prototype.addHandler=function(a,
b){var b=b||!1,c=this.eventName?this.eventName:"???";0<this.fireCount&&n.warn("Adding handler for event "+c+" but it has already been fired "+this.fireCount+" time(s).");"???"!==c&&0<zb.fireCount&&!1===b&&n.warn("Adding handler for event "+c+" but janrain.capture.ui.start() has already been called.");this.eventHandlers.push(a);return this.eventHandlers.length-1};Gb.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};Gb.prototype.fire=function(a){this.fireCount++;
this.eventName&&n.log("event",this.eventName);V(this.eventHandlers,function(b){try{"function"===typeof b&&b(a)}catch(c){n.forceError(c)}});a&&!0===a.save&&(delete a.save,this.firedEvents.push({event:this,args:a}))};"undefined"===typeof janrain.events&&(janrain.events={});$b=void 0;ob=void 0;zb=void 0;ob||(ob=X());$b||($b=X());zb||(zb=X());janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=X());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=X());
janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=X());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=X());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=X());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=X());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=X());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=X());(function(){function a(){if("object"!==
typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onAuthWidgetContentPlaced,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}qa(function(){return a()?
(janrain.events.onAuthWidgetLoad.fire(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Auth widget loaded poll failing. Is the auth widget loading?").start()})();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFieldsChanged,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerificationSuccess,onCaptureEmailVerificationFailed,onCaptureForgotPasswordCodeSuccess,onCaptureForgotPasswordCodeFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureInvalidToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCapturePhotoUploadSuccess,onCaptureBackplaneReady,onCaptureBackplaneInitFailed,onCaptureAutoSaveUpdate,onCaptureControlSuccess,onCaptureControlFailed,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError,onCaptureSubscriptionUpdate,onCaptureRegistrationSuccessNoLogin,onCapturePostLoginScreen,onCapturePluralItemEdit,onCapturePluralItemCreate,onCapturePluralItemDelete,onCapturePluralItemSave".split(",");
for(var Tb=0,tf=janrain.events.captureEvents.length;Tb<tf;Tb++)"undefined"===typeof janrain.events[janrain.events.captureEvents[Tb]]&&(janrain.events[janrain.events.captureEvents[Tb]]=new Gb);janrain.events.onCaptureEmailVerficationSuccess=janrain.events.onCaptureEmailVerificationSuccess;janrain.events.onCaptureControlSuccesss=janrain.events.onCaptureControlSuccess;janrain.settings.capture.oldEvents&&(janrain.events.onCaptureStartRegistration=janrain.events.onCaptureRegistrationStart,janrain.events.onCaptureStartLogin=
janrain.events.onCaptureLoginStart,janrain.events.onCaptureSuccessfulLogin=janrain.events.onCaptureLoginSuccess,janrain.events.onCaptureSuccessfulProfileSave=janrain.events.onCaptureProfileSaveSuccess,janrain.events.onCaptureFailedProfileSave=janrain.events.onCaptureProfileSaveFailed,janrain.events.onCaptureFailedLogin=janrain.events.onCaptureLoginFailed,janrain.events.onCaptureSuccessfulRegistration=janrain.events.onCaptureRegistrationSuccess,janrain.events.onCaptureFailedRegistration=janrain.events.onCaptureRegistrationFailed,
janrain.events.onCaptureSuccessfulEmailVerification=janrain.events.onCaptureEmailVerificationSuccess,janrain.events.onCaptureFailedEmailVerification=janrain.events.onCaptureEmailVerificationFailed,janrain.events.onCaptureSuccessfulSave=janrain.events.onCaptureSaveSuccess,janrain.events.onCaptureFailedSave=janrain.events.onCaptureSaveFailed,janrain.events.onCaptureFailedServerValidation=janrain.events.onCaptureServerValidationFailed);janrain.federateJSLoaded=!1;janrain.settings.capture.federate&&md(janrain.settings.capture.ssoFileUrl||
(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainsso.com":"https://d1v9u0bgi1uimx.cloudfront.net")+"/sso.js",function(){janrain.federateJSLoaded=!0}).setTimeoutLimit(1E4).setTimeoutCallback(function(){janrain.settings.capture.federate=!1}).load();(function(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,c=janrain.events.captureEvents.length;a<c;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;
return janrain.settings.capture.federate&&!janrain.federateJSLoaded||!janrain.ready?!1:!0}qa(function(){return a()?(V(janrain.settings.capture.beforeJanrainCaptureWidgetOnLoad||[],Lc),"function"===typeof janrainCaptureWidgetOnLoad&&janrainCaptureWidgetOnLoad(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Capture widget loaded poll failing. Is the capture widget loading?").start()})();td();var uf=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",
providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function b(){var a;Ra&&(mb=p());G=h();hb=x();C=document.createElement("div");C.className="janrainContent";C.style.width=T+"px";C.style.height=i()+"px";C.style.paddingLeft=v+"px";C.style.paddingRight=v+"px";C.style.boxSizing="content-box";40===db&&(C.style.paddingTop=v-1+"px");wa||(C.style.backgroundColor=Aa);wa||(C.style.border=Ja?"1px solid "+Ia:"1px solid "+Aa);
C=ta(C,O);wa||(C.style.overflow="hidden");C.style.position=Ja?"relative":"absolute";Ka=w();2==G||0==G?(Za=(new o).setSide("right").create(),$a=(new o).setSide("left").create()):(Za=(new o).setSide("top").create(),$a=(new o).setSide("bottom").create());a=z();" "!==e()&&a.appendChild(hb);if(wa){var j=L("blank");j.style.display="none";a.appendChild(j)}a.appendChild(Ka);!wa&&Za&&$a&&(a.appendChild(Za),a.appendChild($a));0<G&&Ra&&a.appendChild(mb);C.appendChild(a);U("customizable_auth_widget_styling")||
c(C);fc||K.show();setTimeout(function(){ob.fire()},0)}function c(a){function b(a){var c="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;c&&(c.cssText&&(c=c.cssText),a.style.setAttribute?a.style.setAttribute("cssText",c.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",c.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var e=a.getElementsByTagName("*"),j=0,g=e.length;j<g;j++)"janrainProviderPages"===e[j].id||"janrainSlideControl"===e[j].className||
"janrainSlideControl"===e[j].parentNode.className||b(e[j]);b(a)}function e(){if(ca&&(ca==a().twoColumn.actionText||ca==a().oneColumn.actionText||ca==a().oneRow.actionText))Ga=!1;return Ga&&ca?ca:g.translate.HEADER?g.translate.HEADER:"two column"===s?a().twoColumn.actionText:"one column"===s?a().oneColumn.actionText:"one row"===s?a().oneRow.actionText:ca}function h(){var a=s;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function i(){var a=" "===ca?0:
Oa+v,b=Ra&&"one row"!==s?Ta+v:0;return n()+a+b}function q(){var a=parseInt(Ka.style.left),b=parseInt(Ka.style.top),c;1==G?parseInt(Ka.style.height):parseInt(Ka.style.width);2==G&&(c=(T-3*v-(2==G?10:0))/G);if("one column"===s){if(" "===ca&&(b+=11,0<b||-9<=b))return 0;if(9>b)return 1;if(0<b||b>=-(Oa-(v+1)))return 0}0==G&&(c=T-100);if(0>a&&a<-c)return 1;if(0<a||a>=-v)return 0}function n(){if("two column"===s)var a=m/2;"one column"===s&&(a=m);"one row"===s&&(a=1);var b="one row"===s?0:2*a,c="one column"===
s?3*v:0;if(7===f||6===f||f&&ba){if("two column"===s&&(c=v,7===f||6===f))c=2*v;if("one column"===s&&(c=3*v,(7===f||6===f)&&!ba))c+=v;if("one row"===s&&(7===f||6===f))c=v}"one column"===s&&ab<=m&&(c=f&&ba?c+2*v:c-2*v);return Q*a+v*(a+1)+b+c}function o(){function a(){var b;i="over";var ib=q();if(0==ib&&"left"===j||0==ib&&"top"===j||1==ib&&"right"===j||1==ib&&"bottom"===j)return this.style.cursor="default",t.onclick="",!1;var g=this;setTimeout(function(){if(1===p){if("over"!==i)return!1;f&&(e.style.display=
"block");h.style.display="block";t.onclick=c;g.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");b="top"==j||"bottom"==j?parseInt(a.style.top):parseInt(a.style.left);var ib="right"===j||"bottom"===j?b-Pa:b+Pa;"top"===j||"bottom"===j?a.style.top=ib+"px":a.style.left=ib+"px";p=2}},f?50:100)}function b(){var a;i="out";var c=q();if(1==c&&"right"===j||0==c&&"left"===j||0==c&&"top"===j||1==c&&"bottom"===j)return!1;setTimeout(function(){if(2===p){if("out"!==i)return!1;f&&(e.style.display=
"none");h.style.display="none";var b=document.getElementById("janrainProviderPages");a="top"==j||"bottom"==j?parseInt(b.style.top):parseInt(b.style.left);var c="right"===j||"bottom"===j?a+Pa:a-Pa;"top"===j||"bottom"===j?b.style.top=c+"px":b.style.left=c+"px";p=1}},f?200:400)}function c(){h.style.display="none";t.style.cursor="default";u(j,function(a){B(a);p=1})}var e,j,g,h,I={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},i="",p=1,t;return{setSide:function(a){j=a;return this},
create:function(){var f;if(ab<=m)f=!1;else{f=document.createElement("div");f.setAttribute("id","janrainShim_"+j);f.style.background="black";"top"===j||"bottom"===j?(f.style.height="19px",f.style.width="100%"):(f.style.height="100%",f.style.width="17px");ua?(f.style.filter="alpha(opacity=100)",f.style.opacity=100):(f.style.filter="alpha(opacity=0)",f.style.opacity=0);f.style.position="absolute";f.style.zindex="99";if("top"===j||"bottom"===j)f.style.left="0";f.style[j]=v+"px";f.style.top="one column"!==
s?v+1+"px":"top"===j?"10px":"0px";f.style.display="none";e=f;f=document.createElement("div");f.style.backgroundColor=ua?"green":Aa;f.className="janrainSlideControllerMask";f.style.position="absolute";"one column"!==s&&(f.style.width=v+"px",f.style.height="100%",f.style.top="0px",f.style[j]="0px",f.style.borderWidth="1px","right"===j&&(!Ra||"one row"===s)&&ta(f,null,0,0,O,0),"left"===j&&(!Ra||"one row"===s)&&ta(f,null,0,0,0,O),"right"===j&&" "===ca&&ta(f,null,0,O,O,0),"left"===j&&" "===ca&&ta(f,null,
O,0,0,O));"one column"===s&&(f.style.height=v+"px",f.style.fontSize="0px",f.style.width="100%",f.style.padding="0px",f.style[j]="0px","top"===j&&" "===ca?ta(f,null,O,O,0,0):"bottom"===j&&!Ra&&ta(f,null,0,0,O,O));"one row"===s&&(f.style.height="105.5%");g=f;f=document.createElement("div");f.setAttribute("id","janrainArrow_"+j);f.style.background="url("+oc("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+I[j]+" transparent";f.style.height="19px";f.style.width="17px";f.style.position=
"absolute";if("top"===j||"bottom"===j)f.style.left=T/2+"px";f.style[j]=v+"px";f.style.top="one column"!==s?n()/2-2*v+1+"px":"top"===j?"10px":"0px";f.style.display="none";h=f;f=document.createElement("div");f.className="janrainSlideControl";f.style.backgroundColor=ua?"purple":"transparent";"one column"===s?(f.style.width=T+4+"px",f.style.left="3px","top"==j?(f.style.height=v+"px",f.style.top=Oa+v+"px"," "===ca&&(f.style.left="0px",f.style.top="0px",f.style.width=T+10+"px")):(f.style.height="20px",
f.style.bottom=(Ra?Ta+v:0)+"px",ta(f,null,0,0,O,O))):(f.style.width="right"===j?"20px":"0px",f.style[j]="0px",f.style.height=n()-(v*(" "===ca)?1:2)+"px",40===db&&"one row"===s&&"left"===j&&(f.style.left=La+"px"),"right"===j&&!Ra&&ta(f,null,0,0,O,0),"left"===j&&!Ra&&ta(f,null,0,0,0,O));f.style.position="absolute";f.style.zIndex="100";f.style.cursor="pointer";f.onmouseover=a;f.onmouseout=b;f.onclick=c;t=f;t.appendChild(g);t.appendChild(e);t.appendChild(h);f=t}return f}}}function u(a,b){var c=document.getElementById("janrainProviderPages"),
e=new Zd;if("top"===a||"bottom"===a){if(" "===ca)var j=-(n()-Q),g=0;else j=-(n()-Q-Oa-v),g=Oa+v;50===Q&&(j-=20);f&&ba&&(j+=v," "!==ca&&(g+=v));e.setElement(c).setAcceleration("sinusoidal").setDuration(100*m).startPosition(parseInt(c.style.top)).endPosition("bottom"===a?j:g).setDirection("vertical").setCallback(function(){b(a)}).animate()}else f&&ba?(j=-(T-2*v-39),"one row"===s&&(j=-(La-1*v))):(j=-(T-32),"one row"===s&&(j=-(T-24))),e.setElement(c).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(c.style.left)).endPosition("right"==
a?j:v).setDirection("horizontal").setCallback(function(){b(a)}).animate()}function p(){var a=document.createElement("div");a.style.backgroundColor=ua?"aqua":Aa;a.style.width=T+"px";a.style.height=Ta+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=v+"px";a.style.paddingRight=v+"px";a.style.paddingBottom=v+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=ra;a.style.fontFamily=Xa;ta(a,null,0,0,O,O);var b=document.createElement("div"),c=
janrain.settings.translate.POWERED_BY_PREFIX&&"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_PREFIX:"Social Login",e=janrain.settings.translate.POWERED_BY_SUFFIX&&"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_SUFFIX:" by Janrain";b.style.paddingLeft="1px";var j=document.createElement("a");j.setAttribute("href","http://janrain.com/products/engage/social-login?utm_source="+Fb(janrain.settings.appUrl).host+"&utm_medium=Partner&utm_campaign=attribution");
j.setAttribute("target","_blank");j.appendChild(document.createTextNode(c+e));b.appendChild(j);a.appendChild(b);return a}function x(){var a=document.createElement("div");a.style.backgroundColor=ua?"orange":Aa;a.className="janrainHeader";a.style.fontSize=ha+"px";a.style.color=ra;a.style.position="relative";a.style.height=Oa+"px";40===db&&(a.style.cssFloat="left");a.style.left=40===db?"-6px":"-5px";a.style.paddingLeft=v+"px";a.style.paddingRight=v+"px";a.style.paddingTop=v+"px";a.style.paddingBottom=
"0px";a.style.whiteSpace="nowrap";a.style.width=40===db?"81px":T+"px";a.style.zIndex="100";40===db?ta(a,null,O,0,0,O):ta(a,null,O,O,0,0);40===db&&(a.style.marginTop="-3px");a.style.textAlign="one column"===s?"center":"left";var b=e();ya=document.createElement("div");ya.style.paddingLeft="1px";ya.style.fontFamily=Xa;" "!==b&&ya.appendChild(document.createTextNode(b));a.appendChild(ya);return a}function z(){var a=document.createElement("div");a.id="janrainView";return a}function w(){var a,b;function c(e){e=
e.touches[0];"one column"===s?a=e.pageY:b=e.pageX}function e(c){c.preventDefault();c=c.touches[0];c="one column"===s?a-c.pageY:b-c.pageX;if(35<c||-35>c){var j;j="one column"===s?0<c?"bottom":"top":0<c?"right":"left";var f=q(),g=!0;"bottom"===j&&f+1==n&&(g=!1);"top"===j&&0==f&&(g=!1);"left"===j&&0==f&&(g=!1);"right"===j&&f+1==n&&(g=!1);g&&("one column"===s?h.style.top=parseInt(h.style.top)-c+"px":h.style.left=parseInt(h.style.left)-c+"px",u(j,function(){B()}),h.ontouchmove="")}}function j(){h.ontouchmove=
e}var g,h,i,I,n,o=G,p=[];I=N();n=wa?1:Math.ceil(ab/m);2<n&&K.log("Either reduce the number of providers, or increase the setting for providersPerPage.");h=document.createElement("div");h.setAttribute("id","janrainProviderPages");wa&&(h.className="janrainConfigureMode");h.style.paddingTop=(6===f||7===f)&&f&&ba?2*v:v+"px";if((6===f||7===f)&&!ba)h.style.paddingTop=v+4+"px";1<n&&(h.ontouchstart=c,h.ontouchmove=e,h.ontouchend=j);40===db&&"one row"===s?h.style.left=La+v+"px":f&&ba?"one column"!==s&&(h.style.left=
v+"px"):h.style.left=v+"px";40===db&&"one row"===s&&(h.style.cssFloat="left");40===db&&"one row"===s&&(h.style.marginTop="1px");"one column"===s&&(h.style.top=(f&&ba?1:0)+Oa+v+"px");"one row"!==s&&" "===ca&&(h.style.top="0px");"one column"===s&&" "===ca&&(h.style.top="0px");g=T*n;h.style.position=f&&ba&&"one column"===s?"relative":"absolute";"two column"===s&&!(ab<=m)&&(h.style.width=g+"px");"one row"===s&&(h.style.width=(!0===wa?T+v:2*T)+"px");wa&&(o=0);b=0;a=0;for(var t=0;t<n;t++){for(i=0;i<=o;i++)p[i]=
document.createElement("ul"),p[i].className="providers",p[i].id="janrainProviders_"+i,1<o&&(p[i].style.cssFloat="left"),1<o&&(p[i].style.styleFloat="left"),p[i].style.listStyleType="none",p[i].style.marginTop="0px",p[i].style.marginLeft="0px",p[i].style.marginRight="0px",p[i].style.marginBottom="0px",p[i].style.padding="0px";g=document.createElement("div");g.className="janrainPage";g.setAttribute("pageIndex",t);f&&ba&&1===n&&(g.style.width="110%");for(i=0;i<o;i++)g.appendChild(p[i]);if(wa||1>G)for(i=
0;i<=o;i++)g.appendChild(p[i]);for(var wb=I.length%2,y=wa?ab:m,x=0;x<y&&!(0==I.length);x++){if(2==o)var z=1==wb?p[I.length%2?0:1]:p[I.length%2];if(1==o||0==o)z=p[0];i=I.shift();z.appendChild(i)}h.appendChild(g)}return h}function B(a){0==q()?("left"===a&&($a.style.width=v+"px",Za.style.display="block",Za.style.width="20px"),"top"===a&&(Za.style.height=v+"px",$a.style.display="block",$a.style.height="20px")):("right"===a&&(Za.style.width=v+"px",$a.style.display="block",$a.style.width="20px"),"bottom"===
a&&($a.style.height=v+"px",Za.style.display="block",Za.style.height="20px"))}function N(){for(var a=[],b=0;b<ab;b++){var c=L(za[b],b+1);a.push(c)}if("one column"==s){var e=a.slice(0),b=function(){var a=-Infinity,b,c,j=function(){b=e[c].children[0].children[1];return void 0!==b};for(c=0;c<e.length;c++)j()&&(a=Math.max(a,b.offsetWidth));for(c=0;c<e.length;c++)j()&&(b.style.width=a+"px")};janrain.events.onModalOpen?janrain.events.onModalOpen.addHandler(b,!0):janrain.events.onAuthWidgetContentPlaced.addHandler(b,
!0);janrain.events.onCustomizationChange.addHandler(b,!0)}return a}function t(a,b){b.style.cursor="pointer";b.style.whiteSpace="nowrap";b.style.overflow="hidden";b.setAttribute("id","janrain-"+a);b.setAttribute("role","button");"one row"===s?b.style.background="transparent":("gradient"===na&&ld(b,"bottom, #eeeeee, #ffffff"),"gray"===na&&(b.style.backgroundColor="#eeeeee"),"white"===na&&(b.style.backgroundColor="#ffffff"));y(b,"mouseover",function(){bc();"one row"===s?b.style.background="transparent":
(b.style.backgroundColor="#E3E3E3",b.style.backgroundImage="")});y(b,"mouseout",function(){bc();"one row"===s?b.style.background="transparent":("gradient"===na&&ld(b,"bottom, #eeeeee, #ffffff"),"gray"===na&&(b.style.backgroundColor="#eeeeee"),"white"===na&&(b.style.backgroundColor="#ffffff"))});fc||E(b,a);return b}function L(a,b){function c(b){if(Na&&Na[a])return Na[a][b]}var e=document.createElement("li");e.style.listStyle="none";0==G&&!1===wa&&(e.style.cssFloat="left");0==G&&!1===wa&&(e.style.styleFloat=
"left");e.style.height=f&&ba?Q+2:Q+"px";if("two column"==s){var j=wa?3*v:ab<=m?0:3*v;e.style.width=6===f||bc&&ba?(T-j-4*v)/G+"px":(T-j-(2==G?10:0))/G+"px"}e.style.marginTop="0px";if("one column"==s){if(7==f||6==f)e.style.marginTop="-1px";f&&ba?e.style.marginRight="0px":e.style.width=T-v/2+"px";e.style.marginLeft="0px"}else e.style.marginRight=v+"px";0==G&&(e.style.width=Q+"px");e.style.marginBottom=(7===f||6===f||f&&ba?3:v)+"px";e.style.position="relative";0!=G&&(e.style.border="1px solid "+xa);0!=
G&&ta(e,Fa);var j=document.createElement("a"),g=document.createElement("span"),h=document.createElement("span");"undefined"!==typeof b&&(j.tabIndex=b);j.style.fontFamily="Helvetica, lucida grande, Verdana, sans-serif";j.style.fontSize="12px";j.style.lineHeight="14px";j.style.marginLeft="auto";j.style.marginRight="auto";j.href="javascript:void(0);";j.style.textDecoration="none";j.style.display="block";j.style.paddingLeft="5px";j.style.paddingRight="5px";j.style.textAlign="left";h.className="janrain-provider-text-color-"+
a;h.style.fontFamily=Xa;h.style.cursor="pointer";h.style.marginLeft="7px";h.style.textAlign="left";30==Q&&(g.className="janrain-provider-icon-24 janrain-provider-icon-"+a,g.style.marginTop="3px",h.style.marginTop="9px",h.style.verticalAlign="top",h.style.display="inline-block");50==Q&&(g.className="janrain-provider-icon-32 janrain-provider-icon-"+a,g.style.marginTop="9px",g.style.backgroundColor="transparent",h.style.marginTop="16px",h.style.fontSize="16px",h.style.lineHeight="20px",h.style.verticalAlign=
"top",h.style.display="inline-block");"one column"==s&&(j.style.textAlign="center");"two column"==s&&275>T&&(h.style.textIndent="-9999px",h.style.fontSize="0",h.style.marginLeft=0,j.style.textAlign="center");2==G&&(30==Q&&(j.style.width="auto"),50==Q&&(g.style.marginLeft="5px"));if(0==G&&(30==Q||50==Q)){var g=document.createElement("a"),i=document.createElement("span"),I=document.createTextNode(a);"undefined"!==typeof b&&(g.tabIndex=b);g.className="janrain-provider-icon-32 janrain-provider-icon-bg janrain-provider-icon-"+
a;g.style.marginTop="0px";g.href="javascript:void(0);";g.style.textDecoration="none";g.style.display="block";i.style.display="inline-block";i.style.textIndent="-9999px"}if(c("customSAML")||c("customOpenid")){var n=c("friendlyName")||"Sign In",q=document.createTextNode(n);if(1==G||2==G){if(30==Q||50==Q)g.style.backgroundImage="url("+c("largeIcon")+")",h.appendChild(q),h.style.color=c("color")||"#000000";if(15<=q.length){var o="undefined"!==typeof q.textContent?"textContent":"nodeValue";q[o]=q[o].substr(0,
15)}}if(0==G&&(30==Q||50==Q))I=document.createTextNode(n),g.style.backgroundImage="url("+c("largeIcon")+")";f&&10>f&&(g.style.backgroundImage="none",g.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+c("largeIcon")+"')")}else if("blank"!==a&&(1==G||2==G))30==Q&&(g.style.backgroundColor="transparent",h.innerHTML=Na[a].friendlyName),50==Q&&(g.style.backgroundColor="transparent",h.innerHTML=Na[a].friendlyName);6===f&&"one row"!==s&&(n=document.createElement("div"),
n.style.height=g.style.height,n.style.width="90px",n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+g.src+"')",g.style.filter="alpha(opacity=0)",n.appendChild(g),e.appendChild(n));0==G?(e.appendChild(g),g.appendChild(i),i.appendChild(I)):(e.appendChild(j),j.appendChild(g),j.appendChild(h));return t(a,e)}function R(a,b){var c=document.createElement("a"),e=g.translate.SIGN_IN_AS||"Sign in as {name}",e=e.replace("{name}",b),j=document.createElement("span"),
e=document.createTextNode(e),h=document.createElement("span");j.className="janrain-provider-text-color-"+a;c.href="javascript:void(0);";c.style.textDecoration="none";c.style.display="block";if("customopenid"===a){var I=document.createElement("span");document.createElement("span");I.className="janrain-provider-icon-32 janrain-provider-icon-"+a;I.style.backgroundImage="url("+cb.largeIcon+")";j.style.color=cb.customOpenIdProviderColor||"#000000";10>f&&(I.style.backgroundImage="none",I.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+
cb.largeIcon+"')")}else"customsaml"===a?(I=document.createElement("span"),document.createElement("span"),I.className="janrain-provider-icon-32 janrain-provider-icon-"+a,I.style.backgroundImage="url("+bb.largeIcon+")",j.style.color=bb.customSAMLProviderColor||"#000000",10>f&&(I.style.backgroundImage="none",I.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+bb.largeIcon+"')")):(I=document.createElement("span"),I.className="janrain-provider-icon-24 janrain-provider-icon-"+
a);h.style.display="inline-block";h.style.verticalAlign="top";h.style.fontFamily=Xa;var n=document.createElement("div"),m=7.5*e.length+30,q=i();n.style.fontSize="16px";n.style.height="100%";n.style.position="relative";if(0==G||120>q)15<=e.length&&(n.style.fontSize="14px",m=7*e.length+30),20<=e.length&&(n.style.fontSize="12px",m=6*e.length+30),24<=e.length&&(n.style.fontSize="10px",m=5*e.length+50),30<=e.length&&(m="undefined"!==typeof e.textContent?"textContent":"nodeValue",e[m]=e[m].substr(0,26)+
"...",m=162);n.style.width=m+"px";if(0==G||116>q)"customopenid"===a?(I=document.createElement("span"),document.createElement("span"),I.className="janrain-provider-icon-24 janrain-provider-icon-"+a,I.style.backgroundImage="url("+cb.largeIcon+")",j.style.color=cb.customOpenIdProviderColor||"#000000",f&&10>f&&(I.style.backgroundImage="none",I.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+cb.largeIcon+"')")):"SAML"===a?(I=document.createElement("span"),
document.createElement("span"),I.className="janrain-provider-icon-24 janrain-provider-icon-"+a,I.style.backgroundImage="url("+bb.largeIcon+")",j.style.color=bb.customSAMLProviderColor||"#000000",f&&10>f&&(I.style.backgroundImage="none",I.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+bb.largeIcon+"')")):(I=document.createElement("span"),I.className="janrain-provider-icon-24 janrain-provider-icon-"+a);30===Q&&(h.style.marginTop="9px",h.style.fontSize=
"12px",I.style.marginTop="3px");50===Q&&(h.style.marginTop="16px",I.className="janrain-provider-icon-32 janrain-provider-icon-"+a,I.style.marginTop="9px");"one row"===s&&30===Q&&(I.style.marginTop="-1px");h.appendChild(j);j.appendChild(e);I.style.marginRight="10px";I.style.verticalAlign="top";c.style.overflow="hidden";c.style.position="relative";c.style.height=("one row"!==s?Q:25)+"px";c.style.marginBottom="one row"===s?"-4px":"4px";"one row"===s&&(c.style.top="-4px");c.style.left="0px";f&&ba&&(c.style.marginRight=
"5px");f&&ba&&(c.style.marginLeft="3px");c.style.border="1px solid "+xa;ta(c,Fa);"customopenid"===a&&(c.style.color=Na[a].color);6===f||7===f||f&&ba?n.style.left="10px":n.style.margin="0 auto";n.appendChild(I);n.appendChild(h);0==G&&(n.style.paddingTop="2px",h.style.marginTop="6px");0==G||116>q?(c.appendChild(n),n.style.width="auto"):(50===Q&&parseInt(c.style.height),h.style.cssFloat="none",h.style.styleFloat="none",c.appendChild(I),c.appendChild(h));return t(a,c)}function E(a,b){y(a,"click",function(){H(b)})}
function H(a){var b=Na[a],c={appUrl:g.appUrl,mobileDevice:Oc,language:g.language,popup:ec,tokenUrl:Me(tc.linkAccounts)||od(g.tokenUrl||location.href,tc)||location.href,facebookPermissions:pb,forceReauth:Ua,widgetType:"auth",tokenAction:Wa,bpChannel:Qb,customOpenid:Hb,customOpenidOpxblob:g.customOpenidOpxblob,extParams:g.extParams,scopes:Va};b.name=a;new qb(b,c,function(){Ya||(Vb=setTimeout(function(){Da(b)},300))})}function S(){var a=document.createElement("div");a.style.position="absolute";a.style.top=
"0px";a.style.left="0px";a.style.width=T+"px";a.style.zIndex="102";a.style.textAlign="center";a.style.padding=v+"px";a.style.backgroundColor=Aa;a.style.height=i()-(f&&ba?0:2*v)+"px";ta(a,O);return a}function fa(a){var b=document.createElement("a"),c=document.createTextNode(g.translate.USE_ANOTHER_ACCOUNT||"switch accounts");b.setAttribute("class","janrainSwitchAccountLink");b.setAttribute("href","");b.style.fontSize="12px";b.style.fontFamily=Xa;b.style.color=ra;b.onclick=a;b.appendChild(c);return b}
function Y(){return"modal"===W?document.getElementById("janrainModal"):"embed"===W?document.getElementById("janrainEngageEmbed"):!1}function M(){var a=parseInt(C.style.width);return a=a+2*v+2}function V(){var a=Y();null!==a&&"object"===typeof C&&C.parentNode===a&&a.removeChild(C)}function $(){var a="";"object"===typeof A&&(a=A.getState());return{type:W,width:M(),fontFamily:Xa,fontSize:ha,fontColor:ra,backgroundColor:Aa,borderColor:Ia,borderRadius:O,format:s,providersPerPage:m,providers:za,buttonBackgroundStyle:na,
buttonBorderColor:xa,buttonBorderRadius:Fa,actionText:e(),showAttribution:Ra,modalState:a}}function aa(a){s=P("string",["default","two column","one column","one row"],"two column",a);"default"===s&&(s="two column");"one row"==a&&(O=P("number",[0,10],5,O));qa(ha)}function da(a){"two column"===s&&(T=P("number",[225,600],380,a));"one column"===s&&(T=P("number",[160,600],200,a));"one row"===s&&(Q=30,a=ab<=m?v*(parseInt(m)-1):v*(parseInt(m)+2),40===db&&(a+=La-v),T=Q*m+a);if(("two column"===s||"one column"===
s)&&!wa)T=T-2*v-2;f&&ba&&(T=T+2*v+2);"one row"!==s&&(Q=380<T?50:30)}function ga(b){"string"===typeof b&&(Ga=!0,ca=P("text",null,ca,b)," "===ca?O=P("number",[0,5],5,O,!0):Oa="two column"!==s?a().headerHeight-5:a().headerHeight)}function X(a){na=P("string",["gray","white","gradient"],"gradient",a)}function ia(a){xa=P("color",null,"#CCCCCC",a)}function ea(a){Aa=P("color",null,"#ffffff",a)}function la(a){"undefined"===typeof a&&(a=5);O=" "===ca||!Ra||"one row"===s?P("number",[0,5],5,a,!0):P("number",
[0,10],10,a)}function ma(a){Ra=P("boolean",null,!0,a);i();O=a?P("number",[0,10],5,O,!0):P("number",[0,5],5,O,!0)}function va(a){Ia=P("color",null,"#C0C0C0",a)}function qa(a){if("two column"===s)ha=P("number",[8,30],Ob,a);else if("one column"===s||"one row"===s)ha=P("number",[8,20],yc,a)}function Ba(a){ra=P("color",null,"#333333",a)}function sa(a){if("object"==typeof a){G=h();for(var b=0,c=a.length;b<c;b++)Na[a[b]]||(K.log(a[b]+" is not a valid provider: removing."),a.splice(b,1),--b,--c);za=a;ab=
a.length;"object"===typeof A&&A.setHeight(i()-2*v).refresh()}}function Ca(a){"two column"===s&&(m=P("number",[4,6,8],6,a));"one column"===s&&(m=P("number",[1,6],6,a));"one row"===s&&(m=Bb?ab:P("number",[4,8],6,a),da(T))}function Da(a){var b=document.createTextNode(g.translate&&g.translate.SIGNING_IN?g.translate.SIGNING_IN:"Signing in ..."),c=document.createElement("div");Ma=S(a.name);c.appendChild(b);c.style.position="absolute";c.style.marginTop="-8px";c.style.top="50%";c.style.textAlign="center";
c.style.width="100%";Ma.appendChild(c);C&&C.appendChild(Ma)}function Ea(a){return!(fc||lb||-1===za.indexOf(a))}var ua=!1,T=380,Ga=!1,Xa="Helvetica, lucida grande, Verdana, sans-serif",ha=0,ra="#666666",Aa="#ffffff",Ia="#C0C0C0",O=10,C,ya,s="two column",G,Ja,m=6,za=["aol","yahoo","openid"],ab=za.length,xa="#CCCCCC",Fa=5,na="gradient",Q=30,Oa=a().headerHeight,db=60,La=89,Ta=a().footerHeight,v=5,Pa=10,ca="Sign in using your account with",Ma,Ka,Za,$a,Ra=!0,lb=!1,fb=!1,hb,mb;return{build:b,setFormat:function(b){b&&
aa(b);"two column"!==s&&(Oa=a().headerHeight-5);"two column"===s&&(m=a().twoColumn.providersPerPage,Oa=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&ga(a);return this},setFontSize:function(a){a&&qa(a);return this},setFontFamily:function(a){a&&a&&(Xa=a);return this},setFontColor:function(a){a&&Ba(a);return this},setButtonBorderColor:function(a){a&&ia(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)Fa=P("number",[0,20],5,a);
return this},setButtonBackgroundStyle:function(a){a&&X(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&da(a);return this},refresh:function(){V();var a=Y();b();var c=gb();c&&!sb?Qa("expected_tab",c):(null!==a&&"object"===typeof C&&a.appendChild(C),"object"===typeof A&&A.setHeight(parseInt(C.style.height)+2).refresh());fc&&"object"===typeof A&&A.setHeight(parseInt(C.style.height)+2).refresh();janrain.events.onCustomizationChange.fire($());return this},remove:function(){V();
return this},setRowHeight:function(a){if(0!==h())return this;a||(a=60);oneRowHeaderHeight=P("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(Q=30,db=40);60===oneRowHeaderHeight&&(Q=30);90===oneRowHeaderHeight&&(Q=50);return this},setHeight:function(a){"object"==typeof C&&(C.style.height=a+"px");return this},setBackgroundColor:function(a){a&&ea(a);return this},setBorderColor:function(a){a&&va(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&la(a);return this},
setProviders:function(a){"object"==typeof a&&sa(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)Ca(a),"object"===typeof A&&A.setHeight(i()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&ma(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(fc=a);return this},setProviderFlow:function(a,b){return E(a,b)},triggerFlow:function(a){return H(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(lb=
a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(fb=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(wa=a,G=h());return this},embed:function(a){if((Ja=a)&&"object"==typeof C)C.style.position="relative";return this},getContentsDiv:function(){return C},getErrorPage:function(a,b){var c=document.createTextNode(b.msg),e=document.createElement("div");e.appendChild(c);e.style.color=ra;e.style.fontSize=ha+"px";e.style.width="100%";var j=S(a);j.className=
"janrainAuthErrorPage";j.appendChild(e);j.appendChild(fa(function(){C.removeChild(j);C.removeChild(Ma);Ua=!0;return!1},a));C.appendChild(j);return C},showReturnExperience:Ea,getReturnExperience:function(a,b){if(!Ea(a))return C;var c=R(a,b),e=S(a),j=document.createElement("div"),f=function(){Ua=sb=!0;C.removeChild(e);document.getElementById("janrainView").style.visibility="inherit";return!1};j.style.position="relative";j.style.top="50%";30===Q&&(j.style.marginTop="-25px");50===Q&&(j.style.marginTop=
"-35px");0==G&&(j.style.top="0",j.style.marginTop="0");e.id="janrainAuthReturnExperience";e.appendChild(j);j.appendChild(c);fb||j.appendChild(fa(f,a));C.appendChild(e);return C},getWidth:function(){return M()},getActualHeight:function(){return parseInt(C.style.height)+2},getHeight:function(){return i()-2*v},getState:function(){return $()},setState:function(b){if(U("customizable_auth_widget_styling")){var c=b.fontFamily;c&&(Xa=c);qa(b.fontSize);Ba(b.fontColor);ea(b.backgroundColor);va(b.borderColor);
"embed"===W&&b.format&&(b.format&&aa(b.format),"two column"!==s&&(Oa=a().headerHeight-5),"two column"===s&&(m=a().twoColumn.providersPerPage,Oa=a().headerHeight));if("string"==typeof b.providersPerPage||"number"==typeof b.providersPerPage)Ca(b.providersPerPage),"object"===typeof A&&A.setHeight(i()).refresh("janrainModal");X(b.buttonBackgroundStyle);ia(b.buttonBorderColor);Fa=P("number",[0,20],5,b.buttonBorderRadius);ga(b.actionText);ma(b.showAttribution);la(b.borderRadius);"embed"===W&&("string"==
typeof width||"number"==typeof width)&&da(b.width)}sa(b.providers)},showNotice:function(){Da()},removeNotice:function(){Ib(Ma)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");Ib(a)}}}function b(){var a=document.createElement("div");a.id="fb-root";document.body.insertBefore(a,document.body.firstChild);window.fbAsyncInit=function(){FB.init({appId:janrain.settings.facebookAppId,status:!0,cookie:!1,xfbml:!1,channelUrl:"/channel.html"});FB.getLoginStatus(function(a){var b=
(new w).setName(tb);a.authResponse&&window.janrain&&window.janrain.engage&&window.janrain.engage.signin&&(janrain.engage.signin.facebookAutoLoginCallback=function(a){"ok"===a.stat&&(janrain.events.onProviderLoginToken.fire({engageToken:a.token}),b.setValue("true").create())},Ia(g.appUrl+"/signin/oauth_token?provider=facebook&callback=janrain.engage.signin.facebookAutoLoginCallback&token="+a.authResponse.accessToken+"&origin_domain="+window.location.hostname))})};Ia("//connect.facebook.net/en_US/all.js")}
function c(){if("object"===typeof p)if("object"===typeof Ea){var a=p.getState();a.width=Ea.width;Ea=a}else Ea=p.getState();"object"===typeof p&&p.remove();"object"===typeof A&&A.remove();W="modal";u();"object"===typeof p&&Ea&&U("customizable_auth_widget_styling")&&p.setState(Ea);"object"===typeof A&&sc&&U("customizable_auth_widget_styling")&&A.setState(sc);"object"===typeof A&&A.show();"object"===typeof p&&p.refresh()}function e(){if("object"===typeof p){if("object"===typeof Ea){var a=p.getState();
a.borderRadius=Ea.borderRadius;a.format=Ea.format;a.width=Ea.width;Ea=a}else Ea=p.getState();sc=Ea.modalState;delete sc.orientation}"object"===typeof p&&p.remove();"object"===typeof A&&A.remove();"object"===typeof A&&(A="");W="embed";q();"object"===typeof p&&Ea&&U("customizable_auth_widget_styling")&&p.setState(Ea);"object"===typeof p&&p.refresh()}function h(){var a,b;u();b=document.getElementsByTagName("a");var c=RegExp("(\\s|^)"+g.linkClass+"(\\s|$)");for(a in b)c.test(b[a].className)&&(b[a].onclick=
o)}function i(a){var b=parseInt(janrain.settings.fontSize,10);"two column"===kb?a.setFontSize(b||Ob):a.setFontSize(b||yc)}function q(){var b=gb();p=new a;i(p);p.setBackgroundColor(Fa).embed(!0).setPreviewMode(Wb).setShowAttribution(zc).setNoReturnExperience(xb).setNoReturnExperienceSwitchAccountLink(Xb).setFormat(kb).setRowHeight(jb).setFontSize(Mb).setFontFamily(ic).setFontColor(jc).setActionText(Yb).setProviders(Ac).setProvidersPerPage(Eb).setWidth(rc).setBorderColor(Rb).setBorderRadius(vb).setButtonBorderColor(Zb).setButtonBorderRadius(Ba).setButtonBackgroundStyle(na).build();
var c=document.getElementById("janrainEngageEmbed");null===c&&(c=document.getElementById("janrainModal"));va||(b?(ma("welcome_info_name",unescape(S("welcome_info_name"))),Qa("expected_tab",b)):Ja(c,p.getContentsDiv()))}function o(){"object"===typeof A&&A.show();return!1}function u(){var b=cc(Pb,Jb),c=gb();if("undefined"===typeof b||0>b)b=5;p=new a;i(p);p.setBackgroundColor(Fa).setPreviewMode(Wb).setShowAttribution(zc).setNoReturnExperience(xb).setNoReturnExperienceSwitchAccountLink(Xb).setFontSize(Mb).setFontFamily(ic).setFontColor(jc).setActionText(Yb).setProviders(Ac).setProvidersPerPage(Eb).setBorderRadius(b).setButtonBorderColor(Zb).setButtonBorderRadius(Ba).setButtonBackgroundStyle(na).build();
if("object"!==typeof A){A=new sd;A.ready=!1;var e=A.addContent;A.addContent=function(a){A.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}A.setHeight(p.getActualHeight()).setWidth(p.getWidth()).setPreviewMode(Wb).setBorderColor(qc).setBorder(Jb).setBorderOpacity(zb).setBorderRadius(Pb);va||(c?(ma("welcome_info_name",unescape(S("welcome_info_name"))),Qa("expected_tab",c)):A.addContent(p.getContentsDiv()));A.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&p.setFormat(a.format).setWidth(200).refresh({center:!0});
"landscape"===a.orientation&&p.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh({center:!0});A.setHeight(p.getActualHeight());A.setWidth(p.getWidth())},!0);A.onShow.addHandler(function(){"object"==typeof p&&A.setWidth(p.getWidth())},!0);A.onBorderWidthChange.addHandler(function(a){"object"===typeof A&&"object"===typeof p&&(p.setBorderRadius(a.radius).refresh(),a=p.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&A.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},
!0);A.onBorderRadiusChange.addHandler(function(a){"object"===typeof p&&(p.setBorderRadius(a.radius).refresh(),a=p.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&A.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},!0)}function x(a,b){if(!U("customizable_auth_widget_styling"))return!1;if("object"===typeof p)return b(a),!0}function N(a){return x(a,function(a){p.setBackgroundColor(a).refresh()})}function R(a){return x(a,function(a){p.setBorderRadius(a).refresh()})}
function $(a){return x(a,function(a){p.setBorderColor(a).refresh()})}function aa(a){return"modal"===W?!1:x(a,function(a){p.setWidth(a).refresh({center:!0})})}function ga(a){return x(a,function(a){p.setActionText(a).refresh()})}function la(a){return x(a,function(a){p.setButtonBorderColor(a).refresh()})}function qa(a){return x(a,function(a){p.setButtonBorderRadius(a).refresh()})}function B(a){return x(a,function(a){p.setButtonBackgroundStyle(a).refresh()})}function ea(a){return"modal"==W?!1:x(a,function(a){p.setFormat(a).refresh()})}
function sa(a){return x(a,function(a){p.setProvidersPerPage(a).refresh()})}function z(a){return x(a,function(a){p.setFontFamily(a).refresh()})}function Da(a){return x(a,function(a){p.setFontSize(a).refresh()})}function ya(a){return x(a,function(a){p.setFontColor(a).refresh()})}function S(a){var b;if("single cookie"===Ma){b=w().getCookie("janrain_engage_login_data");if(!b)return;b=H.parse(b);return!b[a]?void 0:a=b[a]}if("default"===Ma)return a=w().getCookie(a),!a?void 0:a}function ua(a,b,c){var e;
if(!a||!b)return!1;c||(c=1);if("single cookie"===Ma)return(oldCookieJSON=w().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),c=H.parse(oldCookieJSON),c[a]=b,e=new w,e.setName("janrain_engage_login_data").setValue(H.stringify(c)).setDomain(window.location.hostname).setExpiration(1826).create(),!0;return"default"===Ma?(e=new w,e.setName(a).setValue(b).setDomain(window.location.hostname).setExpiration(c).create(),!0):!1}function Ga(a,b){if("expected_tab"===a&&!b){var c=S("login_tab");c&&
Ga("expected_tab",c);return!1}if(!b||"undefined"===b||"expected_tab"!==a&&"expected_user_input"!==a&&"welcome_info_name"!==a)return!1;b="welcome_info_name"===a?escape(b):b;xb?w().setName(a).remove():ua(a,b,1826)}function ra(a,b){var c={};a||(a=Bc);b||(b=Bc.appUrl);if(f&&3>Sb)return c.widget_type=a.widget_type,c.provider=a.provider,c.time=(new Date).getTime(),c=Mc(c),Ia(b+"/signin/get_login_info"+c),Sb++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);
"undefined"!==typeof Vb&&clearTimeout(Vb);"undefined"!==typeof p&&p.refresh&&p.refresh();janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a);return!1}function qb(a,b,c){var e=b.appUrl,f=janrain.settings.customSAML&&a.customSAML,g=janrain.settings.customOpenid&&a.customOpenid,e=f||"saml2"==a.flow?e+"/saml2/sso/start":e+("/"+a.flow+"/start"),h=janrain.settings.originUrl||window.location.href;b.mobileDevice&&(h="mobile");var i=b.language||"en",n=b.popup?"xdr":
"xdrsw",q=b.tokenUrl||window.location.href,o={};Bc={appUrl:b.appUrl,provider:a.name,widget_type:b.widgetType};o.language_preference=i;o.token_url=q;o.display="popup";o.widget=!0;"object"===typeof b.facebookPermissions&&(o.ext_perm=b.facebookPermissions.toString());f?o.saml_provider=a.identifier:o.openid_identifier=a.identifier;o.origin_url=h;o.provider_name=a.name;o.force_reauth=b.forceReauth;o.xdReceiver=b.appUrl+"/"+n;o.callback="none";o.widget_type=b.widgetType;o.token_action="url";janrain.settings.captureDomain&&
(o.capture_domain=janrain.settings.captureDomain);if("event"===b.tokenAction||"hybrid"===b.tokenAction)o.token_action="event";b.mobileDevice&&"hybrid"===b.tokenAction&&(o.token_action="url");b.bpChannel&&(o.bp_channel=b.bpChannel);b.extParams&&b.extParams[a.name]&&(o.ext_params=b.extParams[a.name]);b.scopes&&"object"===typeof b.scopes[a.name]&&(o.override_scopes=b.scopes[a.name].toString());b.sharingType&&(o.sharing_type=b.sharingType);h=function(b){var c=janrain.settings[b],b=a[b],c="object"===typeof c?
c[a.name]:c;return c!==b?c:b}("customOpenidOpxblob");b.customOpenid&&"string"===typeof h&&(o.opx_blob=h);e+=Mc(o);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});(function(a,b,c){if(a&&b){var c=c||1826,e=w(),j=window.janrain;j&&j.settings&&"single cookie"===j.settings.storageType?(j=H.parse(w().getCookie("janrain_engage_login_data")||"{}"),j[a]=b,e.setName("janrain_engage_login_data").setValue(H.stringify(j))):e.setName(a).setValue(b);e.setDomain(window.location.hostname).setExpiration(c).create()}})("login_tab",
a.name,1);var h;b.mobileDevice&&"event"!==b.tokenAction||!b.popup?Ia(b.appUrl+"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+encodeURIComponent(window.location.href),function(){janrain.settings.customProviderInIFrame&&(g||f)?window.location.href=e:window.top.location.href=e}):(h=new jf(e),h.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},f="";e.widget_type=b.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();f=Mc(e);"function"===typeof c&&c();Ia(b.appUrl+
"/signin/get_login_info"+f);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function ma(a,b){if(!b||"undefined"===b||"welcome_info_name"!==a)return!1}function gb(){g.noReturnExperience&&("single cookie"===g.storageType?w().setName("janrain_engage_login_data").setDomain(window.location.hostname).remove():(w().setName("login_tab").remove(),w().setName("expected_tab").remove()));return Ta.isAndroid()?S("login_tab"):S("expected_tab")}function Qa(a,b){function c(){janrain.events.onReturnExperienceFound.fire({returnProvider:b,
welcomeName:e})}var e=unescape(S("welcome_info_name")),f=function(a){var c=function(){600>a&&setTimeout(function(){f(++a)},50)};if("object"!==typeof p)return c(),!1;"modal"===W?A.addContent(p.getReturnExperience(b,e)):"embed"===W&&(Ja(document.getElementById("janrainEngageEmbed"),p.getReturnExperience(b,e)),p.showReturnExperience(b)&&(document.getElementById("janrainView").style.visibility="hidden"));"modal"===W&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!b)return!1;"object"===
typeof p&&p.removeReturnExperience();Cc?c():janrain.events.onAuthWidgetLoad.addHandler(c,!0);f(0)}function Ja(a,b){a&&(a.innerHTML="");janrain.settings.capture&&(a?(a.innerHTML="",a.appendChild(b)):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?(a.appendChild(b),janrain.events.onAuthWidgetContentPlaced.fire()):(K.log('Missing container div, please place this div where you wantthe embedded widget to be displayed on your page- <div id="janrainEngageEmbed"></div>.'),
K.show());return a}function fb(a,b,c){c=c?Xd:Ca;return tc=b?c(tc,a):a}function ub(){function a(b){if(!("customsaml"===b&&!g.customSAML||"customopenid"===b&&!g.customOpenid)){var c,e;if("customsaml"===b)c="customSAMLProviderId",e=["customSAMLProviderName","customSAMLProviderColor","customSAMLLargeIcon"];else if("customopenid"===b)c="customOpenidProviderId",e="customOpenIdProviderName,customOpenIdProviderColor,customOpenidLargeIcon,customOpenidIdentifier,customOpenidFlow,customOpenidOpxblob".split(",");
else{K.log("Bad provider: "+b);K.show();return}var f=typeof g[c];if("undefined"===f||"string"===f){var j=g[c]||b;g[c]=[j];V(e,function(a){if("object"!==typeof g[a]){var b=g[a];g[a]={};g[a][j]=b}})}}}function b(a,c){var e=Y,f={customopenid:["customOpenidFlow","customOpenidIdentifier"],customsaml:["customSAMLProviderId"]};if(g[{customopenid:"customOpenid",customsaml:"customSAML"}[a]]&&U("customizable_auth_widget_styling")){"customopenid"===a&&(Hb=!0);for(var f=f[a],j=0,h=f.length;j<h;j++)if(!g[f[j]])return K.log(e({provider:a,
setting:f[j]},"Missing {| setting |}. {| setting |} is required when adding a {| provider |} provider")),K.show(),!1;var i={customsaml:{providerColor:"customSAMLProviderColor",friendlyName:"customSAMLProviderName",modalHeight:"customSAMLModalHeight",modalWidth:"customSAMLModalWidth",largeIcon:"customSAMLLargeIcon"},customopenid:{providerColor:"customOpenIdProviderColor",friendlyName:"customOpenIdProviderName",modalHeight:"customOpenidModalHeight",modalWidth:"customOpenidModalWidth",customOpenidOpxblob:"customOpenidOpxblob",
largeIcon:"customOpenidLargeIcon",flow:"customOpenidFlow",identifier:"customOpenidIdentifier"}},e=function(b){b=g[i[a][b]];return"object"===typeof b?b[c]:b},f={width:e("modalWidth")||800,height:e("modalHeight")||600,friendlyName:e("friendlyName"),color:e("providerColor"),largeIcon:e("largeIcon"),identifier:e("identifier")};"customopenid"===a?(f.flow=e("flow"),f.customOpenid=!0,f.customOpenidOpxblob=e("customOpenidOpxblob")):"customsaml"===a&&(f.customSAML=!0,f.identifier=c);Na[c]=f}}g=janrain.settings;
if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return++za,0===za%2E3&&n.error("Translations are not loading. janrain.settings.translate is undef."),setTimeout(ub,5),!1;!0===g.noProvidersCss&&!0===g.custom||(pc(hd()+"providers.css"),f&&9>=f&&pc(hd()+"providers-ie.css"));if(g.stop)return!0;Wa=g.tokenAction?g.tokenAction:Wa;if(!g.tokenUrl&&"event"!=Wa)return K.log("Missing tokenUrl.  tokenUrl is required."),K.show(),!1;Pa=g.appUrl;W=P("string",["modal","embed"],
"embed",g.type?g.type:W);va=g.multi?g.multi:va;Ya=g.custom?g.custom:Ya;Ua=g.forceReauth?g.forceReauth:Ua;Qb=g.bpChannel?g.bpChannel:Qb;pb=g.facebookPermissions?g.facebookPermissions:pb;Va=g.scopes?g.scopes:Va;hb=!!g.facebookAutoLogin;Ma=g.storageType?P("string",["default","single cookie"],"default",g.storageType):Ma;ec="boolean"===typeof g.popup?g.popup:ec;Oc&&"event"!==Wa&&(ec=!1);La=g.returnExperienceTimeout?g.returnExperienceTimeout:La;va&&(setTimeout(function(){var a=gb();if(a)ma("welcome_info_name",
unescape(S("welcome_info_name"))),Qa("expected_tab",a),document.getElementById("janrainView").style.visibility="hidden";else if(a=function(){if("modal"===W)A.addContent(p.getContentsDiv());else if("embed"===W){var a=document.getElementById("janrainEngageEmbed");Ja(a,p.getContentsDiv())}"undefined"!==typeof b&&ob.removeHandler(b)},p)a();else var b=ob.addHandler(a)},La),Ia(g.appUrl+"/signin/get_cookies"));a("customopenid");a("customsaml");g.customOpenid&&V(g.customOpenidProviderId,function(a){b("customopenid",
a)});g.customSAML&&V(g.customSAMLProviderId,function(a){b("customsaml",a)});if(Ya)return!0;Wa=g.tokenAction?g.tokenAction:Wa;Jb=U("customizable_auth_widget_styling")?g.modalBorderWidth:Jb;qc=U("customizable_auth_widget_styling")?g.modalBorderColor:qc;Pb=U("customizable_auth_widget_styling")?g.modalBorderRadius:Pb;zb=U("customizable_auth_widget_styling")?g.modalBorderOpacity:zb;Fa=U("customizable_auth_widget_styling")?g.backgroundColor:Fa;vb=U("customizable_auth_widget_styling")?g.borderRadius:vb;
Rb=U("customizable_auth_widget_styling")?g.borderColor:Rb;kb=g.format;jc=U("customizable_auth_widget_styling")?g.fontColor:jc;Mb=U("customizable_auth_widget_styling")?g.fontSize:Mb;ic=U("customizable_auth_widget_styling")?g.fontFamily:ic;rc=U("customizable_auth_widget_styling")?g.width:rc;jb=U("customizable_auth_widget_styling")?g.rowHeight:jb;Eb=g.providersPerPage;Bb=U("customizable_auth_widget_styling")?g.providersNotPaged:Bb;Yb=U("customizable_auth_widget_styling")?g.actionText:Yb;Zb=U("customizable_auth_widget_styling")?
g.buttonBorderColor:Zb;Ba=U("customizable_auth_widget_styling")?g.buttonBorderRadius:Ba;na=U("customizable_auth_widget_styling")?g.buttonBackgroundStyle:na;zc=U("customizable_auth_widget_hide_attribution")?g.showAttribution:zc;Wb=g.previewMode;xb=g.noReturnExperience;Xb=g.noReturnExperienceSwitchAccountLink;Ac=g.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=g.translate={});if(g.customOpenid&&U("customizable_auth_widget_styling")){if(!g.customOpenidLargeIcon)return K.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),
K.show(),!1;cb={largeIcon:g.customOpenidLargeIcon,customOpenIdProviderName:g.customOpenIdProviderName||janrain.settings.translate.SIGN_IN||"Sign in",customOpenIdProviderColor:g.customOpenIdProviderColor}}if(g.customSAML&&U("customizable_auth_widget_styling")){if(!g.customSAMLLargeIcon)return K.log("Missing customSAMLLargeIcon.  customSAMLLargeIcon is required and should be the full path to an image that is 50px x 50px."),K.show(),!1;bb={largeIcon:g.customSAMLLargeIcon,customSAMLProviderName:g.customSAMLProviderName||
janrain.settings.translate.SIGN_IN||"Sign in",customSAMLProviderColor:g.customSAMLProviderColor}}g.previewMode?("modal"===W&&ac(c),"embed"===W&&ac(e)):("modal"===W&&ac(h),"embed"===W&&ac(q));ud&&y(window,"unload",function(){})}var Pa,pb,Va,hb=!1,tb="janrain_engage_facebook_auto_login",Qb,Hb=!1,Ua=!1,Wa="url",tc={},W="embed",va=!1,La=300,Ua=!1,ec=!0,Ya=!1,za=0,Ma="default",cb,bb,sc,A,Jb,qc,Pb,zb,p,Ea,Fa,vb,Rb,rc,jb,kb,Ac=[],Bb=!1,Eb,Yb,Mb,ic,jc,Zb,Ba,na,Wb,xb,Xb,zc,sb=!1,Cc=!1,Ob=18,yc=14;janrain.events.onAuthWidgetLoad||
(janrain.events.onAuthWidgetLoad=X(!0));janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=X());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=X());janrain.events.onAuthWidgetLoad.addHandler(function(){Cc=!0;var a=(new w).getCookie(tb);hb&&!a&&b()},!0);janrain.events.onProviderLoginSuccess.addHandler(function(){var a=document.getElementById("janrainAuthReturnExperience"),b=document.getElementById("janrainView");a&&(a.style.visibility="hidden");b&&
(b.style.visibility="hidden")});janrain.events.onAuthWidgetLoad.addHandler(function(){var a=S("expected_tab"),b=S("welcome_info_name");V(janrain.settings.beforeJanrainWidgetOnLoad||[],Lc);"function"===typeof janrainWidgetOnload?(V(janrain.settings.beforeJanrainWidgetOnLoad||[],Lc),Ya?(janrainWidgetOnload(),!va&&a&&b&&janrain.events.onReturnExperienceFound.fire({returnProvider:a,welcomeName:unescape(b)})):p?janrainWidgetOnload(p.getState()):janrainWidgetOnload()):n.warn("No such function 'janrainWidgetOnload'. Does 'janrainCaptureWidgetOnLoad' exist?")},
!0);for(var Vb,Sb=0,Bc,da="onAuthWidgetContentPlaced,onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),Ka=0;Ka<da.length;Ka++)"undefined"===typeof janrain.events[da[Ka]]&&(janrain.events[da[Ka]]=new Gb);janrain.events.onProviderLoginError.addHandler(function(a){if(Ya)return!0;var b=S("login_tab");if("modal"===W){var c=document.getElementById("janrainModal");
c&&c.appendChild(p.getErrorPage(b,a.err))}"embed"===W&&(c=document.getElementById("janrainEngageEmbed"))&&Ja(c,p.getErrorPage(b,a.err))},!0);ub();return{status:"loaded",logoutFacebook:function(a){if("function"!==typeof a)throw Error("janrain.engage.signin.logoutFacebook takes a callback function as its only parameter.");var b=!1,c=function(e){var f=Fb(e.origin).host,g=Fb(Pa).host;f!==g?n.forceError("Ignoring postMessage due to domain mismatch: ",e.origin+" does not match "+Pa):0===e.data.indexOf("janrainLogoutFacebook:")&&
(f=e.data.indexOf(":")+1,e=e.data.substring(f),e=H.parse(e),"ok"!==e.status&&n.forceError("Failed to log out of Facebook"),b=!0,Cb(window,"message",c),a(e))};y(window,"message",c);var e=Pa+"/widget/logout_facebook?facebookAppId="+janrain.settings.facebookAppId+"&url="+encodeURIComponent(window.location.protocol+"//"+window.location.host);Ec("janrainLogoutFacebook",e);setTimeout(function(){b||(Cb(window,"message",c),a({status:"fail",message:"Timeout attempting to log out of Facebook"}))},5E3)},appendTokenParams:function(a,
b,c){fb(a,b,c)},appendTokenParamsCumulative:function(a,b){fb(a,!0,b)},setBackplaneChannel:function(a){Qb=a},setLoginCookie:function(a,b){Ga(a,b)},loginHandler:function(a){var b=Wa;a?("ok"===a.stat&&("event"===b||"hybrid"===b||"noRedirect"===b?("undefined"!=typeof storage&&storage.set("janrainEngageAuthenticityToken",a.authenticity_token),"noRedirect"!==b&&Ia(a.redirectUrl)):(b=document.createElement("form"),b.action=a.redirectUrl,b.method="POST",janrain.settings.targetTop&&(b.target="_top"),document.body.appendChild(b),
b.submit())),"fail"===a.stat&&(a.err&&160===a.err.code?(janrain.events.onProviderLoginCancel.fire(a),"undefined"!==typeof p&&p.refresh&&p.refresh()):janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof Vb&&clearTimeout(Vb),janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a))):ra()},cancelLogin:function(a){ra(a,g.appUrl);!Ya&&p&&p.removeNotice()},removeNotice:function(){p&&p.removeNotice()},setWelcomeInfoName:function(a,b){ma(a,b)},setReturnExperience:function(a,
b){Qa(a,b)},setNoReturnExperience:function(a,b){var c;"boolean"===typeof a&&p?(p.setNoReturnExperience(a),b||p.refresh(),c=!0):c=!1;return c},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&p?(p.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&p?(p.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&p?(p.setConfigureMode(a).refresh(),a=!0):a=!1;return a},
setCustom:function(a){Ya=a},getState:function(){return"object"===typeof p?p.getState():!1},setProviderFlow:function(b,c){return!U("customizable_auth_widget_styling")?!1:a().setProviderFlow(b,c)},triggerFlow:function(b){return!U("customizable_auth_widget_styling")?!1:a().triggerFlow(b)},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):
console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+
a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var b in janrain.settings[a])"function"!==typeof janrain.settings[a][b]&&console.log(" --- --- "+b+": "+janrain.settings[a][b]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){e()},setBackgroundColor:function(a){return N(a)},setBorderColor:function(a){return $(a)},setBorderRadius:function(a){return R(a)},setWidth:function(a){return aa(a)},setActionText:function(a){return ga(a)},setFontFamily:function(a){return z(a)},
setFontSize:function(a){return Da(a)},setFontColor:function(a){return ya(a)},setFormat:function(a){return ea(a)},setButtonBorderColor:function(a){return la(a)},setButtonBorderRadius:function(a){return qa(a)},setButtonBackgroundStyle:function(a){return B(a)},setProviders:function(a){var b;"object"===typeof p&&(wa?p.setProviders(a):p.setProviders(a).refresh(),b=!0);return b},setProvidersPerPage:function(a){return sa(a)},setShowAttribution:function(a){var b;U("customizable_auth_widget_hide_attribution")?
"object"===typeof p&&p.setShowAttribution(a).refresh():b=!1;return b},refresh:function(){return p.refresh()},getWidth:function(){return p.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof A&&A.close()},create:function(){return new sd},setBorder:function(a){U("customizable_auth_widget_styling")?("object"===typeof A&&(A.setBorder(a),A.refresh({center:!0})),a=!0):a=!1;return a},setBorderColor:function(a){U("customizable_auth_widget_styling")?("object"===typeof A&&(A.setBorderColor(a),
A.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){U("customizable_auth_widget_styling")?("object"===typeof A&&(A.setBorderOpacity(a),A.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){U("customizable_auth_widget_styling")?("object"==typeof A&&(A.setBorderRadius(a),A.refresh()),a=!0):a=!1;return a}}}},vf=new function(){return{status:"not loaded"}},wf=new function(){var a;function b(d){function a(d,r){var l=d instanceof Oc?d:new Oc(d),b=r&&la(r,"merge")&&!0===r.merge,J,c;d&&
(J=l.get("id")||"auto_id_"+ra(7),l.get("id")!==J&&l.set("id",J),(c=g[J])&&b&&c.set(l.attributes),!c&&-1==f.indexOf(l)&&(f.push(l),g[J]=l,h.length=f.length));return l}function l(d){var a;d&&(a=f.indexOf(d),0<=a&&(f.splice(a,1),delete g[d.get("id")],h.length=f.length));return d}function b(d,l){for(var d=u(d)?d:[d],J=0,c=d.length;J<c;)a(d[J],l),J+=1;return h}function c(d){for(var d=u(d)?d:[d],a=0,r=d.length;a<r;)l(d[a]),a+=1;return h}function e(d){return f.filter(function(a){for(var r in d)return la(d,
r)&&a.get(r)===d[r]})}var f=[],g={},h={length:0,_models:f,_fieldsById:g};d&&b(d);return Ca(h,{get:function(d){return g[d]},getById:function(d){return g[d]},getByName:function(d){for(var d=e({name:d}),a=0,r=1,l=d.length-1;r<=l;)d[a].time<=d[r].time&&(a=r),r+=1;return d[a]},getFieldsByName:function(d){return e({name:d})},add:function(d,a){return b(d,a)},remove:function(d){return c(d)},indexOf:function(d){return f.indexOf(d)},at:function(d){return f[d]},reset:function(){return c(f)},each:function(d,
a){V(f,d,a);return h},map:function(d){return f.map(d)},where:function(d){return e(d)},addField:function(d){a(d);return h},addFields:function(d){return b(d)},removeField:function(d){l(d);return h},removeFields:function(d){return c(d)},updateField:function(d){a(d,{merge:!0});return h},update:function(d){return b(d,{merge:!0})},updateFields:function(d){return b(d,{merge:!0})}})}function c(d){var a=janrain.settings.capture.modalBorderWidth||10,l=janrain.settings.capture.modalBorderColor||"#000",b=janrain.settings.capture.modalBorderRadius||
10,c=janrain.settings.capture.modalBorderOpacity||0.5;d.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(l).setBorder(a).setBorderOpacity(c).setBorderRadius(b);return d}function e(d){if("object"!==typeof D)D=new sd,oc();else{var a=D.getContent();Wd(document.body,a)&&(a.style.display="none",document.body.appendChild(a))}ia&&ia.modal&&xc.push(ia);D=c(D);D.addContent(d).show();D.setHeight(Eb(d).height);D.setWidth(Eb(d).width).refresh({center:!0})}function g(d){function a(){Md=
!0;var r=d||U(),l=Fb(d),b=Fb(janrain.settings.capture.captureServer);"http"===b.protocol||"https"===b.protocol||(K.log("The capture server url does not have a valid protocol. Check your settings."),K.show());if(!b.host||"undefined"===b.host)K.log("The capture server url does not have a valid host. Check your settings."),K.show();d&&(Lb=l.queryKey.flow_path);Ia(r,Gc);Gb();sc();janrain.events.onCaptureLoginFailed.addHandler(function(){vc++;bb()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){vc=
0;bb()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){yc(Jd)},!0);janrain.events.onCaptureRegistrationSuccess.addHandler(function(){yc(Jd)},!0);janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var d=!1,a;for(a in oa)if("invalid"===oa[a].status){var r=oa[a].postValidationActions;if(r)for(var l in r){if(!oa[a].validation||"undefined"===typeof oa[a].validation[l])break a;for(var b in r[l])if(r[l].hasOwnProperty(b))switch(b){case "render":r[l].render.screen&&!d&&(d=
!0,(new Ka).setScreenData(r[l].render.screen,m.screens[r[l].render.screen]));break;case "setCookie":var J=r[l].setCookie.name,c=r[l].setCookie.value,e=r[l].setCookie.days;(new w).setExpiration(e).setUseLocalStorage(!0).setName(J).setValue(c).create()}}}}},!0);janrain.events.onCaptureRenderComplete.addHandler(function(){if(G){var d=xa.savedProfileMessage||"Your profile has been saved",a=aa("capture_profileSavedMessage_container",ia.div),r=a.length;if(r)for(var l=0,r=a.length;l<r;l++)a[l].innerHTML=
d,a[l].style.display="",ic(a[l]);else if(be&&(a=document.getElementById(M+be+"_defaultSavedProfileMessage")))a.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+d+"</div>",ic(a);G=!1;if(janrain.settings.capture.autoSave){for(;$d.length;)$d.pop().unbindDragHandlers();T.each(tc)}}sb()},!0);janrain.events.onCaptureContentChange.addHandler(function(){if("object"===typeof D&&D.isOpen()){D.setHeight(Eb(D.getContent()).height);var d=D.getState().width,a=Eb(D.getContent()).width;
(d=d!==a)&&D.setWidth(a);D.refresh({center:d})}},!0);janrain.settings.custom&&!ib&&ob()}function l(){ud&&!janrain.settings.capture.federateEnableSafari&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate&&!janrain.federateJSLoaded&&(janrain.settings.capture.federate=!1,Ed=!0);a()}function b(){if(!Gd){Gd=!0;var d=function(){Backplane.expectMessages("identity/login")};janrain.events.onCaptureLoginSuccess.addHandler(d,!0);janrain.events.onCaptureRegistrationSuccess.addHandler(d,
!0);janrain.events.onCaptureBackplaneReady.fire();l()}}Zb(jc());janrain.settings.capture.noStyling||(pc(hd()+"widgets.css"),Ae(hd()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&u(janrain.settings.capture.stylesheets))for(var c=janrain.settings.capture.stylesheets,e=c.length,h=0;h<e;h++)pc(c[h]),X(c[h]);if(f&&9>f&&janrain.settings.capture.conditionalIEStylesheets&&u(janrain.settings.capture.conditionalIEStylesheets)){c=janrain.settings.capture.conditionalIEStylesheets;e=c.length;for(h=
0;h<e;h++)Ae(c[h]),X(c[h])}if(Ga&&janrain.settings.capture.mobileStylesheets&&u(janrain.settings.capture.mobileStylesheets)){c=janrain.settings.capture.mobileStylesheets;e=c.length;for(h=0;h<e;h++)pc(c[h]),X(c[h])}janrain.settings.capture.backplane?(h=function(){function d(){r++;if(20<r)return da("backplanecallback not successful"),janrain.events.onCaptureBackplaneInitFailed.fire(),Gd=!0,janrain.settings.capture.backplane=!1,l(),!1;if(Gd)return clearTimeout(a),!1;var a=setTimeout(d,500)}"function"===
typeof Backplane?Backplane(b):Q=!0;var a={serverBaseURL:Sd,busName:janrain.settings.capture.backplaneBusName,replayOnPageLoad:Se};2<=parseInt(Oa,10)&&(a.block=v);Se&&2>parseInt(Oa,10)&&(a.initFrameFilter=function(d){return d});"undefined"!==typeof janrain.settings.capture.backplaneChannelExpires&&(a.channelExpires=janrain.settings.capture.backplaneChannelExpires);Backplane.init(a);Q&&"undefined"!==typeof Backplane&&b();var r=0;d()},"function"===typeof Backplane?h():Ia(Rd,h)):l()}function i(d,a,l,
b){var c=[];b&&c.push({value:"",text:b,disabled:!0});if("desc"===l)for(l=a;l>d-1;l--)c.push({value:l,text:l});else for(l=d;l<a+1;l++)c.push({value:l,text:l});return c}function q(d){d||(d=fa);return"string"===typeof d?"capture_"+d+"_":"capture_"+L(d)+"_"}function L(d){if(d!==window){var a=d.getAttribute("data-capturescreenname");if(a&&m.screens[a])return a;for(var a=aa("capture_screen_container"),l=0,b=a.length;l<b;l++)if(Wd(a[l],d))return a=a[l].getAttribute("data-capturescreenname"),d.setAttribute("data-capturescreenname",
a),a}}function U(){var d=wc,a=janrain.settings.capture.flowVersion||"HEAD",l=E()||"default",b=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=b?/^[0-9A-Fa-f]{8}(-[0-9A-Fa-f]{4}){3}-[0-9A-Fa-f]{12}$/.test(a)?P()+"/widget_data/flows/"+b+"/"+l+"/"+a+"/"+d+".js":P()+"/widget_data/flow.js:"+b+":"+d+":"+a+":"+l:P()+"/widget_data/flow.js:"+d+":"+a+":"+l}function E(){return Ga&&janrain.settings.capture.mobileFlowName?janrain.settings.capture.mobileFlowName:janrain.settings.capture.flowName}
function P(){return janrain.settings.capture.cdnUrl?janrain.settings.capture.cdnUrl:janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janraincapture.com":"https://d1lqe9temigv1p.cloudfront.net"}function X(d){x(Cd,d)||Cd.push(d);ce=Cd.length}function ba(d){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+d+"' is missing."}}function sa(d){d=N(d);wa(d)}function ta(d){var a=0,l=0,b=0,c=0;ga(oa,function(e,f){"pending"==f.status&&d===f.formId&&a++;
"invalid"==f.status&&d===f.formId&&l++;"undefined"!==typeof f.unique&&!1===f.unique&&d===f.formId&&b++;"valid"==f.status&&d===f.formId&&c++});return{pending:a,invalid:l,notUnique:b,valid:c}}function wa(d,a){var l=d.getAttribute("data-capturefield"),l=Uc.check(d,m.fields[l]),b=document.getElementById(d.id+"_errors");!l.valid&&l.reason?b&&(b.innerHTML=l.reason):b&&(b.innerHTML="");if(a)return"object"!==typeof l&&(l={valid:!0}),l}function Na(d,a){a.name||(a.name=d.getAttribute("data-capturerendererfield")?
d.getAttribute("data-capturerendererfield"):d.getAttribute("data-capturefield"));var l=q(d),b=document.getElementById(l+a.name+"_dateselectmonth"),b=b.options[b.selectedIndex].value,c=document.getElementById(l+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,l=document.getElementById(l+a.name+"_dateselectyear"),l=l.options[l.selectedIndex].value;return!b||!c||!l?!1:b+"/"+c+"/"+l}function B(d,a){if(!d)return!1;for(var l=hb(d.getElementsByTagName("input")),l=l.concat(hb(d.getElementsByTagName("select"))),
l=l.concat(hb(d.getElementsByTagName("textarea"))),b=[],a=a||!1,c={},e=!1,f,h=0,g=l.length;h<g;h++)f=l[h],(e="file"===f.type?wa(f,!0).valid:Db(f,!0,a))||b.push(f),"true"===f.getAttribute("data-capturecollection")&&!c[f.name]&&(c[f.name]=!0);janrain.events.onCaptureValidationComplete.fire({fieldsWithError:b});return 0===b.length}function ea(){}function jb(d){function a(d){R(d);(v?l:b)(d)}function l(d){R(d);q.style.display="none";v=!1}function b(){if(!v){var d=ka||eb;if(pa.getMonth()!==d.getMonth()||
pa.getFullYear()!==d.getFullYear())pa=new Date(d),j(pa)}v=!0;q.style.display="block"}function c(d){Ud(O);for(var d=parseInt(d),a=G.getFullYear();a>=H.getFullYear();--a){var r=document.createElement("option");r.setAttribute("value",a);Da(r,a);O.appendChild(r)}O.value=d}function e(){pa.setMonth(P.value);pa.setFullYear(O.value);j(pa)}function h(d){P.value=d.getMonth();d=d.getFullYear();O.value=d}function g(d){return function(a){R(a);pa.setMonth(pa.getMonth()+d);a=pa.getFullYear();(a<H.getFullYear()||
a>G.getFullYear())&&pa.setMonth(pa.getMonth()-d);j(pa)}}function F(d){d=d.getDay();return z?(d-1+7)%7:d}function i(d){ka=new Date(pa);ka.setDate(d);"object"===typeof w&&"INPUT"===w.nodeName&&(w.value=qb(S,ka));l();C(ka)}function k(d,a){return d.getDate()===a.getDate()&&d.getMonth()===a.getMonth()&&d.getFullYear()===a.getFullYear()}function n(d){return(k(d,H)||d>H)&&(k(d,G)||d<G)}function j(d){function a(d){R(d);var d=N(d),r=d.getAttribute("data-date");Q&&o(Q.parentNode).remove("capture_datePicker_selectedDate");
o(d.parentNode).append("capture_datePicker_selectedDate");Q=d;i(r)}Ud(s);if(U)h(pa);else{var r=qb(W,d);Ud(p);Da(p,r)}r=document.createElement("tr");r.className="capture_datePicker_daysOfTheWeekHeader";for(var l=0,b=x.length;l<b;l++){var J=document.createElement("th");Da(J,x[l]);r.appendChild(J)}s.appendChild(r);var c=d.getMonth(),r=new Date(d),e,d=1;r.setDate(1);e=F(r);var l=document.createElement("tr"),ja=new Date(r),f=1-e;ja.setDate(f);for(b=0;b<e;++b){var J=document.createElement("td"),g=document.createElement("a");
Da(g,ja.getDate());J.appendChild(g);J.style.textAlign="right";g.setAttribute("data-date",f);g.href="#";J.className="capture_datePicker_prevMonthDay";l.appendChild(J);n(ja)?(o(J).append("capture_datePicker_day"),y(g,"click",a)):o(J).append("capture_datePicker_day_disabled");ka&&k(ja,ka)&&(o(J).append("capture_datePicker_selectedDate"),Q=g);k(ja,E)&&o(J).append("capture_datePicker_today");ja.setDate(ja.getDate()+1);f++}for(;r.getMonth()===c;)J=document.createElement("td"),g=document.createElement("a"),
g.setAttribute("data-date",d),g.href="#",Da(g,d),n(r)?(J.className="capture_datePicker_day",y(g,"click",a)):J.className="capture_datePicker_day_disabled",ka&&k(r,ka)&&(o(J).append("capture_datePicker_selectedDate"),Q=g),k(r,E)&&o(J).append("capture_datePicker_today"),J.appendChild(g),l.appendChild(J),++e,6<e&&(e=0,s.appendChild(l),l=document.createElement("tr")),++d,r.setDate(d);b=F(r);d=new Date(r);d.setDate(d.getDate()-1);d=d.getDate()+1;if(0<b){for(b=F(r);7>b;++b)J=document.createElement("td"),
g=document.createElement("a"),J.style.textAlign="right",g.href="#",g.setAttribute("data-date",d),Da(g,r.getDate()),J.appendChild(g),J.className="capture_datePicker_nextMonthDay",l.appendChild(J),n(r)?(o(J).append("capture_datePicker_day"),y(g,"click",a)):o(J).append("capture_datePicker_day_disabled"),ka&&k(r,ka)&&(o(J).append("capture_datePicker_selectedDate"),Q=g),k(r,E)&&o(J).append("capture_datePicker_today"),r.setDate(r.getDate()+1),d++;s.appendChild(l)}}var m=d||{},q,p,rb,kc,t,s,x="Su,Mo,Tu,We,Th,Fr,Sa".split(","),
z=!1,v=rb=!1,A,C=m.callback||function(){};t=m.monthPreviousText;var D=m.monthNextText,w=m.targetElement,B=m.extraTargetElements||[],d=m.elementAttachedTo,M=m.openOnTargetElementFocus,L=m.provideOpenButton,K,I=!!m.hasCloseButton,E=new Date,H=void 0!==m.minimumSelectableDate?m.minimumSelectableDate:"1/1/"+(E.getFullYear()-100),G=void 0!==m.maximumSelectableDate?m.maximumSelectableDate:"12/31/"+(E.getFullYear()+30),U=m.monthAndYearSelectable,T=m.arrowKeyNavigation,P,O,je=void 0!==m.defaultDate?m.defaultDate:
new Date,eb=je,pa,ka=m.preSelectedDate,Q,S=m.format||"{m}/{d}/{yyyy}",W=m.calendarTitleFormat||"{month} {yyyy}";pa=new Date(eb);gb(eb)?(A=Vd(eb),eb=new Date,eb.setDate(eb.getDate()+A)):"string"===typeof eb&&(eb=new Date(eb));gb(H)?(A=Vd(H),H=new Date,H.setDate(H.getDate()+A)):"string"===typeof H&&(H=new Date(H));gb(G)?(A=Vd(G),G=new Date,G.setDate(G.getDate()+A)):"string"===typeof G&&(G=new Date(G));pb(eb)||(eb=new Date);je=new Date(eb);pb(H)||(H=new Date("1/1/"+(E.getFullYear()-100)));pb(G)||(G=
new Date("12/31/"+(E.getFullYear()+30)));"undefined"===typeof T&&(T=!0);A="January,February,March,April,May,June,July,August,September,October,November,December".split(",");m.monthNames&&12===m.monthNames.length&&(A=m.monthNames);m.weekStartsOnMonday&&(z=m.weekStartsOnMonday,rb=!0);m.daysOfWeek&&7===m.daysOfWeek.length&&(x=m.daysOfWeek,rb=!1);rb&&x.push.apply(x,x.splice(0,1));q=document.createElement("div");q.className="capture_datePicker_wrapper";m.additionalClasses&&(u(m.additionalClasses)&&(m.additionalClasses=
m.additionalClasses.join(" ")),q.className+=" "+m.additionalClasses);"object"===typeof w&&(o(w).append("capture_datePicker_targetElement"),ka&&pb(ka)&&"INPUT"===w.nodeName&&(w.value=qb(S,ka)),"undefined"===typeof d&&(d=w.parentNode));m=0;"object"===typeof d&&(o(d).append("capture_datePicker_mainTarget"),m=d.offsetHeight);Be(q,{display:"none",position:"absolute",top:m+"px",right:"0",zIndex:"100"});m=document.createElement("div");m.className="capture_datePicker_header";p=document.createElement("div");
p.className="capture_datePicker_monthAndYearDisplayDiv";rb=document.createElement("a");rb.setAttribute("href","#");rb.className="capture_datePicker_previousMonthButton capture_datePicker_monthButtons";kc=document.createElement("a");kc.setAttribute("href","#");kc.className="capture_datePicker_nextMonthButton capture_datePicker_monthButtons";m.appendChild(p);q.appendChild(m);if(U){P=document.createElement("select");O=document.createElement("select");P.className="capture_datePicker_monthSelect";O.className=
"capture_datePicker_yearSelect";for(var Y=pa.getMonth(),V=0;12>V;++V){var X=document.createElement("option");X.setAttribute("value",V);Da(X,A[V]);P.appendChild(X)}A=pa.getFullYear();c(A);P.value=Y;O.value=A;y(P,"change",e);y(O,"change",e);p.appendChild(P);p.appendChild(O)}t?Da(rb,t):o(rb).append("janrain-icon-16").append("janrain-icon-back");D?Da(kc,D):o(kc).append("janrain-icon-16").append("janrain-icon-forward");y(rb,"click",g(-1));y(kc,"click",g(1));m.appendChild(rb);m.appendChild(kc);t=document.createElement("table");
t.className="capture_datePicker_monthTable";t.style.width="100%";t.cellSpacing=0;t.cellPadding=0;s=document.createElement("tbody");t.appendChild(s);q.appendChild(t);I&&(I=document.createElement("div"),I.className="capture_datePicker_closeButton",I.style.textAlign="center",t=document.createElement("a"),t.href="#",Da(t,"Close"),y(t,"click",l),I.appendChild(t),q.appendChild(I));L&&"object"===typeof d&&(K=document.createElement("span"),K.className="capture_datePicker_openButton janrain-icon-calendar janrain-icon-16",
y(K,"click",a),d.appendChild(K));j(eb);M&&"object"===typeof w&&y(w,"focus",b);"object"===typeof w&&(y(w,"keydown",function(d){switch(d.keyCode){case ue:case fb:case Pd:l()}}),y(w,"keyup",function(){if("INPUT"===w.nodeName){var d=pd(S,w.value);pb(d)&&n(d)&&(pa=d,ka=new Date(d),j(d))}}),y(w,"blur",function(){if("INPUT"===w.nodeName){var d=pd(S,w.value);pb(d)||!n(d)?ka?(pa=new Date(ka),i(ka.getDate())):w.value="":(d=qb(S,ka),d!==w.value&&(w.value=d))}}));y(document,"click",function(d){if(v){for(d=N(d);d;){if(d===
q||d===w||d===K)return;for(var a=0,r=B.length;a<r;++a)if(d===B[a])return;d=d.parentNode}l()}});y(document,"keydown",function(d){if(v)if(d.keyCode===fb||d.keyCode===Pd)l();else if(T){var a={};a[ve]=-1;a[we]=-7;a[xe]=1;a[ye]=7;d=a[d.keyCode]||0;0!==d&&(a=ka?new Date(ka):new Date(je),a.setDate(a.getDate()+d),n(a)&&(ka=new Date(a),pa=new Date(ka),j(pa),"object"===typeof w&&"INPUT"===w.nodeName&&(w.value=qb(S,ka)),C(ka)))}});"object"===typeof d&&d.appendChild(q);f&&7>=f&&"object"===typeof d&&Be(d,{position:"relative",
zIndex:1});return{show:b,hide:l,setSelectedDate:function(d){"object"===typeof d&&"function"===typeof d.getMonth&&(ka=new Date(d),pa=new Date(d),j(d));return this},getSelectedDate:function(){return ka}}}function z(){}function kb(d){var a=Ba(),d=za({flow_control:d,token:C,capture_transactionId:a});wb("/widget/control.jsonp",d);na(a)}function ya(d){var a=document.getElementById("captureIFrame_"+d);"yes"!==a.getAttribute("data-captureiframeloadeventbound")&&(a.setAttribute("data-captureiframeloadeventbound",
"yes"),y(document.getElementById("captureIFrame_"+d),"load",ma))}function S(d,a,l){if(!u(d)&&!a)return!1;u(d)||(d=[]);var b=d.length,c,e=new Ka,f="",g=[],h=document.getElementById(l+a);if(!h)return!1;for(a=0;a<b;a++)if(c=m.fields[d[a]])c.fieldPrefix=l,c.name=c.elementName=d[a],f+=e.renderField(c),g.push(c.name);if(!f.length&&h)return h.innerHTML="",!1;h.innerHTML=f;a=0;for(b=g.length;a<b;a++)(d=document.getElementById(l+g[a]))&&y(d,"blur",Ab)}function sb(){for(var d=ia.div.getElementsByTagName("select"),
a=d.length,l=0;l<a;l++)d[l].getElementsByTagName("option")[d[l].selectedIndex].disabled&&(o(d[l]).append("capture_disabled"),y(d[l],"change",function(){o(this).remove("capture_disabled")}))}function Gb(){y(document.body,"click",function(d){var a=N(d),a=[tb(a,"A"),tb(a,"BUTTON")];V(a,function(a){if(a){var r=janrain.settings.capture.logoutLinksClass||"capture_end_session";o(a).has(r)&&(vb(),R(d));r=a.getAttribute("data-capturescreen");a=a.getAttribute("data-captureuseruuid");r&&(a?Kc(r,a):(Xa=!0,janrain.capture.ui.renderScreen(r)),
R(d))}})})}function ob(){janrain.events.onProviderLoginToken.addHandler(function(d){if(d.janrainWidgetParameters&&d.janrainWidgetParameters.widget_type&&"share"===d.janrainWidgetParameters.widget_type)return!1;if(d.linkAccounts)fc(Ca({provider:d.janrainWidgetParameters.provider},d));else{janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience,!0);xd&&(uc=Aa);Aa=d.token;ia.values=j(ia.div.id);xc.push(ia);var d=Ma(d.keepMeLoggedIn),a=d.capture_transactionId;
wb("/widget/token_url.jsonp",d);na(a);xd&&(xd=!1)}},!0);ib=!0}function fc(d){k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:d.currentScreen,needsResponse:!0,callback:function(){d.callback&&d.callback();janrain.events.onCaptureProfileLink.fire({provider:d.provider,authProfile:Te})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",
elementValue:d.token}]})}function ma(d){var d=N(d),a=d.getAttribute("data-transactionId"),l=H.parse(d.getAttribute("next"));if("formClicked"===d.className){if(janrain.settings.capture.transactionTimeout&&x(ie,a))return!1;$b(a,l)}}function $b(d,a){wb("/widget/get_result.jsonp",{transactionId:d,cache:(new Date).getTime()},function(){qa(function(){if(Ld[d]){Wb(d);var l=Ld[d];"success"===l.status?a&&Qb(a):da("there was a problem with the response",l);return!0}return!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){da("could not find transaction status");
n.warn("poll for transaction status failed. transaction id: "+d);return!1}).start()})}function Qa(d,a){var l=N(d).getAttribute("id").split("_")[3],b=N(d),c=q(b),e=b.parentNode,f=o(e).has("capture_tab_toggle"),g=f?"capture_tab_toggle":"capture_radio_toggle",b=b.getAttribute("data-capture-tab-index");(new w).setUseLocalStorage(!0).setName("janrainCaptureSelectedTab").setValue(b).create();for(b=0;b<a.collection.length;b++)a.collection[b].elementName!==l&&(document.getElementById(c+a.collection[b].elementName).style.display=
"none");for(var g=aa(g,document.getElementById(c+a.elementName)),h=g.length,b=0;b<h;b++)o(g[b]).remove("capture_toggled");o(e).append("capture_toggled");document.getElementById(c+l).style.display="block";janrain.events.onCaptureContentChange.fire();f&&R(d)}function Ja(d,a,l,b){l=b?H.stringify(b):l;na(a);d.className="formClicked";d.setAttribute("next",l);janrain.settings.capture.transactionTimeout&&setTimeout(function(){-1===Ra.indexOf(a)&&(-1===ie.indexOf(a)&&ie.push(a),janrain.events.onCaptureTransactionTimeout.fire({transactionId:a}))},
janrain.settings.capture.transactionTimeout)}function ac(){var d,a,l,b,c,e,f=!1;return{setIframe:function(a){d=a;return this},setTransactionId:function(d){a=d;return this},setNext:function(d){l=d;b=H.parse(l);return this},setForm:function(d){c=d;return this},setEvent:function(d){e=d;return this},dontSubmit:function(){return b?b.dontSubmit:!1},process:function(){a:if(b.conditional){for(var g=b.conditional,h=g.length,k=0;k<h;k++){var i;b:{i=g[k];var n=m.fields[i.field],n=q(c)+(n.elementId||n.elementName),
n=document.getElementById(n);switch(i.compare){case "=":if(n.value===i.value){i=!0;break b}}i=void 0}if(i){f=g[k];break}}f?f.nosubmit?(R(e),Qb(f.next)):Ja(d,a,l,f.next):Ja(d,a,l)}else if(b.dontSubmit){R(e);if(b.storeValues){g=aa("capture_focused");He(g);if(!B(c))break a;g=ta(c.id);if(0<g.notUnique||0<g.pending||0<g.invalid)break a;j(c.id,!0)}Qb(b)}else Ja(d,a,l)}}}function ub(d){var a=N(d),l=a&&a.id?a.id:"",b=N(d).getAttribute("data-transactionId"),c=document.getElementById("captureIFrame_"+b),e=
aa("capture_focused"),g=!1;a.getAttribute("next")||a.setAttribute("next",'{"noop":""}');var h=a.getAttribute("next"),i=new ac;i.setNext(h);i.dontSubmit()&&(g=!0);if(0<e.length&&f&&g&&ke){var k={},m;for(m in d)k[m]=d[m];setTimeout(function(){Ie(a);ub(k)},0)}else{ke=!0;if(!g&&("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate"))){mb||bc(a);ia.values=j(ia.div.id);if(B(a)){He(e);var o=!1;(function(){qa(function(){var b=ta(l);if(0<b.invalid)return R(d),
mb||Va(a),!0;if(0===b.pending)return o&&a.submit(),!0;R(d);o=!0;return!1}).setDelay(50).setMaxAttempts(400).setFailCallback(function(){n.warn("Poll to check form validations failed. Form id: "+a.id);R(d)}).start()})()}else return mb||Va(a),R(d),!1;o||(e=df(a),h=nd(),e.parentNode.insertBefore(h,e),e.style.display="none")}g&&R(d);i.setIframe(c).setTransactionId(b).setForm(a).setEvent(d).process()}}function bc(d){for(var d=cc(d),a=0,l=d.length;a<l;a++)le.clearPlaceHolder(d[a])}function cc(d){for(var a=
[],l=hb(d.getElementsByTagName("input")),l=l.concat(hb(d.getElementsByTagName("textarea"))),d=0,b=l.length;d<b;d++)l[d].getAttribute("placeholder")&&l[d].getAttribute("placeholder").length&&a.push(l[d]);return a}function Va(d){for(var d=cc(d),a=0,l=d.length;a<l;a++)le.restorePlaceHolder(d[a])}function Ab(d){ke=!1;d=Pa(d);Db(d,!1)}function Db(d,a,l){if(d.type&&("hidden"===d.type||"submit"===d.type||"file"===d.type)||!d.getAttribute("data-capturefield"))return!0;var b=d.getAttribute("data-capturerendererfield")?
m.fields[d.getAttribute("data-capturerendererfield")]:m.fields[d.getAttribute("data-capturefield")],c=d.getAttribute("data-capturerendererchildfieldname"),e=c?b.elementName+"["+c+"]":b.elementName,f=q(d),g,h;g=!1;if(b.validation)g=(g=b.validation[c])&&g.required?g.required:!1,h=b.validation.required||g;else return!0;g=d.id||d.name;if(!d.value&&!h)return delete oa[g],!0;if(oa[g]&&oa[g].status&&"pending"===oa[g].status||b.validation.type&&"server"===b.validation.type||c&&!b.validation[c]&&"dateselect"!==
b.type)return!0;oa[g]=oa[g]||{};oa[g].element=d;oa[g].formId=d.form&&d.form.id?d.form.id:"";oa[g].status="pending";oa[g].postValidationActions=b.validation.actions||null;c="multiCheckbox"===b.element||"multiRadio"===b.element?document.getElementById(f+"form_collection_"+b.elementName):"dateselect"===b.type?document.getElementById(f+"form_item_"+b.name):document.getElementById(f+"form_item_"+e);l||o(c).append("capture_validating");e=new k.validation;e.setParentDiv(c);e.setElement(d);d=Uc.check(d,b,
a);d.validation&&(e.setValidation(d.validation),oa[g].validation=d.validation);d.valid?(g=!0,l||(e.valid(b.validation.hideValidated),o(c).remove("capture_validating"))):d.pending?(l||e.pending(),g=!0):(g=!1,l||(e.notValid(d.reason,d.type),o(c).remove("capture_validating")));return g}function Qb(d){xc.push(ia);if(d.noop)return!1;d.url&&(window.location.href=d.url);d.screen&&(new Ka).setScreenData(d.screen,m.screens[d.screen]);if(d.action&&ia)janrain.capture.ui[d.action]();if(d["function"]&&"function"===
typeof he[d["function"]])he[d["function"]]()}function Tb(d,a){var l={linkAccounts:!0,currentScreen:d,capture_transactionId:Ba()};janrain.engage&&janrain.engage.signin?(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams(l,!0),janrain.engage.signin.triggerFlow(a)):console.log("Authentication widget not loaded on the page.")}function Ua(){if(0===me)return!1;var d=(new Date).getTime()-me,d=Math.floor(d/1E3);if(60>d)return d+" seconds ago";d=Math.floor(d/60);if(1==
d)return d+" minute ago";if(59>d)return d+" minutes ago"}function Wa(d){lc=!0;d=document.getElementById(d);y(d,"submit",function(){Ue=(new Date).getTime()});clearInterval(Ve);Ve=setInterval(function(){if(!lc)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:Ua()})},Td)}function tc(d){if(d){var a=document.getElementById(d.get("id")),l=d.attributes;if(a&&("value"in l&&la(l,"value")&&Ue<d.time&&("radio"===a.type||"checkbox"===a.type?(d=tb(a,"form").id,d=document.forms[d][a.name],
d.length&&(d=Ce(d,{value:l.value})[0]),d.checked=l.checked):a.value!==l.value&&(a.value=l.value)),l.valid&&(d=qd(a,"capture_form_item"))&&o(d).append("capture_validated"),l.focused)){var b=function(){if(this.setSelectionRange){var d=this.value.length+1;this.setSelectionRange(d,d)}else this.value=this.value;setTimeout(function(){Cb(a,"focus",b)},10)};y(a,"focus",b);a.focus()}}}function W(d){d=N(d);""!==d.name&&va(d)}function va(d){setTimeout(function(){var a={id:d.id,name:d.name,value:d.value};if("radio"===
d.type||"checkbox"==d.type)a.checked=d.checked;T.update(a);janrain.settings.capture.autoSave&&La(d)},0)}function La(d){clearTimeout(dd);return dd=setTimeout(function(){if(Wd(document.body,d)){var a=tb(d,"form").id,a=document.getElementById(a);if(lc&&B(a,!0)){mb||bc(a);a.submit();a.getAttribute("next");var l=a.getAttribute("data-transactionId"),b=document.getElementById("captureIFrame_"+l);(new ac).setIframe(b).setTransactionId(l).setNext('{"noop": ""}').setForm(a).setEvent(null).process()}}},Xd)}
function ec(d){d=N(d);d.tagName.match(/select/i)&&clearTimeout(dd);T.update({id:d.id,focused:!0})}function Ya(d){var a=N(d).id;setTimeout(function(){var d=T.get(a);d&&d.get("focused")&&d.set("focused",!1)},0)}function za(d,a){var l=Ca({js_version:Sb,capture_screen:fa,flow:m.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:zd,settings_version:ab,locale:wc},d||{});janrain.settings.capture.backplane&&
"undefined"!==typeof Backplane&&(l.bp_channel=Backplane.getChannelID());Lb&&(l.flow_path=Lb);if(u(a))for(var b=0,c=a.length;b<c;b++)l.hasOwnProperty(a[b])&&delete l[a[b]];return l}function Ma(d){var a=za({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",capture_transactionId:Ba()});Aa&&(a.token=Aa);uc&&(a.merge_token=uc,uc=null);d&&"true"===d&&(a.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(a.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&
"object"===typeof janrain.settings.capture.dataDefaults){var d=janrain.settings.capture.dataDefaults,b;for(b in d)d.hasOwnProperty(b)&&"undefined"===typeof a[b]&&(a[b]=d[b])}return a}function cb(d){(new w).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(d).create()}function bb(){(new w).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(vc).create()}function sc(){var d=new w;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainFailedLogins",
function(d){gb(d)&&(vc=parseInt(d,10))}):(d=d.getCookie("janrainFailedLogins"),gb(d)&&(vc=parseInt(d,10)))}function A(){var d=36E5*Ne+(new Date).getTime();return(new Date((new Date).setTime(d))).toUTCString()}function Jb(){clearTimeout(ne);ne=setTimeout(Pb,1E4)}function qc(){if(janrain.settings.capture.federate&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d,a;cookie=new w;cookie.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)cookie.getCookie("janrainCaptureTokenRefresh",
function(b){b&&(a=new Date,d=new Date(b),a.getTime()>d.getTime()?(n.info("SSO refresh_token, token needs refreshing, multi domain localStorage"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):Jb())},!1);else{var b=cookie.getCookie("janrainCaptureTokenRefresh",null,!1);b&&(a=new Date,d=new Date(b),a.getTime()>d.getTime()?(n.info("SSO refresh_token, token needs refreshing"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):Jb())}}}function Pb(){if(janrain.settings.capture.federate&&
!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d=new w;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureToken",function(d){d?qc():(n.info("SSO refresh_token, no token exists, multi domain localStorage"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}):d.getCookie("janrainCaptureToken")?qc():(n.info("SSO refresh_token, no token exists"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}}
function Dc(d){var a=new w;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(d);janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.create()}function p(){var d=new w;d.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");janrain.settings.capture.cookieDomain&&d.setDomain(janrain.settings.capture.cookieDomain);d.remove()}function Ea(){var d=new w;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureTemporaryToken",
function(d){d&&(Fa(d),p())}):d.getCookie("janrainCaptureTemporaryToken")&&(Fa(d.getCookie("janrainCaptureTemporaryToken")),p())}function Fa(d,a,b){var c=A();C=d;a?(janrain.settings.capture.federate&&Pb(),janrain.events.onCaptureSessionCreated.fire({accessToken:d}),janrain.events.onCaptureSessionFound.fire({accessToken:d})):(a=new w,a.setExpirationDirectly(c).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(C),n.info("token set: "+C),n.info("token expires: "+c),janrain.settings.capture.cookieDomain&&
a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&(c=new w,a=36E5*Ne-6E5+(new Date).getTime(),a=(new Date((new Date).setTime(a))).toUTCString(),c.setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),n.info("refresh token at: "+a),janrain.settings.capture.cookieDomain&&c.setDomain(janrain.settings.capture.cookieDomain),c.create(),Pb()),O&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:d}),O=!1),b?(n.info("create capture session from Federate refresh"),
janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:d})):janrain.events.onCaptureSessionCreated.fire({accessToken:d}))}function vb(d){var a=new w,b=Ba(),c="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){},e=function(){janrain.capture.ui.federateLogoutCallbackFired(b,c)};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);
a.remove();d||(C="");janrain.settings.capture.keepProfileCookieAfterLogout||(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.remove());janrain.settings.capture.backplane&&"function"===typeof Backplane&&Backplane.resetCookieChannel();m&&Bc(m,!0);janrain.settings.capture.federate?(clearTimeout(ne),JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},
e),function(){qa(function(){return x(Od,b)}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){n.warn("Poll for check federate callback called failed. ssoLogoutTransactionId: "+b);da("federatecallback not successful");Od.push(b);c();janrain.settings.capture.federate=!1;n.warn("janrain.settings.capture.federate set to false");return!1}).start()}()):Ed&&c();janrain.events.onCaptureSessionEnded.fire()}function Rb(){var d=new w;d.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)d.getCookie("janrainCaptureToken",
function(d){d?Fa(d,!0):janrain.events.onCaptureSessionNotFound.fire();Kb=!0});else{if(d.getCookie("janrainCaptureToken"))return Fa(d.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function rc(d){n.info("fire Federate delayed events");var a=Ld[d];if(d=a.fireEvent)u(d)||(d=[d]),ga(d,function(d,b){janrain.events[b]&&("onCaptureLoginSuccess"===b&&Kd||janrain.events[b].fire(a))})}function Ec(d,a){n.info("set Federate login");JANRAIN.SSO.CAPTURE.set_login({code:d,
transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});n.info("SSO set_login at "+new Date);(function(){qa(function(){return Ub[a]&&Ub[a].setLoginSuccess}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){n.warn("Poll for set federate login failed. transactionId: "+a);da("set login not successful");Ub[a].eventFiredDueToSlowResponse=!0;rc(a);janrain.settings.capture.federate=!1;Ed=!0;n.warn("janrain.settings.capture.federate set to false");return!1}).start()})()}
function Fc(d){n.info("check Federate for session at "+new Date);d||(d={});var a=Ba(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:d.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:H.stringify(za({capture_transactionId:a},["client_id"])),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",
xd_receiver:janrain.settings.capture.federateXdReceiver,refresh:!1};janrain.settings.capture.federateSegment&&(b.segment=janrain.settings.capture.federateSegment);janrain.settings.capture.federateSupportedSegments&&u(janrain.settings.capture.federateSupportedSegments)&&(b.supported_segments=janrain.settings.capture.federateSupportedSegments.join("-"));janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b.bp_channel=Backplane.getChannelID());var c=new w;c.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?
c.getCookie("janrainCaptureTokenRefresh",function(d){d?(currentTime=new Date,expireTime=new Date(d),currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?(b.refresh=!1,n.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false, multi domain localStorage")):(b.refresh=!0,n.info("token refresh expired, Federate refresh is true, multi domain localStorage")):(b.refresh=!1,n.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||
(b.refresh=!0,c.setExpiration(1/24/60).setName("federateLimitRefresh").setValue("true").create()),n.info("no token refresh time found, force Federate refresh true, multi domain localStorage"))},!1):(d=c.getCookie("janrainCaptureTokenRefresh",null,!1))?(currentTime=new Date,expireTime=new Date(d),currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?(b.refresh=!1,n.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false")):(b.refresh=
!0,n.info("token refresh expired, Federate refresh is true")):(b.refresh=!1,n.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||(b.refresh=!0,c.setExpiration(1/24/60).setName("federateLimitRefresh").setValue("true").create()),n.info("no token refresh time found, force Federate refresh true"));n.info("SSO check_login at "+new Date);JANRAIN.SSO.CAPTURE.check_login(b);na(a);(function(){qa(function(){return-1<Ra.indexOf(a)}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){n.warn("Poll for check federate login failed. transactionId: "+
a);da("check login not successful");janrain.settings.capture.federate=!1;n.warn("janrain.settings.capture.federate set to false");Ed=!0;Rb();Kb=!0;return!1}).start()})()}function Ac(){k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/otp_signin",name:"janrainOTPPost",needsResponse:!0,fieldPrefix:"janrain_otp_",fields:[{elementType:"hidden",elementName:"jr_otp",elementValue:Ha.jr_otp}]})}function Gc(){if(janrain.settings.capture.redirectFlow&&"transactionId"in
mc)location.hash=location.hash.replace(RegExp("[&,]*transactionId="+mc.transactionId),""),Rb(),Kb=!0,$b(mc.transactionId);else if(Ha.capture_complete_social_registration)Kb=!0,Fa(Ha.capture_complete_social_registration);else if(janrain.settings.capture.federate)Fc(),Ha.jr_otp&&Ac();else{Ha.jr_otp&&Ac();var d;mc.access_token?(O=!0,Fa(mc.access_token),d=!0):d=!1;if(d||Rb())return Kb=!0,!1;janrain.settings.multiDomainLocalStorage||(Kb=!0)}}function Hc(d,a){var b=d["if"].compare;if(!b||0>b.indexOf(":"))return!1;
switch(b.split(":")[0]){case "cookie":var c=b.split(":")[1],b=new w;b.setUseLocalStorage(!0);"janrainLastAuthMethod"===c&&!Zc&&(Zc=fa);if(janrain.settings.multiDomainLocalStorage)b.getCookie(c,function(b){e&&"janrainLastAuthMethod"===c&&(Hd=!0);Mb(Yb(d["if"],b)?d.then:d["else"],a)});else{var e=b.getCookie(c);e&&"janrainLastAuthMethod"===c&&(Hd=!0);Mb(Yb(d["if"],e)?d.then:d["else"],a)}break;case "session":b=b.split(":")[1],"boolean"===typeof d["if"].to&&(d["if"].to+=""),"exists"===b&&Mb(Yb(d["if"],
!!C+"")?d.then:d["else"],a)}}function Yb(d,a){var b=gb(a)?parseInt(a,10):a,c,e=gb(d.to)?parseInt(d.to,10):d.to;switch(d.withOperator){case "===":c=e===b;break;case "!==":c=e!==b;break;case "==":c=e==b;break;case "!=":c=e!==b;break;case ">":c=b>e;break;case "<":c=b<e}return c}function Mb(d,a){!d&&"function"===typeof a&&a();if(!d)return!1;if("undefined"===typeof d["if"]){if(d.render){var b=d.render.screen,c=m.screens[b];(new Ka).setScreenData(b,c)}}else Hc(d,a)}function ic(d){if(!d)return!1;"undefined"!==
typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){d&&(d.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}function jc(){for(var d="",a=[],b=0;10>b;b++)d=ra(40),a.push(d);return a}function Zb(d){if(!u(d))return!1;for(var a=d.length,b=0;b<a;b++){var c=d[b];-1===wd.indexOf(c)&&wd.push(c)}}function Ba(){var d=wd.pop();0===wd.length&&Zb(jc());-1===Za.indexOf(d)&&Za.push(d);return d}function na(d){var a=Za.indexOf(d);-1<a&&Za.splice(a,1);-1===
$a.indexOf(d)&&$a.push(d)}function Wb(d){var a=$a.indexOf(d);-1<a&&$a.splice(a,1);-1===Ra.indexOf(d)&&Ra.push(d)}function xb(d){return janrain.settings.capture.federate&&d.sso&&d.ssoCode}function Xb(d,a){d.fireEvent=a;Ub[d.transactionId]=d;Ec(d.ssoCode,d.transactionId)}function zc(d){if(d.status){Ld[d.transactionId]=d;"photoUploaded"===d.statusMessage&&janrain.events.onCapturePhotoUploadSuccess.fire();if(d.userData){if(janrain.settings.capture.setProfileCookie){var a=d.userData,b=A();(new w).setExpirationDirectly(b).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(H.stringify(a)).create();
janrain.events.onCaptureProfileCookieSet.fire(a)}if(janrain.settings.capture.returnExperienceUserData&&(a=janrain.settings.capture.returnExperienceUserData,b=d.userData,u(a))){for(var c=a.length,e={},f=0;f<c;++f)e[a[f]]=ua(b,a[f]);(new w).setExpiration(1826).setUseLocalStorage(!0).setName("janrainCaptureReturnExperienceData").setValue(H.stringify(e)).create()}}"success"===d.status?janrain.events.onCaptureSaveSuccess.fire(d):janrain.events.onCaptureSaveFailed.fire(d);(a=We[d.action])&&a(d)}}function oc(){if("object"!==
typeof D)return!1;xa.modalConfirmText&&D.setConfirmMessageText(xa.modalConfirmText);xa.modalConfirmLinkText&&D.setConfirmLinkText(xa.modalConfirmLinkText);xa.modalCancelLinkText&&D.setCancelLinkText(xa.modalCancelLinkText)}function Cc(d,a,b,c){if(!nb[d]||!nb[d].custom)nb[d]={},nb[d].html='<div class="'+a+'">'+(xa[d]||b)+"</div>",nb[d].screen=c}function Jc(d,a){var b=[];ga(nb,function(d){b.push(d)});x(b,d)&&(nb[d].html=a,nb[d].custom=!0)}function yc(d){m=d;m.flow=E();"undefined"===typeof Jd&&(Jd=d);
Xe();"object"!==typeof m.layouts&&(m.layouts={});"object"!==typeof m.layouts.captureAccessDeniedBuiltIn&&(m.layouts.captureAccessDeniedBuiltIn={});m.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:nb.accessDenied.html;"object"!==typeof m.layouts.captureRetrievingUserDataBuiltIn&&(m.layouts.captureRetrievingUserDataBuiltIn={});m.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?
document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:nb.retrievingUserData.html;"object"!==typeof m.layouts.captureDialogBuiltIn&&(m.layouts.captureDialogBuiltIn={});m.layouts.captureDialogBuiltIn.html=nb.dialog.html;m.screens.janrainDialog=nb.dialog.screen;for(d=0;d<ad.length;d++)m.fields[ad[d].field][ad[d].attribute]=ad[d].value}function Vb(d){if($.isCloneable(d))for(var a in d)if(la(d,a)){var b=d[a];$.isCloneable(b)&&Vb(b);if(Hb(b)&&"settings"===b.valueSource&&"undefined"!==typeof b.key&&
"undefined"!==typeof b["default"]){var c=Fd[b.key];"undefined"===typeof c&&(c=b["default"]);d[a]=c}}}function Lc(d){var a={},b=!1;ga(d.fields,function(c,e){void 0!==e.value&&!d.fields[e.value]&&(void 0!==yd[c]&&!Ge(yd[c],e.value)&&(b=!0,a[c]={oldValue:yd[c],newValue:e.value}),yd[c]=e.value)});b&&janrain.events.onCaptureFieldsChanged.fire(a)}function Bc(d,a){ga(d.fields,function(b,c){if((!d.form||a)&&c.doNotPrePopulate)c.value=""})}function da(){Yd.push(arguments);if(window.console){var d=arguments;
d.callee=d.callee.caller;d=[].slice.call(d);f?console.log(d):console.log.apply(console,d)}}function Ka(){function d(d,a,b){a&&a.screenConditionals?Mb(a.screenConditionals,b):"function"===typeof b&&b()}function a(d){janrain.events.onCaptureAccessDenied.fire();gc=!0;de="accessDenied";f({layout:"captureAccessDeniedBuiltIn",modal:d.modal,source:"server"})}function b(d){var a,r=Ba();switch(d){case "email":(d=Ha&&Ha.verification_code?Ha.verification_code:"")?(a=za({capture_transactionId:r,verification_code:d}),
wb("/widget/email_code.jsonp",a),na(r),da("need to verify "+d)):da("no code supplied");break;case "password":(d=Ha&&Ha.code?Ha.code:"")?(da("need to verify "+d),a=za({capture_transactionId:r,code:d}),wb("/widget/email_code.jsonp",a),na(r)):da("no code supplied");break;case "reactivate":(d=Ha&&Ha.reactivation_code?Ha.reactivation_code:"")?(da("need to verify "+d),a=za({capture_transactionId:r,reactivation_code:d}),wb("/widget/reactivate_account.jsonp",a),na(r)):da("no code supplied")}Ye=!0}function J(d){d&&
(Qc=d.validateOnRender);if(!Ye){if(d&&"changePasswordLink"===d.dataType&&!d.errors)return b("password"),!1;if(d&&"verifyEmail"===d.dataType&&!d.errors)return b("email"),!1;if(d&&"reactivateAccount"===d.dataType&&!d.errors)return b("reactivate"),!1}var c=d.dataType&&"public"===d.dataType;if(d&&d.hasUserData&&!m.fused||d&&d.hasUserData&&c&&!m.privacyFiltered)return c=d.dataType&&"public"===d.dataType,!C&&!c?a(d):(gc=!0,de="retrievingUserData",f({layout:"captureRetrievingUserDataBuiltIn",modal:d.modal,
source:"server"}),I(c)),h(),!1;if(!C&&d&&d.requireAccessToken)return a(d),h(),!1;gc=!1;f(d);h();Hd&&(Hd=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function e(a,b){if(fe)setTimeout(function(){e(a,b)},50);else{b&&b.type&&"completeSocialRegistration"===b.type&&(Kd=!0);if(Ga&&b&&(m.noModalForMobile||b.noModalForMobile))b.modal=!1;if(Ga&&b&&(m.modalForMobile||b.modalForMobile))b.modal=!0;Kb?(fa=a,M="capture_"+fa+"_",d(a,b,function(){J(b)})):
setTimeout(function(){e(a,b)},50)}}function f(d){if(ia&&ia.div&&(!d.modal||ia.modal&&d.modal)&&!d.keepPreviousScreen)ia.div.style.display="none";var a=d.layout,b=d.source,r=d.modal,d=!!d.modalLoadOnLoad;if("server"===b){var l=document.getElementById(a);l||(l=document.createElement("div"),l.setAttribute("id",a));try{ca[a]?Z.html=ca[a]:(Z.html=m.layouts[a].html,ca[a]=Z.html)}catch(c){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===
b)try{if(l=document.getElementById(a))ca[a]&&!1!==janrain.settings.capture.saveLayouts?Z.html=ca[a]:(Z.html=l.innerHTML,ca[a]=Z.html);else throw Z.html="",ba(a);}catch(J){throw da(J.name+": "+J.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}o(l).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");Ga&&(o(l).append("janrain-capture-ui-mobile"),Ta.onOrientationChange.addHandler(function(d){o(l).append("janrain-capture-ui-mobile-"+
d.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[d.orientation]);janrain.events.onCaptureContentChange.fire()},!0),Ta.onOrientationChange.fire({orientation:Ta.getOrientation()}));Z.div=l;gc||Z.div.setAttribute("data-capturescreenname",fa);Xc=Z.div;Z.modalLoadOnLoad=d;Z.source=b;Z.modal=r;ia=Z;"undefined"===typeof ge[fa]&&(ge[fa]={});ge[fa].layout=Z}function g(d,a){var b=d.element,r=d.type;x(["data","capture","widget"],d.element)||(b="html",r=d.element);
if("object"===typeof d.displayCondition&&"undefined"!==typeof d.displayConditionPassed&&!1===d.displayConditionPassed)return!1;if(d.close)return s.render.html.close(d);if(s.render[b]&&s.render[b][r])return n.log("jtl","Rendering {* "+r+" *}, type: "+b+"."+r),s.render[b][r](d,a);b='Invalid JTL tag "'+d.name+'" with element "'+d.element+'"';d.type&&(b+=' and type "'+d.type+'"');n.forceError(b);return!1}function h(){fe=!0;janrain.events.onCaptureRenderStart.fire(m);Sa=[];m.fields.submitButton||(m.fields.submitButton=
{element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});m.fields.loginWidget||(m.fields.loginWidget={element:"widget",type:"login"});m.fields.shareWidget||(m.fields.shareWidget={element:"widget",type:"share"});m.fields.backButton||(m.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});m.fields.captcha||(m.fields.captcha={element:"capture",type:"captcha"});m.fields.keepMeLoggedIn||(m.fields.keepMeLoggedIn=
{element:"capture",type:"keepMeLoggedIn"});m.fields.errorMessages||(m.fields.errorMessages={element:"capture",type:"errorMessages"});m.fields.savedProfileMessage||(m.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});Z.originalHtml=Z.html;Z.flow=m;Z.html=i(Z.html);Z.div.innerHTML=Z.html;if("server"==Z.source){if(!document.getElementById("janrainCaptureWidget")){var d=document.createElement("div");d.id="janrainCaptureWidget";document.body.appendChild(d)}document.getElementById("janrainCaptureWidget").appendChild(Z.div)}if(!gc){for(var d=
0,a=Ad.length;d<a;d++)Db(document.getElementById(Ad[d]),!1);Ad=[]}j();k();for(d=0;d<Sa.length;d++){a=document.getElementById(M+Sa[d].elementName);if(!a){n.forceError("Couldn't find the \""+Sa[d].elementName+'" form. Is it being placed inside another form?');break}Sa[d].next&&Sa[d].next.type&&"server"===Sa[d].next.type?a.setAttribute("next",'{"noop":""}'):Sa[d].next?(Sa[d].next.conditional&&a.setAttribute("next",H.stringify(Sa[d].next)),Sa[d].next.screen&&a.setAttribute("next",H.stringify(Sa[d].next)),
Sa[d].next.url&&a.setAttribute("next",H.stringify(Sa[d].next)),Sa[d].next.action&&a.setAttribute("next",H.stringify(Sa[d].next))):a.setAttribute("next",'{"noop":""}')}p();ia=Z;janrain.events.onCaptureContentChange.fire()}function i(d){for(var a=/\{\*(.*?)\*\}/,b=/^\s*\/\s*/,r=/^\s*#\s*/,l=/\{(.*?)*\}\s*/,c=!1,J,e=[],f=[];J=a.exec(d);)try{var ja=J[1].trim();if(l.test(ja))var h=ja.match(l),ja=ja.replace(h[0],"").trim(),Nd=h[0].match(/\{(.*?)*\}\s*/)[0];else Nd=null;c=!1;r.test(ja)&&(ja=ja.replace("#",
"").trim(),c=!0);if(b.test(ja)){var k=ja.replace("/",""),F={};if("undefined"==typeof m.fields[k])return da("No field definition for"+k,"error"),n.error("No field definition for"+k+" error"),w;F.element=m.fields[k].element;F.type=m.fields[k].type;F.close=!0}else{if("undefined"==typeof m.fields[ja])return da("No field definition named "+ja+" for tag "+J[0],"error"),n.error("No field definition named "+ja+" for tag "+J[0]+" error"),w;F=m.fields[ja];F.name=ja;c&&(F.start=!0);if("form"===F.element&&!F.transactionId){var j=
Ba();F.transactionId=j}F.elementName=F.elementName||ja}var Nd=Nd||null,o=g(F,Nd);o||(o=" ");o+="";o=o.replace(/\$/g,"$$$$");d=d.replace(J[0],o);(F.next||"form"===F.element&&!F.close)&&Sa.push({elementName:F.elementName,next:F.next});F.onclickHandler&&t.push({elementName:F.elementName,handler:F.onclickHandler,eventType:"click"});F.onchangeHandler&&t.push({elementName:F.elementName,handler:F.onchangeHandler,eventType:"change"});"string"===typeof F.element&&"form"===F.element&&!F.close&&(t.push({elementName:F.elementName,
handler:ub,eventType:"submit"}),janrain.settings.capture.autoSave&&!Ga&&t.push({elementName:F.elementName,handler:Wa,eventType:"render"}));if("form"===F.element&&("widget/traditional_register.jsonp"===F.action||"widget/social_register.jsonp"===F.action))f.push("widget/traditional_register.jsonp"===F.action?"traditionalRegister":"socialRegister");if("form"===F.element&&"widget/traditional_signin.jsonp"===F.action||"widget"===F.element&&"login"===F.type)e.push("widget/traditional_signin.jsonp"===F.action?
"traditionalSignin":"socialSignin")}catch(q){return da(q.name+": "+q.message,"error"),!1}e.length&&janrain.events.onCaptureLoginStart.fire({action:e.join(","),screen:fa});f.length&&janrain.events.onCaptureRegistrationStart.fire({action:f.join(","),screen:fa});return d}function k(){Z.div.getAttribute("data-captureventadded")||(y(Z.div,"click",function(d){var a=N(d);if(a&&a.nodeName&&"A"===a.nodeName){var b=a.getAttribute("data-capturecontrol");b&&(kb(b),R(d));a.getAttribute("data-cancelcapturereturnexperience")&&
Zc&&(janrain.capture.ui.setNoReturnExperience(),R(d));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof D)"close"===a&&(janrain.capture.ui.modal.close(),R(d)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),R(d))}}),Z.div.setAttribute("data-captureventadded",!0));for(var d=Z.div.getElementsByTagName("img"),a=d.length,b=0;b<a;b++)y(d[b],"load",function(){janrain.events.onCaptureContentChange.fire()});d=aa(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=d.length;
if(!Oe){for(b=0;b<a;b++)y(d[b],"click",function(d){"object"===typeof D?(janrain.capture.ui.renderScreen(ia.flow.defaultScreen),D.setShowContentOnLoad(!0).addContent(ia.div).show(),Xa=!1,janrain.events.onCaptureScreenShow.fire({screen:fa}),janrain.events.onCaptureContentChange.fire()):Qe=!0;R(d)});Oe=!0}}function j(){if(m.cssDependencies&&u(m.cssDependencies))for(var d=0;d<m.cssDependencies.length;d++)X(m.cssDependencies[d]);ce&&Md&&!ae?nf(janrain.events.onCssLoad,function(d){Z=ia;oe.push(d.source);
for(d=0;d<ce;d++)if(-1==oe.indexOf(Cd[d]))return!1;ae||(q(),ae=!0)}):q();fe=!1;d={flow:m,renderingBuiltInScreen:gc,screen:fa};gc&&(d.builtInScreenRendered=de);janrain.events.onCaptureRenderComplete.fire(d);m.screens&&m.screens[fa]&&m.screens[fa].type&&"completeSocialRegistration"===m.screens[fa].type&&(Dc(C),vb(!0))}function q(){var d=!1,a=!1;if(Z.modal){if("object"===typeof D){var d=!0,b=D.getContent();b&&document.body.appendChild(b);D.close(!0)}else D=new sd,oc();Pe||(a=!0,janrain.events.onModalClose.addHandler(function(){m&&
m.mergeToken&&(m.mergeToken="")},!0),Pe=!0);D=c(D);D.setShowContentOnLoad(!0).addContent(Z.div);a&&janrain.events.onCaptureModalReady.fire();if(d||Z.modalLoadOnLoad||Qe||Xa)D.show(),Xa=!1,janrain.events.onCaptureScreenShow.fire({screen:fa})}else"object"===typeof D&&D.close(!0),Xa=!1,janrain.events.onCaptureScreenShow.fire({screen:fa});Z.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function p(d){for(var d=d||t,a=0;a<d.length;a++)if("function"===typeof d[a].handler)if("render"===
d[a].eventType)d[a].handler(M+d[a].elementName);else{var b=document.getElementById(M+d[a].elementName);y(b,d[a].eventType,d[a].handler)}t=[]}var Z={},s,w=xa.humanReadableGenericErrorMessage||"Error displaying information";s=new z;Uc=new ea;return{setScreenData:e,render:h,renderField:g,attachEventHandlers:p}}function j(d,a){for(var b=[],c=document.getElementById(d).getElementsByTagName("INPUT"),e=c.length,f=0;f<e;f++){var g={};g.id=c[f].id;g.placeholder=c[f].getAttribute("placeholder");if(Rc||a)Wc[c[f].getAttribute("data-capturefield")]=
c[f].value;g.value=g.placeholder?g.placeholder===c[f].value?"":c[f].value:c[f].value;"radio"===c[f].type&&(g.type="radio",g.checked=c[f].checked);b.push(g)}return b}function I(d,a){var b="function"===typeof a?a:function(){};if(d){var c=ed||Ha.uuid||"";ed&&(ed="");c?(da("need to get data for "+c),k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",
elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:c}]})):da("no uuid supplied")}else{if(!C)return!1;k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function wb(d,a,b){0!==d.indexOf("http")&&(d=janrain.settings.capture.captureServer+d);Ia(od(d,a),b)}function dc(d,
a){var b={},c=d&&d.userData&&d.userData.migratedUserType?d.userData.migratedUserType:null,e=a?Sc:$c;Aa&&!a&&(b.capture_social_registration=Aa);C&&a&&(b.capture_complete_social_registration=C);pe&&(b.authProvider=pe);c&&(b.migratedUserType=c);vb();var c=e,e=location,f=c;c.match(/^http[s]*:\/\//)||(f=e.pathname.split("/"),f.length-=1,f.push(c),f=e.protocol+"//"+e.host+f.join("/"));b=od(f,b);window.location=b}function Nc(d,a){var b=!1,c;if("ok"===d.stat&&(c=d.result,c.accessToken&&(c.oneTime?s=c.accessToken:
(Fa(c.accessToken),s=null)),c&&zc(c),pe=c&&c.authProvider?c.authProvider:null,Te=c&&c.authProfileData?c.authProfileData:{},c&&c.screen&&m.screens&&m.screens[c.screen]&&m.screens[c.screen].type&&"completeSocialRegistration"===m.screens[c.screen].type&&Ea(),"socialSignin"===c.action&&"success"===c.status&&"noUserForIdentifier"===c.statusMessage||"socialSignin"===c.action&&"success"===c.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var e=janrain.settings.capture.socialRegistrationRedirectUrlCondition;
if(e){var f=[];ga(e,function(d,a){c[d]===a||c.userData&&c.userData[d]===a?f.push(!0):f.push(!1)})}$c&&"noUserForIdentifier"===c.statusMessage&&(b=!0,dc(c));Sc&&e&&!x(f,!1)&&(b=!0,dc(c,!0))}"function"===typeof a&&!b&&a(c)}function Pc(d){function a(d){return'<li><a href="#" class="capture_suggestion">'+d+"</a></li>"}var b=d.result,d=q(b.submittedScreen),c=m.fields[b.field],e=document.getElementById(d+(c.elementId||c.elementName||b.field)),f=b.alternatives,g=c.validation.messages.unique||"",h=document.getElementById(d+
"form_item_"+(c.elementName||b.field)),F=new k.validation;F.setElement(e);F.setParentDiv(h);if(!1===b.unique){if(f){var f=f.map(a),i=function(d){var a=N(d);o(a).has("capture_suggestion")&&(e.value=a.innerHTML,Cb(h,"click",i),F.valid(),R(d))};F.notValid(g+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){y(h,"click",i)})}else F.notValid(g);F.setUnique(!1)}else{if(b=ua(c,"validation.unique.alongWith"))(d=document.getElementById(d+"form_item_"+m.fields[b].elementName))&&o(d).append("capture_validated").remove("capture_validating").remove("capture_error");
F.valid();F.setUnique(!0)}}function Tc(d){var a=[];m&&m.fields&&ga(m.fields,function(b,c){c&&c.type&&c.type===d&&a.push(c)});return a}function id(d,a){janrain.events.onCaptureError.fire("object"===typeof d?d:"{"+d+"}");if(d.result&&d.result.error&&("access_token_expired"===d.result.error&&(vb(),janrain.events.onCaptureExpiredToken.fire()),"invalid_argument"===d.result.error&&"malformed access token"===d.result.errorDescription&&(vb(),janrain.events.onCaptureInvalidToken.fire()),"linkError"===d.result.error)){var b=
Tc("linkAccounts"),c=b.length?b[0]:{},b=c.messages&&c.messages.errors&&c.messages.errors.linkError?c.messages.errors.linkError:"That account is already in use.",e=w().getCookie("expected_tab");if(D&&D.isOpen()&&(c=c&&c.linkAccountContainer?aa("capture_"+c.linkAccountContainer,document.getElementById("janrainModal")):!1)){for(var f=aa("capture_form_error_container",c[0]),c=0,g=f.length;c<g;c++)f[c].innerHTML='<div class="capture_form_error">'+b+"</div>";var h=janrain.events.onModalClose.addHandler(function(){V(f,
function(d){d.innerHTML=""});janrain.events.onModalClose.removeHandler(h)})}janrain.events.onCaptureLinkAccountError.fire({message:b,provider:e})}janrain.settings.custom||janrain.engage.signin.widget.refresh();b=d.result.customError||d.result.error+": "+d.result.errorDescription;kd(b,d.result.error)||alert(b);da(d);"function"===typeof a&&a()}function kd(d,a){if(Xc){var b={classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()};a&&b.classes.push("capture_errortype_"+a.replace(/ /g,
"").toLowerCase());b=k.domHelpers.createDiv(b);b.innerHTML=d;Xc.insertBefore(b,Xc.firstChild);janrain.events.onCaptureContentChange.fire()}return Xc}function Vc(d,a){if("string"!==typeof d||!janrain.settings.capture.setProfileCookie)return!1;var b=new w,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureProfileData",function(b){b.length&&(c=H.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureProfileData"))&&
b.length)if(c=H.parse(b),"object"===typeof c)return c[d]}function ld(d,a){if("string"!==typeof d||!janrain.settings.capture.returnExperienceUserData)return!1;var b=new w,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureReturnExperienceData",function(b){b.length&&(c=H.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureReturnExperienceData"))&&b.length)if(c=H.parse(b),"object"===typeof c)return c[d]}
function Ic(d){var a=w();return x(["expected_tab","welcome_info_name","login_tab"],d)&&(d=a.getCookie(d))?unescape(d):""}function nd(){var d=document.createElement("div");d.className="capture_btn capture_processing";d.innerHTML=xa.processing||"Processing";return d}function Kc(d,a){m&&d&&a&&m.screens&&m.screens[d]&&m.screens[d].dataType&&"public"===m.screens[d].dataType?(!m._uuid||m._uuid&&m._uuid!==a||!m.privacyFiltered?(ed=a,m.fused=!1):ed="",Xa=!0,janrain.capture.ui.renderScreen(d)):da("Cannot get public flow and show screen.")}
function td(d,a){if(!d)throw Error("postCaptureForm requires you supply a form name.");var b=m.fields[d];if(!b)throw Error("postCaptureForm Error: no form called "+d+" found in the flow.");if(!b.element||"form"!==b.element)throw Error("postCaptureForm Error: the field called "+d+" found in the flow is not a form.");var c=b.fields;if(!c)throw Error("postCaptureForm Error: the form called "+d+" has no fields defined.");for(var b=b.action,e=ra(40),f={},g={fieldPrefix:"capture_postForm_"+e+"_",elementId:d,
name:d,fields:[],elementAction:janrain.settings.capture.captureServer+"/"+b,needsResponse:!0},b=0,h=c.length;b<h;b++){var F={};if(a)F.elementValue=a[c[b]];else{var i=T.getByName(c[b]);F.elementValue=i?i.getValue():void 0}"undefined"!==typeof F.elementValue&&(f[c[b]]=!0,F.elementType="hidden",F.fieldPrefix=g.fieldPrefix,F.elementId=c[b]+"_"+e,F.elementName=F.name=c[b],g.fields.push(F))}ga(a,function(d,a){if(!f[d]){var b=d.match(/(.*)\[(.*)\]/),r=d;b&&(r="display"===b[1]?b[2]:b[1]);if(x(c,r))g.fields.push({elementType:"hidden",
fieldPrefix:g.fieldPrefix,elementValue:a,elementId:d+"_"+e,elementName:d,name:d});else throw Error('postCaptureForm Error: No field named "'+r+'" found in the flow.');}});k.domHelpers.createFormAndPost(g)}var Oc=function(){function d(d){this.attributes=d&&Ca({},d)||{};this.time=(new Date).getTime();return this}d.prototype={set:function(d,a){var b=this,r=!1,c;Hb(d)&&(c=d);"string"===typeof d?(r=this.attributes[d]!==a,this.attributes[d]=a):c&&ga(c,function(d,a){r=r||b.attributes[d]!==a;b.attributes[d]=
a});r&&(this.time=(new Date).getTime());return this},get:function(d){return this.attributes[d]},destroy:function(){this.attributes={};this.time=(new Date).getTime();return this},each:function(d,a){var a=a||this,b;for(b in this.attributes)la(this.attributes,b)&&d.call(a,b,this.attributes[b]);return this}};for(var a=["focused","checked","value","name","valid"],b=0,c=a.length;b<c;b++)(function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);d.prototype["set"+b]=function(d){return this.set(a,d)};d.prototype["get"+
b]=function(){return this.get(a)}})(a[b]);return d}(),t=[],Uc,fe=!1,Lb,wc=janrain.settings.capture.language||janrain.settings.language||"en-US",Sa=[],fa,ge={},M,Zc,Hd=!1,Id=!1,Qc,xc=[],vd=janrain.settings.capture.maxScreenHistory||3,ia={},ad=[],Jd,he={},Rc=janrain.settings.capture.mode13||!1,$c=janrain.settings.capture.socialRegistrationRedirect,Sc=janrain.settings.capture.socialRegistrationCompleteRedirect,Kd=!1,bd=!1,Yc=!1,cd=!1,Wc={},T,yd={},Xa=!1,ha,gc=!1,Aa,uc,O=!1,C,Kb=!1,s,G=!1,ae=!1,m,Fd,
ab="",xa={},Xc,Gd=!1,Q=!1,Oa=janrain.settings.capture.backplaneVersion||"1.2",db="1.2"===Oa+""?"backplane.js":"backplane"+Oa+".js",Rd=janrain.settings.capture.backplaneLibrary||(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainbackplane.com/":"https://d134l0cdryxgwa.cloudfront.net/")+db,Sd=janrain.settings.capture.backplaneServerBaseUrl||"https://backplane1.janrainbackplane.com/v"+Oa,v=janrain.settings.capture.backplaneBlock||20,Se=janrain.settings.capture.backplaneReplayOnPageLoad||
!1,ca={},Ld={},wd=[],Za=[],$a=[],Ra=[],ie=[],Md=!1,Ne=janrain.settings.capture.accessTokenLifeHours||1,mb="placeholder"in document.createElement("input"),ib=!1,xd=!1,be,D,Qe=!1,Oe=!1,Pe=!1,Cd=[],ce=0,Ad=[],zd="HEAD",Re=!1,nb={},de,Bd={},ee=!1,vc=0,hc=[],Dd=!1,Ed=!1,Ub={},Od=[],ne;a=0;var Ha=Fb(window.location.href).queryKey,mc=cf(location.hash.replace("#",""),/[&,]/),ed,fd,pe,Te,Ze="Validating",Ye=!1,yb,$e="widget/traditional_register.jsonp,widget/traditional_signin.jsonp,widget/token_url.jsonp,widget/social_register.jsonp,widget/public_profile.jsonp,widget/recover_password.jsonp,widget/email_code.jsonp,widget/reactivate_account.jsonp".split(","),
oe=[],qe={};xc.push=function(){Array.prototype.push.apply(this,arguments);this.length>vd&&this.shift();return this.length};"en"===wc&&(wc="en-US");$c&&Ha&&Ha.capture_social_registration?Aa=Ha.capture_social_registration:mc.engageToken&&(uc=Aa=mc.engageToken,location.hash=location.hash.replace(RegExp("[&,]*engageToken="+Aa),""));Aa&&(cd=!0);Bd.publicPrivateTogglers=[];ea.prototype.check=function(d,a,b){if(a.validation&&!0!==a.validation.noTrim&&"string"===typeof d.value&&("text"===d.type||"email"===
d.type))d.value=d.value.trim();var a=a||m.fields[d.name],c=d.getAttribute("data-capturerendererchildfieldname"),c=c&&a.validation&&a.validation[c]?a.validation[c]:c&&"dateselect"!==a.type?!1:a.validation;if(!a.validation||!c)return!0;c.messages||(c.messages={});if(!this.hasValue(d,a,c))return{valid:!1,reason:c.messages.required||"Field not completed",type:"required"};if(!this.isDate(d,a,c))return{valid:!1,reason:c.messages.isDate||"Not a valid date",type:"notDate"};if(!this.isValidMaxFileSize(d,a,
c))return{valid:!1,reason:c.messages.maxFileSize||"File is too large",type:"maxFileSize"};if(!this.isValidFileType(d,a,c))return{valid:!1,reason:c.messages.validFileTypes||"File is not a valid file type",type:"fileType"};if(!this.isValidMinYears(d,a,c))return{valid:!1,reason:c.messages.minYears||"Not old enough",validation:{minYears:c.minYears},type:"minYears"};if(!this.isValidMinLength(d,a,c))return{valid:!1,reason:c.messages.minLength||"Invalid length",type:"minLength"};if(!this.isValidMaxLength(d,
a,c))return{valid:!1,reason:c.messages.maxLength||"Invalid length",type:"maxLength"};if(!this.isValidMaxNumericLength(d,a,c))return{valid:!1,reason:c.messages.maxNumericLength||"Invalid number of numeric characters",type:"maxNumericLength"};if(!this.isValidFormat(d,a,c))return{valid:!1,reason:c.messages.format||"Invalid format",type:"format"};if(!this.isValidMatch(d,a,c))return{valid:!1,reason:c.messages.match||"Invalid match",type:"match"};var e=this.custom(d,a,c);if(!e)return"undefined"===typeof e?
{pending:!0}:{valid:!1,reason:c.messages.custom||"Invalid",type:"custom"};e=oa&&oa[d.id]&&"undefined"!==typeof oa[d.id].unique&&!1===oa[d.id].unique;return c.unique&&!c.unique.uniquenessBlacklist&&(!b||e)?(b=document.getElementById(q(d)+"form_item_"+d.getAttribute("name")),this.isUnique(d,b,a,function(){}),{pending:!0}):{valid:!0}};ea.prototype.custom=function(d,a,b){if(!a||!b.custom||"function"!==typeof re[b.custom])return!0;var c=new k.validation,a=document.getElementById(q(d)+"form_item_"+a.elementName);
c.setParentDiv(a);c.setElement(d);return re[b.custom](d.name,d.value,c)};ea.prototype.getRating=function(d){var d=d.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],b=0,c;c=Math.min(8,Math.floor(3*Math.log(d.length+1)));for(var e=0;e<a.length;e++)a[e].test(d)&&b++;return c+=Math.floor(Math.pow(2,b)/2)};ea.prototype.isValidMaxNumericLength=function(d,a,b){if(!a)return!0;a=b.maxNumericLength;if(!a)return!0;d=d.value.match(/(\d)/g);u(d)&&d.length>a&&b.actions&&b.actions.maxNumericLength&&hc.push(b.actions.maxNumericLength);
return u(d)?d.length<=a:!0};ea.prototype.isValidMaxLength=function(d,a,b){d=d.value;if(!a)return!0;a=b.maxLength;if(!a)return!0;d.length>a&&b.actions&&b.actions.maxLength&&hc.push(b.actions.maxLength);return d.length<=a};ea.prototype.isValidMinLength=function(d,a,b){d=d.value;if(!a)return!0;a=b.minLength;if(!a)return!0;d.length<a&&b.actions&&b.actions.minLength&&hc.push(b.actions.minLength);return d.length>=a};ea.prototype.isValidMaxFileSize=function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||
!window.Blob||!a||"file"!==d.type)return!0;a=b.maxFileSize;return!a?!0:d.files[0].size<a};ea.prototype.isValidFileType=function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==d.type)return!0;a=b.validFileTypes;return!u(a)?!0:x(a,d.files[0].type)};ea.prototype.isDate=function(d,a,b){if((!a||"dateselect"!==a.type)&&!b.isDate)return!0;var c=Na(d,a);if(c)a=De(c);else{if(!(b=b.required))a.name||(a.name=d.getAttribute("data-capturerendererfield")?d.getAttribute("data-capturerendererfield"):
d.getAttribute("data-capturefield")),b=q(d),d=document.getElementById(b+a.name+"_dateselectmonth"),d=d.options[d.selectedIndex].value,c=document.getElementById(b+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,a=document.getElementById(b+a.name+"_dateselectyear"),a=a.options[a.selectedIndex].value,b=!(!d&&!c&&!a);a=b?!1:!0}return a};ea.prototype.isValidMinYears=function(d,a,b){if(!a||"dateselect"!==a.type)return!0;a=Na(d,a);d=b.minYears;if(!De(a)||!d)return!0;var c=new Date,a=Math.abs(((new Date(a)).getTime()-
c.getTime())/864E5),a=Math.floor(a/365.242199);a>=d||b.actions&&b.actions.minYears&&hc.push(b.actions.minYears);return a>=d};ea.prototype.hasValue=function(d,a,b){var c;if("select"===a.element)c=d.options[d.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=d.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var e=c.length,f=[],g=0;g<e;g++)c[g].checked&&f.push(c[g]);
c=f.length}else c=!1;else c=d.value;if(!a||!b.required)return!0;if("dateselect"===a.type)return c=Na(d,a),!c?!1:!0;c||b.actions&&b.actions.required&&hc.push(b.actions.required);return c};ea.prototype.isUnique=function(d,a,b,c){var a=d.form.getAttribute("data-capturefield"),b=d.getAttribute("data-capturefield"),a=za({value:d.value,form:a,capture_screen:L(d),field:b}),e={};V(d.form,function(d){ua(m.fields[b],"validation.unique.alongWith")===d.name&&(e[d.name]=d.value)});a=Ca(a,e);if(d=m.fields[b])if(d=
d.idFieldElementId)if(d=document.getElementById(d))a.pluralId=d.value;C&&(a.access_token=C);Lb&&(a.flow_path=Lb);wb("/widget/unique.jsonp",a,c)};ea.prototype.isBlacklisted=function(d,a,b){function c(){var a=d.value,b=response;if(!b||0===b.length)return!0;for(var r,l=0;l<b.length;l++)if(r=RegExp("^"+b[l]+"$","i"),r.test(a))return!0;return!1}captureUIBlacklistCallback=function(d){b(c(d))};u(a)?b(c(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):b(!0)};ea.prototype.isValidFormat=function(d,
a,b){var c={alpha:/^[a-z]+$/i,numeric:/^(\d+)$/,numericReal:/^(\d+\.?\d*|\.\d+|\-\d+\.?\d*|\-\.\d+)$/,alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,noWhitespace:/^\S*$/,zipCode:/^\d{5}$/,"zipCode+4":/^\d{5}(\-\d{4})?$/,phone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,phoneInternational:/^(\d{1,4}[-. ]?)?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,
i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!b.format)return!0;a=b.format;if("string"===typeof a&&c[a])a=c[a];else return!1;(d=a.test(d.value))||b.actions&&b.actions.format&&hc.push(b.actions.format);return d};ea.prototype.isValidMatch=function(d,a,b){if(!a)return!0;a=b.match;if(!a)return!0;a=m.fields[a];a=q(d)+(a.elementId||a.elementName);a=document.getElementById(a);d.value!==a.value&&b.actions&&b.actions.match&&hc.push(b.actions.match);return d.value===a.value};
var k={autoSelectPreferredTab:function(d,a){var b=(new w).setUseLocalStorage(!0),b=parseInt(b.getCookie("janrainCaptureSelectedTab"),10);isNaN(b)&&"capture_selected_tab"in Ha&&(b=parseInt(Ha.capture_selected_tab));isNaN(b)||(b=d.collection[b])&&t.push({elementName:a+"_"+b.elementName,handler:function(d){var a=document.getElementById(d);setTimeout(function(){a.click()},0)},eventType:"render"})},getValueFromObject:function(d,a,b){a=ua(a,b);void 0!==d.trueValueReplace&&a?a=d.trueValueReplace:void 0!==
d.falseValueReplace&&!a&&(a=d.falseValueReplace);!a&&!1!==a&&0!==a&&(a="");return a},setElementAttributeWithLocalStorage:function(d,a,b){var c=d.profileStoragePath.split("."),e=c.shift(),f=c.join(".");t.push({handler:function(){function c(d){var e=document.getElementById(a);return e&&(d||!e.getAttribute("placeholder"))?(e[b]=d,!0):!1}janrain.settings.multiDomainLocalStorage?Vc(e,function(a){c(k.getValueFromObject(d,a,f))}):c(k.getValueFromObject(d,Vc(e),f))},eventType:"render"})},attachFieldEventHandlers:function(d){d.type||
(d.type="");var a=d.elementId||d.elementName;t.push({elementName:a,handler:function(d){d=N(d);q(d);(d=qd(d,"capture_form_item"))&&o(d).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:ud&&"checkbox"===d.type?"click":"focus"});t.push({elementName:a,handler:function(d){d=N(d);q(d);(d=qd(d,"capture_form_item"))&&o(d).remove("capture_focused")},eventType:"blur"});d.validation&&(t.push({elementName:a,handler:Ab,eventType:d.validation.eventType||
"blur"}),d.validation.match&&"password"===d.type&&t.push({elementName:d.validation.match,handler:function(){setTimeout(function(){var d=document.getElementById(M+a);Db(d,!1)},0)},eventType:"keydown"}));d.rendererFieldName&&d.rendererChildFieldName&&m.fields[d.rendererFieldName].validation&&m.fields[d.rendererFieldName].validation[d.rendererChildFieldName]&&t.push({elementName:d.rendererFieldName+"_"+d.rendererChildFieldName,handler:Ab,eventType:"blur"});if("password"===d.type){d.validation&&("function"===
typeof d.validation.rating?t.push({elementName:a,handler:function(a){var a=Pa(a),b=Uc.getRating(a);d.validation.rating(a,b)},eventType:"keyup"}):d.validation.rating&&t.push({elementName:a,handler:function(d){d=Pa(d);d=Uc.getRating(d);da("Password Strength",d)},eventType:"keyup"}));for(var b=[],c=0,e=t.length;c<e;c++)t[c].elementName===a&&b.push(t[c]);t.push({elementName:a,handler:function(d){return k.togglePasswordInput(d,b)},eventType:"click"});t.push({elementName:a,handler:function(d){return k.togglePasswordInput(d,
b)},eventType:"focus"})}if("text"===d.type||"password"===d.type||"email"===d.type)t.push({elementName:a,handler:k.clearPlaceHolder,eventType:"focus"}),t.push({elementName:a,handler:k.restorePlaceHolder,eventType:"blur"})},attachModifyEventHandler:function(d){t.push({elementName:d.elementId||d.elementName,eventType:d.modify.event,handler:function(){var a=document.getElementById(d.modify.element),b=d.modify.attributes;if(b&&a)for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])}})},wrapStringData:function(d,
a,b){var c="",e=["capture_data_item"];b&&e.push(b);c+=k.createDiv({elementId:"stringdata_"+d.name,classes:e});d.label&&(c+=k.createLabel({elementId:d.name,label:d.label,classes:["capture_data_label"]}));c+=k.createDiv({elementId:d.name,classes:["capture_data"]});return c+a+"</div></div>"},wrapFormItemStart:function(d){var a="",b=[],c=d.classes||[],e="elementCollection"===d.type?"form_collection":"form_item";if(d.justElement||"submit"===d.type||"button"===d.type)return"";-1===c.indexOf("capture_"+
e)&&c.push("capture_"+e);d.errors&&-1===c.indexOf("capture_error")&&!d.collection&&c.push("capture_error");!d.collection&&d.type&&-1===c.indexOf("capture_"+d.type)&&("checkbox"===d.type||"radio"===d.type?b.push("capture_"+d.type):c.push("capture_"+d.type));"elementCollection"===d.type&&d.displayInline&&-1===c.indexOf("capture_form_collection_inline")&&c.push("capture_form_collection_inline");d.collection?(-1===c.indexOf("capture_"+e+"_"+d.elementName)&&c.push("capture_"+e+"_"+d.elementName),d.checked&&
c.push("capture_toggled"),a+=k.createDiv({elementName:e+"_"+d.elementId,hide:d.hide,classes:c})):a+=k.createDiv({elementName:e+"_"+d.elementName,hide:d.hide,classes:c});if(("checkbox"===d.type||"radio"===d.type)&&!d.collection)a+=k.createDiv({elementName:e+"_inner_"+d.elementName,classes:b});return a},wrapFormItemEnd:function(d){return d.justElement||"submit"===d.type||"button"===d.type?"":"</div>"},createPublicPrivateToggle:function(d){function a(){for(var d=Bd.publicPrivateTogglers,b=d.length,c=
0;c<b;c++)d[c]&&(d[c].style.display="none");Bd.publicPrivateTogglers=[]}function b(a){var c=N(a),r=q(c),l=document.getElementById(r+"display_toggle_options_"+d.elementName),e=document.getElementById(r+"display["+(d.rendererFieldName||d.elementName)+"]"),f=function(){if(!u(d.publicPrivateBoundFields))return!1;var a=[];V(d.publicPrivateBoundFields,function(d){a.push(document.getElementById(r+"display["+d+"]"))});return a}(),J=document.getElementById(r+"display_indicator_public_"+d.elementName),g=document.getElementById(r+
"display_indicator_private_"+d.elementName),h=r+"display_option_public_"+d.elementName,ja=r+"display_option_private_"+d.elementName,i=c.parentNode?c.parentNode.id||"":"";if(i===h||i===ja)c=c.parentNode;c.id===h?(e.value="public",f&&V(f,function(d){d.value="public"}),o(document.getElementById(h)).append("capture_checked"),o(document.getElementById(ja)).remove("capture_checked"),e.value="public",o(J).append("capture_toggled"),o(g).remove("capture_toggled")):(e.value="private",f&&V(f,function(d){d.value=
"private"}),o(document.getElementById(h)).remove("capture_checked"),o(document.getElementById(ja)).append("capture_checked"),e.value="private",o(J).remove("capture_toggled"),o(g).append("capture_toggled"));va(e);l.style.display="none";R(a)}var c="",e=["capture_display_option"],f=["capture_display_option"];d.forcePublicPrivate&&("public"===d.forcePublicPrivate.toLowerCase()?d.displayPublic=!0:"private"===d.forcePublicPrivate.toLowerCase()&&(d.displayPublic=!1));c+=k.createDiv({classes:["capture_display_toggle_wrap"],
elementId:"display_toggle_wrap_"+d.elementName});c+=k.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+d.elementName});d.displayPublic&&e.push("capture_checked");c+=k.createDiv({classes:e,elementId:"display_option_public_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';d.displayPublic||f.push("capture_checked");c+=
k.createDiv({classes:f,elementId:"display_option_private_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';e=["capture_display_toggle","capture_public"];d.disablePublicPrivate&&e.push("capture_display_toggle_disabled");d.displayPublic&&e.push("capture_toggled");c+=k.createDiv({classes:e,elementId:"display_indicator_public_"+d.elementName});c+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';
f=["capture_display_toggle","capture_private"];d.disablePublicPrivate&&f.push("capture_display_toggle_disabled");d.displayPublic||f.push("capture_toggled");c+=k.createDiv({classes:f,elementId:"display_indicator_private_"+d.elementName});c+='<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';u(d.publicPrivateBoundFields)&&V(d.publicPrivateBoundFields,function(a){c+=k.createInput({type:"hidden",elementName:"display["+a+"]",value:d.displayPublic?
"public":"private"})});c+=k.createInput({type:"hidden",elementName:"display["+(d.rendererFieldName||d.elementName)+"]",value:d.displayPublic?"public":"private"});t.push({elementName:"display_toggle_wrap_"+d.elementName,eventType:"click",handler:function(b){var c=N(b),l=q(c),l=document.getElementById(l+"display_toggle_options_"+d.elementName),e="none"===l.style.display||""===l.style.display?"block":"none";c.parentNode&&o(c.parentNode).has("capture_display_toggle")&&(c=c.parentNode);o(c).has("capture_display_toggle")&&
!o(c).has("capture_display_toggle_disabled")&&("block"===e&&(a(),Bd.publicPrivateTogglers.push(l)),l.style.display=e);R(b)}},{elementName:"display_option_public_"+d.elementName,handler:b,eventType:"click"},{elementName:"display_option_private_"+d.elementName,handler:b,eventType:"click"});Re||(y(document.body,"click",function(d){d=N(d);d.parentNode&&o(d.parentNode).has("capture_display_toggle")&&(d=d.parentNode);!o(d).has("capture_display_toggle")&&!o(d).has("capture_display_option")&&a()}),Re=!0);
return c},createAnchor:function(d){var a="",b=d.fieldPrefix||M,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?d.elementAttributes:{},f=d.elementClasses&&u(d.elementClasses)?d.elementClasses:[];x(f,"capture_"+c)||f.push("capture_"+c);a=a+"<a "+("id='"+b+c+"' ");d.target&&(a+="target='"+d.target+"' ");a+="class='"+f.join(" ")+"' ";a+=Ob(e)+" ";a+="data-capturefield='"+d.name+"' ";a+="href='"+d.elementHref+"' ";a+="name='"+d.elementName+"' ";a+=">";d.elementText&&(a+=d.elementText);
return a+"</a>"},createTextarea:function(d){var a="",b=d.fieldPrefix||M,c=d.elementId||d.elementName,e=d.elementClasses&&u(d.elementClasses)?d.elementClasses:[],f=d.rows||"5",a=a+k.createLabel(d);x(e,"capture_"+c)||e.push("capture_"+c);x(e,"capture_textarea")||e.push("capture_textarea");a=a+"<textarea "+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+d.name+"' ";a=a+("rows='"+f+"' ")+("name='"+d.elementName+"' ");d.placeholder&&mb&&(a+="placeholder='"+d.placeholder+"'");a+=
">";d.value&&(a+=d.value);a+="</textarea>";d.publicPrivateToggle&&(a+=k.createPublicPrivateToggle(d));return a+=k.createTip(d)},createTip:function(d){var a;a="<div class='capture_tip' ";d.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof d.tip?d.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+d.elementName+"'>");a+=Ze+"</div>";a=a+"<div class='capture_tip_error'"+(" data-elementName='"+d.elementName+"'>");d.errors&&u(d.errors)&&(a+=d.errors.join(" "),
janrain.events.onCaptureServerValidationFailed.fire(d));return a+"</div>"},createLabel:function(d,a){var b,c=d.fieldPrefix||M,e=d.elementId||d.elementName;if(!d.label)return a?a:"";b="<label ";"elementCollection"!==d.type&&(b+=" for='"+c+e+"'");b+=">";a&&(b+=a);d.label&&(b+=d.label);return b+"</label>"},createSelect:function(d){var a="",b=d.fieldPrefix||M,c=d.rendererFieldName,e=d.rendererChildFieldName,g,h=d.justElement,i=d.elementClasses&&u(d.elementClasses)?d.elementClasses:[],F=d.elementId||d.elementName;
x(i,"capture_"+F)||i.push("capture_"+F);x(i,"capture_select")||i.push("capture_select");a+=k.createLabel(d);a=a+'<span class="capture_select_arrow"><select '+("id='"+b+F+"' ")+("class='"+i.join(" ")+"' ");c&&(a+="data-capturerendererfield='"+c+"' ");d.showFieldWhere&&(a+='data-showFieldWhere="'+d.showFieldWhere+'" ');e&&(a+="data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+d.name+"' ";a+="name='"+d.elementName+"' ";a+=">";c=d.options||[];e=c.length;for(i=0;i<e;i++){var m=c[i],
n=m.value||""===m.value?m.value:m.text,a=a+('<option value="'+n+'"');m.disabled&&(a+=' disabled="true"');u(m.showField)&&(a+=' data-showField="'+m.showField.join(",")+'"');n===Le(d.value)&&(a+=' selected="selected"',g=m.showField);a+=">"+m.text+"</option>"}a+="</select></span>";d.publicPrivateToggle&&(a+=k.createPublicPrivateToggle(d));h||(a+=k.createTip(d));t.push({handler:function(){g&&S(g,d.showFieldWhere,b)},eventType:"render"});t.push({elementName:F,handler:function(d){var d=N(d),a=q(d),b=d.getElementsByTagName("option")[d.selectedIndex].getAttribute("data-showField"),
c=d.getAttribute("data-showFieldWhere");b&&b.length&&(b=b.split(","));f&&9>f&&va(d);S(b,c,a)},eventType:"change"});return a},createButton:function(d){var a="",b=d.fieldPrefix||M,c=d.elementId||d.elementName,e=d.elementClasses&&u(d.elementClasses)?d.elementClasses:[],f="object"===typeof d.elementAttributes?d.elementAttributes:{},g=d.type?d.type:"submit";x(e,"capture_"+c)||e.push("capture_"+c);x(e,"capture_btn")||e.push("capture_btn");x(e,"capture_primary")||e.push("capture_primary");a+="<button ";
d.hide&&(a+="style='display:none' ");a=a+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");a=a+("type='"+g+"' ")+("data-capturefield='"+d.name+"' ");d.value&&(a+="value='"+d.value+"' ");a+=Ob(f)+" ";a+="name='"+d.elementName+"' ";a+=">";d.elementContent&&(a+=d.elementContent);a+="</button>";d.modify&&k.attachModifyEventHandler(d);return a},createInput:function(d){var a="",b="",c=d.fieldPrefix||M,e=d.elementId||d.elementName,f=d.elementClasses&&u(d.elementClasses)?d.elementClasses:[],g="object"===typeof d.elementAttributes?
d.elementAttributes:{},h="button"===d.type||"submit"===d.type||"checkbox"===d.type||"radio"===d.type||"hidden"===d.type,i=d.justElement||d.collection||"hidden"===d.type||"button"===d.type||"submit"===d.type,m="password"===d.type&&!mb&&d.placeholder?"text":d.type,n=("checkbox"===d.type&&!d.collection||"radio"===d.type&&!d.collection)&&!d.justElement,o=d.rendererFieldName,j=d.rendererChildFieldName,q=Qc&&!d.collection;x(f,"capture_"+e)||f.push("capture_"+e);h||(b+=k.createLabel(d));d.validation&&d.validation.required&&
f.push("capture_required");a+="<input ";d.hide&&(a+="style='display:none' ");a=a+("id='"+c+e+"' ")+(Ob(g)+" ");"text"===d.type||"email"===d.type||"password"===d.type||"file"===d.type?x(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===d.type||"radio"===d.type?x(f,"capture_input_"+d.type)||f.push("capture_input_"+d.type):"submit"===d.type&&(x(f,"capture_btn")||f.push("capture_btn"),x(f,"capture_primary")||f.push("capture_primary"));a+="data-capturefield='"+d.name+"' ";d.collection&&
(a+="data-capturecollection='true' ");o&&(a+="data-capturerendererfield='"+o+"' ");j&&(a+="data-capturerendererchildfieldname='"+j+"' ");("checkbox"===d.type||"radio"===d.type)&&d.elementValue?a+="value='"+rd(d.elementValue)+"' ":d.value||"string"===typeof d.displaySavedValue?(g=d.value,h="string"===typeof d.displaySavedValue?d.displaySavedValue:d.value,d.displaySavedValue&&Wc[h]&&(g=rd(Wc[h]),"password"===d.type&&(m="password")),("password"===d.type||"text"===d.type||"email"===d.type)&&!d.errors&&
q&&Ad.push(c+e),a+="value='"+g+"' "):d.placeholder&&!mb?(a+="value='"+rd(d.placeholder)+"' ",x(f,"capture_input_placeholder")||f.push("capture_input_placeholder")):a+="value='' ";a=a+("type='"+m+"' ")+("class='"+f.join(" ")+"' ");d.subId&&(a+='data-subid="'+d.subId+'" ');d.placeholder&&(a+="placeholder='"+rd(d.placeholder)+"' ");if(d.checked||d.elementValue&&d.value===d.elementValue)a+="checked='checked' ";a+="name='"+d.elementName+"' ";a+="/>";b="checkbox"===d.type||"radio"===d.type?b+k.createLabel(d,
a):b+a;d.modify&&k.attachModifyEventHandler(d);d.publicPrivateToggle&&(b+=k.createPublicPrivateToggle(d));n&&(b+="</div>");i||(b+=k.createTip(d));d.profileStoragePath&&"undefined"===typeof d.value&&k.setElementAttributeWithLocalStorage(d,c+e,"value");return b},createDiv:function(d){var a="<div ",b=d.fieldPrefix||M,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?d.elementAttributes:{},f=d.classes||[];x(f,"capture_"+c)||f.push("capture_"+c);a+="id='"+b+c+"'";if("option"===d.type&&
!d["default"]||d.hide)a+=" style='display:none'";"radioCollection"===d.type&&f.push("radio_set");u(f)&&f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=Ob(e)+" ";a+="data-capturefield='"+d.name+"' ";a+=">";d.elementText&&(a+=d.elementText);d.closeDiv&&(a+="</div>");return a},createImage:function(d){var a,b=d.fieldPrefix||M,c=d.classes||[],e=d.elementId||d.imageId||d.elementName||"";a="<img "+('src="'+d.src+'"');e&&!x(c,"capture_"+e)&&c.push("capture_"+e);d.hide&&
(a+=" style='display:none'");d.alt&&(a+=" alt='"+d.alt+"'");"undefined"!==typeof d.width&&(a+=" width='"+d.width+"'");"undefined"!==typeof d.height&&(a+=" height='"+d.height+"'");e&&(a+=' id="'+b+d.imageId+'" ');u(c)&&c.length&&(a=a+'class="'+c.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(d,a){var b,c="captureIFrame_"+d;if(document.getElementById(c))return!1;if(qe[a]&&(b=document.getElementById(qe[a])))b="div"==b.parentNode.tagName.toLowerCase()?b.parentNode:b,Ib(b);qe[a]=c;
if(f){b="";var e=document.createElement("div");e.innerHTML=b+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+d+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(e)}else b=document.createElement("iframe"),b.setAttribute("name",c),b.setAttribute("data-transactionId",d),b.id=c,b.setAttribute("src","about:blank"),b.style.display="none",b.className="",document.body.appendChild(b)},createAnchor:function(d){var a=d.fieldPrefix||M,b=document.createElement("a");
if(!d.classes||d.classes&&!u(d.classes))d.classes=[];d.elementId&&!x(d.classes,a+d.elementId)&&d.classes.push(a+d.elementId);b.setAttribute("href",d.elementHref);b.innerHTML=d.elementText;d.elementId&&(b.id=a+d.elementId);b.className=d.classes.join(" ");d.hideElement&&(b.style.display="none");return b},createDiv:function(d){var a=d.fieldPrefix||M,b=document.createElement("div");if(!d.classes||d.classes&&!u(d.classes))d.classes=[];d.elementId&&!x(d.classes,a+d.elementId)&&d.classes.push(a+d.elementId);
d.elementId&&(b.id=a+d.elementId);b.className=d.classes.join(" ");d.hideElement&&(b.style.display="none");return b},createImage:function(d){var a=d.fieldPrefix||M,b=document.createElement("img");if(!d.classes||d.classes&&!u(d.classes))d.classes=[];d.elementId&&!x(d.classes,a+d.elementId)&&d.classes.push(a+d.elementId);d.alt&&b.setAttribute("alt",d.alt);"undefined"!==typeof d.width&&b.setAttribute("width",d.width);"undefined"!==typeof d.height&&b.setAttribute("height",d.height);b.src=d.elementSrc;
d.elementId&&(b.id=a+d.elementId);b.className=d.classes.join(" ");d.hideElement&&(b.style.display="none");return b},createInput:function(d){var a=document.createElement("input"),b=d.fieldPrefix||M,c="object"===typeof d.elementAttributes?d.elementAttributes:{},e=d.containerDivClasses||[],f;"submit"===d.elementType&&d.containerDiv&&(f=this.createDiv({elementName:d.elementName+"_containverDiv",classes:e}));if(!d.classes||d.classes&&!u(d.classes))d.classes=[];for(var g in c)c.hasOwnProperty(g)&&a.setAttribute(g,
c[g]);d.elementId&&!x(d.classes,b+d.elementId)&&d.classes.push(b+d.elementId);d.elementType&&a.setAttribute("type",d.elementType);d.name&&a.setAttribute("data-capturefield",d.name);d.elementValue&&(a.value=d.elementValue);d.elementName&&(a.name=d.elementName);d.elementId&&(a.id=b+d.elementId);d.hideElement&&(a.style.display="none");a.className=d.classes.join(" ");return f?(f.appendChild(a),f):a},createForm:function(d){d.transactionId||(d.transactionId=Ba());var a=d.transactionId,b=d.captureScreen||
fa,c=d.fieldPrefix?d.fieldPrefix:q(b),e=document.createElement("form"),f=u(d.fields)?d.fields:[],g=f.length;k.domHelpers.createIFrame(a,c+d.elementId);d.needsResponse&&ya(a);if(!d.classes||d.classes&&!u(d.classes))d.classes=[];d.elementId&&!x(d.classes,c+d.elementId)&&d.classes.push(c+d.elementId);e.id=c+d.elementId+"_"+a;e.className=d.classes.join(" ");e.setAttribute("target","captureIFrame_"+a);e.setAttribute("data-transactionId",a);d.name&&e.setAttribute("data-capturefield",d.name);e.setAttribute("action",
d.elementAction);e.setAttribute("method","POST");e.setAttribute("data-capturedomelement","true");d.validate&&e.setAttribute("data-capturedomelementvalidate","true");e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:"\u2713",elementName:"utf8"}));m&&m.mergeToken&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:m.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));janrain.settings.capture.backplane&&"undefined"!==
typeof Backplane&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:Backplane.getChannelID(),elementName:"bp_channel",elementId:"bp_channel_"+a}));Lb&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:Lb,elementName:"flow_path",elementId:"flow_path_"+a}));if(s)e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:s,elementName:"access_token",elementId:"access_token_"+a}));else{var h=d.elementAction.substring(janrain.settings.capture.captureServer.length+
1,d.elementAction.length);d&&d.elementAction&&!x($e,h)&&C&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:C,elementName:"access_token",elementId:"access_token_"+a}))}fa&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:b,elementName:"capture_screen",elementId:"screen_"+a}));Sb&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:Sb,elementName:"js_version",elementId:"js_version_"+a}));
d.serverNextScreen&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:d.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));d.engageTokenRequired&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",elementValue:Aa,fieldPrefix:c,elementName:"token",elementId:"token_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",elementValue:a,fieldPrefix:c,elementName:"capture_transactionId",elementId:"transactionId_"+
a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:d.name,elementName:"form",elementId:"form_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:m.flow,elementName:"flow",elementId:"flow_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:c,elementName:"redirect_uri",elementId:"redirect_uri_"+a,elementValue:janrain.settings.capture.redirectUri}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:janrain.settings.capture.responseType,elementName:"response_type",elementId:"response_type_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:zd,elementName:"flow_version",elementId:"flow_version_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:c,elementValue:ab,elementName:"settings_version",elementId:"settings_version_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:wc,elementName:"locale",elementId:"locale_"+a}));for(b=0;b<g;b++)switch(a=f[b],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||c;e.appendChild(k.domHelpers.createDiv(a));break;case "anchor":a.fieldPrefix=a.fieldPrefix||c;e.appendChild(k.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||
c;e.appendChild(k.domHelpers.createInput(a));break;case "file":a.fieldPrefix=a.fieldPrefix||c;e.setAttribute("enctype","multipart/form-data");e.appendChild(k.domHelpers.createInput(a));break;case "submit":a.fieldPrefix=a.fieldPrefix||c,e.appendChild(k.domHelpers.createInput(a))}k.domHelpers.createFormHandler(e,d);return e},createFormHandler:function(a,b){"function"===typeof b.callback&&(a.setAttribute("next",'{"function":"'+b.elementId+'"}'),he[b.elementId]=b.callback);y(a,"submit",ub)},createFormAndPost:function(a){var b=
a.fieldPrefix||M,c=Ba();a.fieldPrefix=a.fieldPrefix||b;a.transactionId=c;var e=k.domHelpers.createForm(a),b=k.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:b,elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});e.appendChild(b);document.body.appendChild(e);k.domHelpers.createFormHandler(e,a);b.click()}},createListOfLinks:function(a,b){var c=a.fieldPrefix||M,e;optionsLength=a.length;e="<ul";u(b)&&b.length&&(e=e+' class="'+b.join(" "),e+=
'"');e+=">";for(var f=0;f<optionsLength;f++){e+="<li";"string"===typeof a[f].listItemId&&(e+=' id="'+c+a[f].listItemId+'" ');a[f].hide&&(e+=' style="display: none;" ');if(!a[f].listItemClasses||!u(a[f].listItemClasses))a[f].listItemClasses=[];"string"===typeof a[f].listItemId&&!x(a[f].listItemClasses,"capture_"+a[f].listItemId)&&a[f].listItemClasses.push("capture_"+a[f].listItemId);u(a[f].listItemClasses)&&a[f].listItemClasses.length&&(e+=' class="',e+=a[f].listItemClasses.join(" "),e+='"');e+=">";
e+='<a href="'+a[f].anchorHref+'"';e+=' data-capture-tab-index="'+f+'"';"string"===typeof a[f].anchorId&&(e+=' id="'+c+a[f].anchorId+'" ');if(!a[f].anchorClasses||!u(a[f].anchorClasses))a[f].anchorClasses=[];"string"===typeof a[f].anchorId&&!x(a[f].anchorClasses,"capture_"+a[f].anchorId)&&a[f].anchorClasses.push("capture_"+a[f].anchorId);u(a[f].anchorClasses)&&a[f].anchorClasses.length&&(e+=' class="',e+=a[f].anchorClasses.join(" "),e+='"');e+=">";e+=a[f].anchorText;e+="</a>";e+="</li>"}return e+
"</ul>"},togglePasswordInput:function(a,b){var c=Pa(a),e=c.getAttribute("data-capturefield"),e=m&&m.fields&&e?m.fields[e]:"";q(c);if(e&&!e.placeholder)return!1;"text"===c.type&&c.getAttribute("value")===c.getAttribute("placeholder")&&c.setAttribute("value","");if(f&&"text"===c.type){var g=document.createElement("span"),h=c.parentElement;h.insertBefore(g,c);h.removeChild(c);e=document.createElement("input");e.id=c.id;e.setAttribute("data-capturefield",c.name);e.className="capture_password capture_text_input";
e.name=c.name;e.setAttribute("type","password");h.insertBefore(e,g);h.removeChild(g);for(c=0;c<b.length;c++)"function"===typeof b[c].handler&&y(e,b[c].eventType,b[c].handler);e.focus()}else"password"!=c.getAttribute("type")&&c.setAttribute("type","password")},clearPlaceHolder:function(a){if(mb)return!0;a="value"in a?a:Pa(a);a.value===a.getAttribute("placeholder")&&(f?a.value="":a.setAttribute("value",""),o(a).remove("capture_input_placeholder"))},restorePlaceHolder:function(a){if(mb)return!0;var a=
"value"in a?a:Pa(a),b=a.getAttribute("placeholder");if(!b||"password"===a.getAttribute("type"))return!1;b&&""===a.value&&(f?a.value=b:a.setAttribute("value",b),o(a).append("capture_input_placeholder"))},setField:function(a,b,c){c+=a.name;if("dateselect"===a.type){if(b=pd("{yyyy}-{0m}-{0d}",b),pb(b)&&(a=document.getElementById(c+"_dateselectmonth")))a.selectedIndex=b.getMonth()+1,Bb(a,"change"),a=document.getElementById(c+"_dateselectday"),a.selectedIndex=b.getDate(),Bb(a,"change"),a=document.getElementById(c+
"_dateselectyear"),a.value=b.getFullYear(),Bb(a,"change")}else if("text"===a.type||"hidden"===a.type){if(a=document.getElementById(c))a.value=Le(b),Bb(a,"change")}else n.forceError("Setting a field with type '"+a.type+"' is not supported yet.")},resetField:function(a,b){var c,e=b+a.name;if("dateselect"===a.type){if(c=document.getElementById(e+"_dateselectmonth"))c.selectedIndex=0,o(c).append("capture_disabled"),c=document.getElementById(e+"_dateselectday"),c.selectedIndex=0,o(c).append("capture_disabled"),
c=document.getElementById(e+"_dateselectyear"),c.selectedIndex=0,o(c).append("capture_disabled")}else if("text"===a.type||"hidden"===a.type){if(c=document.getElementById(e))c.value="",Bb(c,"change")}else n.forceError("Resetting a field with type '"+a.type+"' is not supported yet.")},validation:function(){function a(d){e=d;var c=b.id||b.name;T.add({id:c,valid:"valid"===d},{merge:!0});oa[c].status=e}var b,c,e,f,g;return{getElement:function(){return b},getParentDiv:function(){return c},getState:function(){return e},
getValidation:function(){return g},setState:function(b){a(b)},setUnique:function(a){f=a;oa[b.id||b.name].unique=f},setValidation:function(a){g=a},setParentDiv:function(a){(c=a)&&c.className.split(" ")},setElement:function(a){b=a;c&&c.className.split(" ")},valid:function(e){e||o(c).append("capture_validated");o(c).remove("capture_validating").remove("capture_error");a("valid");e={};b&&(e.field=b);janrain.events.onCaptureValidationSuccess.fire(e);janrain.events.onCaptureContentChange.fire()},pending:function(){a("pending");
o(c).append("capture_validating").remove("capture_validated").remove("capture_error");janrain.events.onCaptureContentChange.fire()},notValid:function(){var e;switch(arguments.length){case 1:message=arguments[0];break;case 2:message=arguments[0];"function"===typeof arguments[1]?callback=arguments[1]:e=arguments[1];break;case 3:message=arguments[0],e=arguments[1],callback=arguments[2]}a("invalid");if(message){if("noValidationMessage"!==message){o(c).append("capture_error").remove("capture_validated");
for(var f,h=q(c),J=c.getElementsByTagName("div"),i=J.length,k=0;k<i;k++)if("capture_tip_error"===J[k].className){var m=0===c.id.indexOf(h+"form_collection_")?h+"form_collection_":h+"form_item_";if(c.id.split(m)[1]===J[k].getAttribute("data-elementName")||c.id.split(m)[1]+"[dateselect_year]"===J[k].getAttribute("data-elementName")){f=J[k];break}}f&&(f.innerHTML=message)}"function"===typeof callback&&callback();janrain.events.onCaptureContentChange.fire()}f={};b&&(f.field=b);f.message=message;f.parentDiv=
c;f.invalidType=e;g&&(f.validation=g);janrain.events.onCaptureValidationFailed.fire(f)}}}},le={createSelect:k.createSelect,createTextarea:k.createTextarea,createAnchor:k.createAnchor,createInput:k.createInput,createLabel:k.createLabel,createDiv:k.createDiv,createImage:k.createImage,createListOfLinks:k.createListOfLinks,togglePassword:k.togglePasswordInput,clearPlaceHolder:k.clearPlaceHolder,restorePlaceHolder:k.restorePlaceHolder,getElementByEventAttribute:Pa},af=0;z.prototype.render={data:{engageCookie:function(a){return Ic(a.cookieName)},
localStorage:function(a){var b="",c=(a.fieldPrefix||M)+(a.elementId||a.elementName),e=a.classes?a.classes.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"):"",f=a.valuePath,g="";if(!janrain.settings.capture.setProfileCookie)return K.log("localStorage renderer can not be used without janrain.settings.capture.setProfileCookie set to true"),K.show(),"";janrain.settings.multiDomainLocalStorage?Vc(a.data,function(b){b=k.getValueFromObject(a,b,f);qa(function(){var a;a=b;var d=document.getElementById(c);d?
(Da(d,a),a=!0):a=!1;return a}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){n.warn("Poll to get local storage data failed. Key: "+a.data)}).start()}):b=Vc(a.data);g='<span id="'+c+'" class="'+e+'">'+k.getValueFromObject(a,b,f);return g+"</span>"},string:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",c,b=m.fields&&m.fields[a.value]?m.fields[a.value]:"";a.displaySavedValue&&(c=b&&b.type&&"password"===b.type);c=a.displaySavedValue&&Wc[a.value]&&
(!c||c&&Rc)?Wc[a.value]:a.value;b=a.justString?c:k.wrapStringData(a,c);"undefined"!==typeof a.hideWhenValue&&c===a.hideWhenValue&&(b="");return b},image:function(a){var b;a.value&&(a.returnImageTag?(b={elementName:a.elementname,hide:a.hide,src:a.value},a.classes&&(b.classes=a.classes),a.elementId&&(b.elementId=a.elementId),b=k.createImage(b)):b=a.value);return b}},html:{anchor:function(a){return a=""+k.createAnchor(a)},textarea:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createTextarea(a);
b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},select:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createSelect(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},multi:function(a,b){var c="",e,f,g=a.options.length;f=u(a.value)?a.value:"string"===typeof a.value?a.value.split(","):"boolean"===typeof a.value||"number"===typeof a.value?[a.value]:[];var h=0;for(e=f.length;h<e;h++)f[h]=f[h].toString();a.type="elementCollection";c+=k.wrapFormItemStart(a);c+=k.createLabel(a);
for(h=0;h<g;h++)e=a.options[h],e.value="undefined"===typeof e.value?"":e.value.toString(),e.label="undefined"===typeof e.label?"":e.label.toString(),e.value=e.value||e.label,e.label=e.label||e.value,c+=this.input({elementName:a.elementName,type:b,elementId:a.elementName+"_"+e.value+"_"+h,name:a.name,value:e.value,collection:!0,label:e.label,checked:x(f,e.value)}),t.push({elementName:a.elementName+"_"+e.value+"_"+h,handler:function(b,c){return function(){for(var e=q(this),l=document.getElementById(e+
"form_collection_"+a.elementName),l=aa("capture_form_item_"+a.elementName,l),e=document.getElementById(e+"form_item_"+a.elementName+"_"+b+"_"+c),r=0,f=l.length;r<f;r++)o(l[r]).remove("capture_toggled");e&&o(e).append("capture_toggled")}}(e.value,h),eventType:"click"});c+=k.createTip(a);return c+=k.wrapFormItemEnd(a)},multiCheckbox:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},multiRadio:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},input:function(a){var b;
b=""+k.wrapFormItemStart(a);b+=k.createInput(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},button:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createButton(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},form:function(a){var b="<form ",c="object"===typeof a.elementAttributes?a.elementAttributes:{},e=a.localFieldPrefix||M,f=a.classes||[];f.indexOf("capture_form"===-1)&&f.push("capture_form");f.indexOf(-1==="capture_"+a.elementName)&&f.push("capture_"+a.elementName);
b+="id='"+e+a.elementName+"' ";b+=Ob(c)+" ";b+="name='"+a.elementName+"' ";b+="data-capturefield='"+a.name+"' ";b+="action='"+janrain.settings.capture.captureServer+"/"+a.action+"' ";u(f)&&(b+="class='"+f.join(" ")+"' ");var b=b+"method='POST' novalidate='novalidate' "+("data-transactionId='"+a.transactionId+"' "),b=b+("target='captureIFrame_"+a.transactionId+"' "),b=b+"accept-charset='UTF-8' >"+('<div id="'+e+a.elementName+'_defaultSavedProfileMessage"></div>'),b=b+('<div id="'+e+a.elementName+'_errorMessages"></div>'),
g="";if(a.errors){janrain.events.onCaptureFormError.fire(a.errors);for(var h in a.errors)a.errors.hasOwnProperty(h)&&(g+=k.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),g+=a.errors[h]+"</div>")}t.push({handler:function(){ya(a.transactionId)},eventType:"render"});t.push({handler:function(){var b=document.getElementById(e+a.elementName);if(!b)return!1;var c=aa("capture_form_error_container",b),c=c.length?c[0]:document.getElementById(e+a.elementName+"_errorMessages");
g?(c.innerHTML=g,o(b).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,i;for(i in c)c.hasOwnProperty(i)&&(b+=k.createInput({elementName:i,type:"hidden",value:c[i]}))}b+=k.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b+=k.createInput({elementName:"bp_channel",
elementId:"bp_channel"+a.transactionId,type:"hidden",value:Backplane.getChannelID()}));Lb&&(b+=k.createInput({elementName:"flow_path",elementId:"flow_path_"+a.transactionId,type:"hidden",value:Lb}));m&&m.mergeToken&&(b+=k.createInput({elementName:"merge_token",elementId:"merge_token_"+a.transactionId,type:"hidden",value:m.mergeToken}));s?b+=k.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:s}):a&&a.action&&!x($e,
a.action)&&C&&(b+=k.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:C}));fa&&(b+=k.createInput({elementName:"capture_screen",elementId:"screen_"+a.transactionId,type:"hidden",value:fa}));Sb&&(b+=k.createInput({elementName:"js_version",elementId:"js_version_"+a.transactionId,type:"hidden",value:Sb}));a.serverNextScreen&&(b+=k.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+a.transactionId,
type:"hidden",value:a.serverNextScreen}));if(a.engageTokenRequired||cd)b+=k.createInput({elementName:"token",elementId:"token_"+a.transactionId,type:"hidden",value:Aa});b+=k.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+a.transactionId,type:"hidden",value:a.transactionId});b+=k.createInput({elementName:"form",elementId:"form_"+a.transactionId,type:"hidden",value:a.name});b+=k.createInput({elementName:"flow",elementId:"flow_"+a.transactionId,type:"hidden",value:m.flow});
b+=k.createInput({elementName:"client_id",elementId:"client_id_"+a.transactionId,type:"hidden",value:janrain.settings.capture.clientId});b+=k.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+a.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});b+=k.createInput({elementName:"response_type",elementId:"response_type_"+a.transactionId,type:"hidden",value:janrain.settings.capture.responseType});b+=k.createInput({elementName:"flow_version",elementId:"flow_version_"+
a.transactionId,type:"hidden",value:zd});b+=k.createInput({elementName:"settings_version",elementId:"settings_version_"+a.transactionId,type:"hidden",value:ab});b+=k.createInput({elementName:"locale",elementId:"locale_"+a.transactionId,type:"hidden",value:wc});k.domHelpers.createIFrame(a.transactionId,e+a.elementName);!1!==a.listenToFields&&t.push({handler:function(){var b=document.getElementById(e+a.elementName);b&&(y(b,"keyup",function(a){(8==a.keyCode||46==a.keyCode)&&W(a)}),y(b,"keypress",function(a){(a.charCode||
a.keyCode)&&W(a)}),y(b,"change",W),b.addEventListener?(b.addEventListener("focus",ec,!0),b.addEventListener("blur",Ya,!0)):"object"===typeof window.attachEvent&&(b.attachEvent("onfocusin",ec),b.attachEvent("onfocusout",Ya)))},eventType:"render"});return b},div:function(a){return k.createDiv(a)},close:function(a){return"capture"===a.element?"photoManager"===a.type?"</div>":"":"</"+a.element+">"}},capture:{table:function(a){var b='<table class="capture_table">',c=z.prototype.render.html;if(a.th.display){var b=
b+"<tr>",e;for(e in a.th.cols)b+="<th>"+a.th.cols[e]+"</th>";b+="</tr>"}for(var f in a.rows){var b=b+"<tr>",g;for(g in a.rows[f].cells)a.rows[f].cells[g].type&&"radio"===a.rows[f].cells[g].type?(e=a.rows[f].cells[g],e.name="table",a.value&&e.elementValue===a.value[e.rendererChildFieldName]&&(e.checked=!0),b+="<td>",b+=k.wrapFormItemStart(a),b+=c.input(e),b+=k.wrapFormItemEnd(a),b+="</td>"):b+="<td>"+a.rows[f].cells[g]+"</td>";b+="</tr>"}return b+"</table>"},countrySelect:function(a){a.customText||
(a.customText={});a.options=[{text:a.customText.countryLabel||"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},
{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",
value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",
value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo",value:"Congo"},{text:"Congo",value:"Congo"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},
{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia",value:"Croatia"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",
value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},
{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},
{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea",
value:"Korea"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},
{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},
{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},
{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",
value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",
value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",
value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},
{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",
value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return z.prototype.render.html.select(a)},stateSelect:function(a){a.customText||(a.customText={});var b=[{text:a.customText.stateLabel||"state",value:"",disabled:!0}],b=a.noCanadianProvinces?b.concat(Ke):b.concat(Ke,qf);a.options=b;return z.prototype.render.html.select(a)},keepMeLoggedIn:function(a){var b=a.fieldPrefix||M;Id=a.checked||!1;a=""+k.createInput({label:a.label||"Keep me logged in",
type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:Id,elementName:"capture_keep_me_logged_in"});t.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(b+"capture_keep_me_logged_in");janrain.engage.signin.appendTokenParams({keepMeLoggedIn:loggedInElement.checked},!0,!0)},eventType:"render"});t.push({elementName:"capture_keep_me_logged_in",handler:function(a){a=N(a);Id=a.checked;janrain.engage.signin.appendTokenParams({keepMeLoggedIn:a.checked},
!0,!0)},eventType:"click"});return a},captcha:function(a){var b=a.fieldPrefix||M,c="http:"===document.location.protocol?"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",c=janrain.settings.capture.recaptchaUrl||c;"undefined"!==typeof Recaptcha&&(ee=!0);ee||Ia(c,function(){ee=!0});var e="recaptcha_container";0<af&&(e=b+"_"+e);t.push({elementName:a.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,
20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,e,{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});b=""+k.wrapFormItemStart(a);a.label&&(b+=k.createLabel(a));b=b+('<div id="'+e+'"></div>')+k.createTip(a);b+=k.wrapFormItemEnd(a);af++;return b},mergeAccounts:function(a,b){var b=b?H.parse(b):{custom:!1},c=z.prototype.render,
e=a.value,f="";e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;a.customText||(a.customText={});var g=a.customText.connectRadio||'Connect this session with your existing account. <span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',h=
a.customText.connectLegacyRadio||'Connect this session with your existing account <span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',i=a.customText.createRadio||"Create a new account using {| current_provider |} sign-in.",k=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",m=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
n=a.customText.moreInfo||"More Info ?",j=a.customText.createButton||"Create",q=a.customText.connectButton||"Connect";e.connectRadioText=Y(e,g);e.connectLegacyRadioText=Y(e,h);e.createRadioText=Y(e,i);e.foundExistingAccountText=Y(e,k);e.moreInfoHoverText=Y(e,m);e.moreInfoText=Y(e,n);e.createButtonText=Y(e,j);e.connectButtonText=Y(e,q);k="";if("useConnectIcons"in a?a.useConnectIcons:1)k+='<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase().replace("+",
"plus")+'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.current_provider.toLowerCase().replace("+","plus")+'"></span>';e.connect_button=c.html.button({elementContent:k+q,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=c.html.button({elementContent:j,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=c.html.multiRadio({element:"multiRadio",
value:[1],elementName:a.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?Y(e,h):Y(e,g),value:1},{label:i,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase().replace("+",
"plus");e.existing_provider_lowerCase=e.existing_provider.toLowerCase().replace("+","plus");b.custom?t.push({handler:function(){var b=document.getElementById(a.name);b.innerHTML=Y(e,b.innerHTML)},eventType:"render"}):f+=Y(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}         </div>         <span class="capture_mergeProvider janrain-provider-icon-24 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
t.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(xd=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});t.push({elementName:a.name+"_createButton",handler:function(){$c?dc():(uc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});t.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(M+a.name+"_connectButton").style.display="";document.getElementById(M+a.name+"_createButton").style.display="none";o(document.getElementById(M+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");o(document.getElementById(M+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});t.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(M+a.name+"_connectButton").style.display="none";document.getElementById(M+a.name+"_createButton").style.display="";o(document.getElementById(M+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");o(document.getElementById(M+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return f},publicProfileLink:function(a,b){var c="",e=b?H.parse(b).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return c+=k.createAnchor(a)},linkSocialAccount:function(a){var b=fa,c=k.createDiv({elementId:"link_social_account_"+a.provider,name:a.name}),c=c+k.createButton(a),c=c+"</div>";t.push({elementName:a.name,handler:function(c){Nb.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"click"});t.push({elementName:a.name,
handler:function(c){Nb.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"keypress"});ib||ob();return c},linkAccounts:function(a){function b(c){var e=a.value.providers[c],l=a.value.displayNames[c],r=a.value.identifiers[c],g=a.value.prettyProviders?a.value.prettyProviders[c]:e,h=f+a.name+"_extraFields_"+e,c=""+('<li class="capture_provider_linked" data-capturerelatedfieldsid="'+h+'">')+'<span class="'+("janrain-provider-icon-"+j+" janrain-provider-icon-"+e+(a.customIcons?"-custom":"")+'">'),
c=c+'</span><span class="',i=l&&"null"!==l.toLowerCase(),m=/\{\|\s*displayName\s*\|}/.test(a.displayFormat),l=i||!m?Y({provider:g,displayName:l},a.displayFormat):g,c=c+("janrain-provider-text-"+e+(a.customIcons?"-custom":"")+'">'+l+"</span>");!Dd&&1===k||(c+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+e+'" data-captureidentifier="'+r+'"></span>');c+="</li>";a.additionalFields&&a.additionalFields[e]&&(c=c+('<div class="capture_linkAccounts_additionalFields" id="'+
h+'">')+gf(a.additionalFields[e],function(a){return"{* "+a+" *}"}).join("\n"),c+="</div>");return c}function c(b){N(b);Nb.unLinkAccount(b,a,e,function(){p--;!Dd&&1>=p&&setTimeout(function(){var a=aa("capture_remove_linkedaccount");Ib(a[0])},0)})}a.value||(a.value={});a.customText||(a.customText={});var e=fa,f=a.fieldPrefix||M,g='<div class="capture_linkAccounts" id="'+f+a.name+'_currentlinkedaccounts">',h=m.fields[a.linkAccountContainer].elementName||m.fields[a.linkAccountContainer].name||a.linkAccountContainer,
i=a.customText.linkAnotherAccount||"Link account",k=u(a.value.providers)?a.value.providers.length:0,n=f+a.name+"_linkaccountsscreen",j=a.providerIconSize&&x(pf,a.providerIconSize)?a.providerIconSize:16,g=g+('<ul class="capture_provider" id="'+f+a.name+'_linkedproviderlist">');if(a.customAddLinks){for(var o=0,i=a.customProviders.length;o<i;o++)if(x(a.value.providers,a.customProviders[o]))var q=a.value.providers.indexOf(a.customProviders[o]),g=g+b(q);else g+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+
a.customProviders[o]+'">',g+=Y({provider:a.customProviders[o]},a.customAddLinkFormat)+"</li>";t.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Nb.linkWithCustomLink(a,e)},eventType:"click"});t.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Nb.linkWithCustomLink(a,e)},eventType:"keypress"})}else{for(o=0;o<k;o++)g+=b(o);g+='<li class="capture_linkAccount"><a href="#" id="'+f+a.name+'_linknewlink">'+i+"</a></li>"}g+="</ul></div>";t.push({elementName:a.name+"_linknewlink",
handler:function(a){Nb.openInModal(a,e,n)},eventType:"click"});var p=k;t.push({elementName:a.name+"_currentlinkedaccounts",handler:c,eventType:"keypress"});t.push({elementName:a.name+"_currentlinkedaccounts",handler:c,eventType:"click"});g=g+'<div style="display: none;">'+('<div id="'+n+'"')+' class="janrain-capture-ui capture-ui-content capture_addLinkedAccount';Ga&&(g+=" janrain-capture-ui-mobile");g=g+'">'+('<div id="'+f+a.name+'_linkAccountContainerContainer">');g+="</div></div></div>";a.customAddLinks||
t.push({handler:function(){Nb.renderHandler(f+h,f+a.name+"_linkAccountContainerContainer")},eventType:"render"});return g},errorMessages:function(){var a;a=""+z.prototype.render.html.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+z.prototype.render.html.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});
return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",b="";a.value.firstname&&(b+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&!a.hideMiddlename&&(b+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(b+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+
a.value.lastname+"</span>");return b=a.justString?b:k.wrapStringData(a,b,"capture_stringdata_nameBlock")},nameFull:function(a){var b,c=z.prototype.render.html;b='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});a.hideMiddlename||(b+=c.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""}));b+=c.input({elementName:a.name+
"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return b+"</div>"},multipurposeAuth:function(a){var b;a.type="text";b=""+k.wrapFormItemStart(a);b+=k.createInput(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);a.type="multipurposeAuth";return b},dateselect_public:function(a){if("undefined"!==
typeof a.displayPublic&&!1===a.displayPublic||!a.value||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var b="",b="",c,b=parseInt(a.value.dateselect_month,10);c=parseInt(a.value.dateselect_year,10);var e=parseInt(a.value.dateselect_day,10);a.format?(b=new Date(c,b-1,e),c=a.format,b=qb(c,b,{monthNames:a.monthNames,dayNames:a.dayNames})):b=b+"/"+e+"/"+c;return b=a.justString?b:k.wrapStringData(a,b,"capture_stringdata_dateselectBlock")},dateselect:function(a){function b(c){c=
N(c);c=q(c);c=document.getElementById(c+"form_item_"+a.elementName);o(c).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()}function c(b){var e=N(b),l=q(e),l=document.getElementById(l+"form_item_"+a.elementName);o(l).remove("capture_focused");Na(e,a)&&Ab(b)}a.customText||(a.customText={});var e=a.customText.dayLabelDateSelect||"day",f=a.customText.monthLabelDateSelect||"month",g=a.customText.yearLabelDateSelect||"year",h=Ee;a.monthNames&&u(a.monthNames)&&
12===a.monthNames.length&&(h=a.monthNames);var m=a.fieldPrefix||M,n='<div id="'+m+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',j,p,s,x=u(a.format)&&3===a.format.length?a.format:["month","day","year"],w=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",y=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"",z=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"",f=[{text:f,value:"",disabled:!0},{text:h[0],value:1},{text:h[1],
value:2},{text:h[2],value:3},{text:h[3],value:4},{text:h[4],value:5},{text:h[5],value:6},{text:h[6],value:7},{text:h[7],value:8},{text:h[8],value:9},{text:h[9],value:10},{text:h[10],value:11},{text:h[11],value:12}],h=a.monthStart||1,A=a.monthEnd||13,v=a.dayStart||1,C=a.dayEnd||31,D=a.yearStart||1929,H=a.yearEnd||(new Date).getFullYear();s={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],
justElement:!0,value:z,options:f.slice(0,1).concat(f.slice(h,A))};p={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:w,options:i(v,C,"asc",e)};D=parseInt(D,10);H=parseInt(H,10);j={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],
value:y,options:i(D,H,"desc",g)};for(e=0;3>e;e++){var B;switch(x[e]){case "month":B=s;break;case "day":B=p;break;case "year":B=j}0===e&&(B.label=a.label);2===e&&(B.publicPrivateToggle=a.publicPrivateToggle,B.displayPublic=a.displayPublic,B.tip=a.tip,B.justElement=!1);n+=k.createSelect(B)}if(a.datePicker){var I,x=new Date(z+"/"+w+"/"+y),G;G=isNaN(x.getMonth())?{provideOpenButton:!0}:{provideOpenButton:!0,defaultDate:x,preSelectedDate:x};Ca(G,a.datePickerSettings||{});t.push({elementName:j.elementName,
eventType:"render",handler:function(){var a=document.getElementById(m+s.elementId),d=document.getElementById(m+p.elementId),b=document.getElementById(m+j.elementId);G.elementAttachedTo=b.parentNode;G.extraTargetElements=[a,d,b];G.callback=function(c){a.value=c.getMonth()+1;b.value=c.getFullYear();d.value=c.getDate();va(a);va(d);va(b);o(a).remove("capture_disabled");o(b).remove("capture_disabled");o(d).remove("capture_disabled");b.focus();b.blur()};I=new jb(G)}});var E=function(){if("undefined"!==
typeof I){var a=document.getElementById(m+s.elementId),d=document.getElementById(m+p.elementId),b=document.getElementById(m+j.elementId),c=new Date;c.setFullYear(b.value);c.setMonth(a.value-1);c.setDate(d.value);I.setSelectedDate(c)}};t.push({elementName:j.elementId,eventType:"change",handler:function(){E()}});t.push({elementName:s.elementId,eventType:"change",handler:function(){E()}});t.push({elementName:p.elementId,eventType:"change",handler:function(){E()}})}n+="</div>";t.push({elementName:a.name+
"_dateselectyear",handler:b,eventType:"focus"});t.push({elementName:a.name+"_dateselectyear",handler:c,eventType:"blur"});t.push({elementName:a.name+"_dateselectday",handler:b,eventType:"focus"});t.push({elementName:a.name+"_dateselectday",handler:c,eventType:"blur"});t.push({elementName:a.name+"_dateselectmonth",handler:b,eventType:"focus"});t.push({elementName:a.name+"_dateselectmonth",handler:c,eventType:"blur"});return n},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&
!1===a.displayPublic)return"";var b="",b="";a.value.streetaddress&&(b+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(b+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(b+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");
a.value.stateprovince&&(b+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(b+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+="</div>";a.value.country&&(b+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return b=k.wrapStringData(a,b,"capture_stringdata_addressBlock")},addressFull:function(a){var b=
a.defaultCountry||"United States",c,e=z.prototype.render.html;a.value||(a.value={});a.customText||(a.customText={});var f=a.customText.stateLabel||"state",g=a.customText.countryLabel||"country";c='<div class="capture_form_item capture_addressBlock">'+e.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,
value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});c+=e.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=e.input({elementName:a.name+"[city]",
elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=z.prototype.render.capture.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",customText:{stateLabel:f},
placeholder:"State/Province",hide:!("United States"===a.value.country||"Canada"===a.value.country||("United States"===b||"Canada"===b)&&"undefined"===typeof a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});c+=e.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:
"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});c+=z.prototype.render.capture.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],customText:{countryLabel:g},value:a.value&&a.value.country?a.value.country:b,placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});t.push({elementName:a.name+"_country",handler:function(b){var b=
N(b),b=q(b),c=this.options[this.selectedIndex].value||"",e=document.getElementById(b+a.name+"_stateprovince"),l=document.getElementById(b+a.name+"_stateprovince_hidden");"United States"===c||"Canada"===c?(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="inline-block",l&&l.parentNode.removeChild(l)):(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="none",e.selectedIndex=0,e[0].setAttribute("disabled","disabled"),e.parentNode.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:b,elementValue:"",elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince_hidden"})))},eventType:"change"});return c+"</div>"},backButton:function(a){var b;a.type="button";a.elementContent='<span class="janrain-icon-16 janrain-icon-back"></span>';b=""+k.createButton(a);a.type="backButton";t.push({elementName:a.elementName,handler:function(){Md=!1;var a=xc.pop();a&&(a.flow.oneTimeRender=void 0,janrain.capture.ui.render(a.flow,a.values))},eventType:"click"});return b},partial:function(a){var b=
document.getElementById(a.layout);if(b)return b.innerHTML;throw ba(a.layout);},photoManager:function(a,b){function c(b){lc=!1;var f=document.getElementById(v+a.name+"_profile_pic_uploadform_container"),l=document.getElementById(v+a.name+"_upload_photo_form");document.createElement("div").appendChild(l);f.innerHTML="";var g=document.createElement("div");g.innerHTML=da;var h=document.createElement("div");h.innerHTML=ga;f.appendChild(g);f.appendChild(l);f.appendChild(h);e(document.getElementById(K));
f=document.getElementById(v+"photo_chooser");y(f,"change",sa);var r=janrain.events.onModalClose.addHandler(function(){lc=!0;janrain.events.onModalClose.removeHandler(r)},!0);b&&R(b)}function f(b){if(0<parseInt(b.unscaled.width)){yb=b;var c=b.unscaled.height/b.sizedHeight,e=Math.round(B/(b.unscaled.width/b.sizedWidth)),l=document.getElementById(v+a.name+"_profile_pic_image_edit"),c=Math.round(C/c);"none"===l.style.display&&(l.style.display="block");l.style.width=e+"px";l.style.height=c+"px";l.style.marginLeft=
"-"+Math.round(b.unscaled.left/b.sizedWidth*e)+"px";l.style.marginTop="-"+Math.round(b.unscaled.top/b.sizedHeight*c)+"px"}}function g(){if(I)return!1;var b=document.getElementById(v+a.name+"_profile_pic_image_edit_crop");crop(b,f,G,D,function(){janrain.events.onCaptureContentChange.fire()});b.style.display="inline";I=!0}function h(){setTimeout(function(){"function"!==typeof crop?Ia("//"+(janrain.settings.enforceSecureCloudfront?"cdn-social.janrain.com":"d16s8pqtk4uodx.cloudfront.net")+"/crop/crop.js",
g):setTimeout(g,50)},500)}function i(a){if(!yb)return!1;N(a);var a=yb.sizedWidth/yb.originalWidth,d=yb.sizedHeight/yb.originalHeight;document.getElementById(v+"width").value=Math.round(yb.unscaled.width/a);document.getElementById(v+"height").value=Math.round(yb.unscaled.height/d);document.getElementById(v+"x").value=Math.round(yb.unscaled.left/a);document.getElementById(v+"y").value=Math.round(yb.unscaled.top/d)}function m(){qa(function(){var a=document.getElementById("janrainModal");if(null===a||
"none"===a.style.display){h();lc=!1;e(document.getElementById(O));var d=janrain.events.onModalClose.addHandler(function(){lc=!0;janrain.events.onModalClose.removeHandler(d)},!0);return!0}return!1}).setDelay(100).setMaxAttempts(20).setFailCallback(function(){n.warn("Poll for modal existing failed.")}).start()}var b=b?H.parse(b):{custom:!1},j={};if(u(a.value)&&a.value.length){ha={};for(var p=0,s=a.value.length;p<s;p++)ha[a.value[p].type]=a.value[p]}else ha=!1;var w;ha.original||(ha.large?(ha.original=
ha.large,w="large"):ha.normal&&(ha.original=ha.normal,w="normal"));var p=k.createDiv({elementName:a.elementName+"_parent"}),A=fa,v=a.fieldPrefix||M,s=z.prototype.render.html,B=a.previewSizeWidth||100,C=a.previewSizeHeight||100,D=a.originalMaxWidth||450,G=a.originalMaxHeight||450,I=!1,E="object"===typeof ha,L=E?"":"capture_profile_pic ",K=v+a.name+"_uploadphotoscreen",O=v+a.name+"_editphotoscreen";if(E&&ha.original)var P=-1<ha.original.value.indexOf("?")?"&":"?";j.profilePicClass=L;j.uploadPhotoScreenId=
K;j.editPhotoScreenId=O;var B=parseInt(B,10),C=parseInt(C,10),D=parseInt(D,10),G=parseInt(G,10),Q={elementName:a.elementName};E&&ha.large&&(Q.classes=["capture_userphoto"]);j.mainDiv=k.createDiv(Q);j.closeDiv="</div>";a.customText||(a.customText={});var Q=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",S=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",T=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",U=a.customText.removePhotoLinkPhotoManager||
"Remove photo",V=a.customText.editPhotoLinkPhotoManager||"Edit photo",W=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",X=a.customText.editPhotoButtonTextPhotoManager||"Save",$=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",aa=a.customText.removePhotoButtonTextPhotoManager||"Remove",ca=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",da=a.customText.uploadNewPhotoInstructionPhotoManager||"",ga=a.customText.uploadNextStepInstructionPhotoManager||
"",ia=a.customText.editPhotoPreviewTitlePhotoManager||"";j.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo";j.editProfileInstruction=S;j.profilePhotoTitle=Q;j.prefixFieldName=v+a.name;j.editPhotoPreviewTitle=ia;Ib(document.getElementById(K));Ib(document.getElementById(O));j.profileImage='<div id="'+v+a.name+'_profile_pic" class="'+L+"capture_profile_pic_display"+(E?"":" capture_default")+'">';E&&ha.large&&(j.profileImage+=function(){var b=k.createImage({src:ha.large.value,
imageId:a.name+"_profile_pic_image"});return Ga?(t.push({elementName:"mobilePhotoChangeLink",eventType:"click",handler:function(){document.getElementById(M+"photo_chooser").click()}},{elementName:"photo_chooser",eventType:"change",handler:function(){document.getElementById(M+"photo_submit").click()}}),k.createAnchor({elementName:"mobilePhotoChangeLink",elementHref:"javascript:void(0)",elementText:b})):b}());j.profileImage+="</div>";j.photoLinks=Ga?"":k.createListOfLinks([{listItemId:"upload_photo",
listItemClasses:[],anchorText:T,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:V,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!E},{listItemId:"remove_photo",listItemClasses:[],anchorText:U,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!E}],["options"]);j.uploadImage=E&&ha.large?k.createImage({src:ha.large.value,
imageId:a.name+"_profile_pic_image_upload"}):"";j.editImage=E&&ha.original?k.createImage({src:ha.original.value+P+"janrainDate="+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";j.cropImage=E&&ha.original?k.createImage({src:ha.original.value+P+"janrainDate="+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";j.photoChooserErrors=k.createDiv({elementId:"photo_chooser_errors",classes:["capture_photo_chooser_form_error"]});
j.photoChooserErrors+="</div>";var ba=Ba();k.domHelpers.createIFrame(ba,a.name+"_upload_photo_form");j.uploadFormOpen=s.form({action:"widget/photo/upload_photo.jsonp",elementAttributes:{enctype:"multipart/form-data"},transactionId:ba,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form",listenToFields:!1});j.uploadFileField=k.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});j.uploadSubmitButton=
k.createInput({elementName:"photo_submit",elementId:"photo_submit",value:$,classes:["capture_btn","capture_primary","capture_disabled"],justElement:!0,type:"submit"});j.uploadFormClose="</form>";var ea=Ba();k.domHelpers.createIFrame(ea,a.name+"_crop_photo_form");j.editFormOpen=s.form({action:"widget/photo/crop_photo.jsonp",transactionId:ea,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form",listenToFields:!1});j.editFormOpen+=k.createDiv({elementName:"",classes:["capture_popup-arrow"],
type:"div"});j.editFormOpen+="</div>";j.editFormOpen+=k.createInput({elementName:"width",elementId:"width",justElement:!0,type:"hidden"});j.editFormOpen+=k.createInput({elementName:"height",elementId:"height",justElement:!0,type:"hidden"});j.editFormOpen+=k.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});j.editFormOpen+=k.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});j.editSubmitButton=k.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",
value:X,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});j.editFormClose="";w&&(j.editFormClose+=k.createInput({elementName:"originalFallback",elementId:"originalFallback",value:w,justElement:!0,type:"hidden"}));j.editFormClose+="</form>";j.chooseDifferentPhotoLink=k.createAnchor({elementHref:"#",elementText:W,elementId:a.name+"_different_photo_link"});b.custom?t.push({handler:function(){var b=document.getElementById(v+a.name+"_parent");b.innerHTML=Y(j,b.innerHTML);t.push({elementName:a.name+
"_upload_photo_form",handler:ub,eventType:"submit"});t.push({elementName:a.name+"_crop_photo_form",handler:ub,eventType:"submit"});ya(ba);ya(ea)},eventType:"render"}):(p+=Y(j,'{| mainDiv |}     {| profileImage |}     {| photoLinks |}     &nbsp; {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>{| photoChooserErrors |}         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
p+="</div>",t.push({elementName:a.name+"_upload_photo_form",handler:ub,eventType:"submit"}),t.push({elementName:a.name+"_crop_photo_form",handler:ub,eventType:"submit"}),ya(ba),ya(ea));t.push({eventType:"render",handler:function(){var b=document.getElementById(v+a.name+"_different_photo_link");y(b,"click",c);b=document.getElementById(v+a.name+"_crop_photo_form");document.getElementById(v+a.name+"_profile_pic_editPhoto_container").appendChild(b);y(b,"submit",i)}});t.push({elementName:"upload_photo_link",
handler:c,eventType:"click"});janrain.settings.capture.editPhotoAfterUpload&&janrain.events.onCapturePhotoUploadSuccess.addHandler(function(){I=!1;m()},!0);t.push({elementName:"edit_photo_link",handler:function(a){m();R(a)},eventType:"click"});t.push({elementName:"remove_photo_link",handler:function(a){var d=N(a),b=q(d);if(!document.getElementById(b+"remove_photo_contain")){var c=k.domHelpers.createDiv({elementId:"remove_photo_contain",fieldPrefix:b,classes:["capture_popup_container pad"]}),d=k.domHelpers.createAnchor({elementHref:"#",
fieldPrefix:b,elementText:aa,elementId:"confirm_remove_photo_link"}),e=k.domHelpers.createAnchor({elementHref:"#",fieldPrefix:b,elementId:"cancel_remove_photo_link",elementText:ca});c.innerHTML='<div class="capture_popup-arrow"></div><p>Can&#39;t Be Undone</p>';c.appendChild(d);c.appendChild(e);document.getElementById(b+"remove_photo").appendChild(c);var l=function(a){var d=[b+"createFormAndPostSubmit",b+"confirm_remove_photo_link",b+"remove_photo_link"],e=N(a).getAttribute("id")||"";!x(d,N(a).getAttribute("id"))&&
0>e.indexOf(b+"createFormAndPostSubmit_")&&(c.innerHTML="",Ib(c),Cb(document,"click",l),R(a))};y(e,"click",l);y(document,"click",l);y(d,"click",function(a){k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:b,captureScreen:A,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});R(a)});R(a)}},eventType:"click"});t.push({eventType:"render",handler:function(){function a(){var d=document.getElementById(v+
"photo_chooser").value?"remove":"append";o(b())[d]("capture_disabled")[d]("btn_disabled")}function d(a){!Ga&&(o(b()).has("capture_disabled")||o(b()).has("btn_disabled"))&&("click"==a.type||"keyup"==a.type&&a.keyCode==fb)&&R(a)}function b(){return document.getElementById(v+"photo_submit")}a();y(document.getElementById(v+"photo_chooser"),"change",a);y(b(),"click",d);y(b(),"keyup",d)}});return p},datePicker:function(a){var b="",c={provideOpenButton:!0};a.type="text";Ca(c,a.settings||{});b+=k.wrapFormItemStart(a);
b+=k.createInput(a);b+=k.wrapFormItemEnd(a);t.push({elementName:a.elementName,eventType:"render",handler:function(a){a=document.getElementById(a);c.targetElement=a;new jb(c)}});k.attachFieldEventHandlers(a);a.type="datePicker";return b},slider:function(a){if(a.publicDisplay&&"undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b=k.createDiv({elementName:"slider capture_form_item"}),c=z.prototype.render.html,e=a.fieldPrefix||M,f="initialPosition"in a?a.initialPosition:0,g=a.value&&
0<=a.value.score?a.value.score:f,b=b+("<label>"+a.label+"</label>"),b=b+k.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),b=b+k.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),b=b+k.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),b=b+'</div></div><div class="capture_slider_list"><ul>',f=0,h;for(;h=a.legend_items[f];f++)b+="<li>"+h+"</li> ";b+="</ul></div></div>";a.publicPrivateToggle&&(b+=k.createPublicPrivateToggle(a));
b+=c.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&0<=a.value.score?a.value.score:"initialValue"in a?a.initialValue:""});b+="</div>";t.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+"_marker").style.left=(0<=g?g:"initialPosition"in a?a.initialPosition:0)+"%"}});if(!0===
a.enabled){var i=!1;t.push({elementName:a.elementName+"_marker",eventType:te,handler:function(b){i=!0;var c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),c=c.getBoundingClientRect(),l=c.width?c.width:c.right-c.left,c=new Zd;c.setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundary(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){f.value=Math.round(100*(a.pos_x/l));va(f)}).drag(b);$d.push(c);
dd&&clearTimeout(dd)}});t.push({elementName:a.elementName+"_marker",eventType:gd,handler:function(){var b=document.getElementById(e+a.elementName+"_marker"),c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),b=parseInt(ze(b.id,"left")),c=c.getBoundingClientRect();f.value=Math.round(100*(b/(c.width?c.width:c.right-c.left)))}});t.push({elementName:a.elementName+"_container",eventType:"mouseover",handler:function(){document.getElementById(e+a.elementName+
"_container").style.cursor="pointer"}});t.push({elementName:a.elementName+"_container",eventType:"click",handler:function(b){if(!0===i)i=!1;else{var c=document.getElementById(e+a.elementName+"_marker"),f=document.getElementById(e+a.elementName+"_base"),l=document.getElementById(e+a.elementName+"_score"),g=f.getBoundingClientRect(),h=g.width?g.width:g.right-g.left,r=b.clientX-Je(f).x,b=parseInt(ze(c.id,"left")),b=isNaN(b)?0:b;(new Zd).setElement(c).setAcceleration("sinusoidal").setDuration(500).startPosition(b).endPosition(r).setDirection("horizontal").setCallback(function(){l.value=
Math.round(100*(r/h));va(l)}).animate()}}})}return b},radioCollection:function(a){for(var b=a.fieldPrefix||M,c=k.createDiv({elementName:a.elementName,classes:a.classes||[]}),e=0;e<a.collection.length;e++)c+="<div class='capture_radio_toggle",c+=(0===e?" capture_toggled":"")+"'>",c+="<input type='radio' id='"+b+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",c+="<label ",c+="class='capture_radio_label' ",c+=
"for='"+b+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",c+="</label></div>",t.push({elementName:"radio_"+a.collection[e].elementName,handler:function(b){Qa(b,a)},eventType:"click"});k.autoSelectPreferredTab(a,"radio");return c+"</div>"},tabCollection:function(a){for(var b,c=[],e=k.createDiv({elementName:a.elementName,classes:a.classes||[]}),f=0;f<a.collection.length;f++)b={listItemId:"tab_li_"+a.collection[f].elementName,listItemClasses:["capture_tab_toggle"],anchorId:"tab_"+
a.collection[f].elementName,anchorText:a.collection[f].label,anchorHref:"#"},0===f&&b.listItemClasses.push("capture_toggled"),c.push(b),t.push({elementName:"tab_"+a.collection[f].elementName,handler:function(b){Qa(b,a)},eventType:"click"});k.autoSelectPreferredTab(a,"tab");e+=k.createListOfLinks(c,["capture_tabs"]);return e+"</div>"},newsletterSubscriptions:function(a){var b="",c=a.format||"",e=a.startHTML||"",f=a.endHTML||"",g=a.delimiter||"",h=u(a.value)?a.value:[],i=u(a.classes)?" "+a.classes.join(" "):
[],j="capture_newsletter_checkbox"+i,m=h.length,n=(a.fieldPrefix||M)+"form_item_"+a.elementName,o=a.bulkUpdate,q,p,s;if(0<m){b+=k.wrapFormItemStart(a);b+=k.createLabel(a);b+=e;for(e=0;e<m;++e)""!==c?b+=Y(h[e],c)+g:(p=h[e],q=p.display_name||"",checked="","active"===p.status&&(checked='checked="checked"'),q='<label><input type="checkbox" class="'+j+'" data-subId="'+p.list_id+'" value="'+p.list_id+'" name="'+a.name+'[]" '+checked+">"+q+"</label>",s="undefined"!==typeof p.description?'<p class="capture_newsletter_description'+
i+'">'+p.description+"</p>":"",p="undefined"!==typeof p.image?k.createImage({src:p.image,classes:["capture_newsletter_image"].concat(i)}):"",b+=q+s+p+g);g&&(b=b.slice(0,-g.length));b=b+f+k.createTip(a);b+=k.wrapFormItemEnd(a);o||t.push({handler:function(){for(var a=aa("capture_newsletter_checkbox",document.getElementById(n)),b=0,d=a.length;b<d;++b)y(a[b],"change",function(a){var b=N(a),a=b.getAttribute("data-subId"),d=b.checked?"active":"inactive",b=Ba(),a=za({list_id:a,token:C,subscription_status:d,
capture_transactionId:b});wb("/widget/update_subscription.jsonp",a);na(b)})},eventType:"render"})}return b},pluralIterator:function(a){var b="",c="",e=a.format||"",f=a.startHTML||"",g=a.endHTML||"",h=a.delimiter||"",i="undefined"===typeof a.emptyMessage?"There are no "+a.schemaId+".":a.emptyMessage,j=u(a.value)?a.value:[],o={},q=j.length,p,s=(a.fieldPrefix||M)+(a.elementId||a.elementName),v="<div id='"+s+"'>";if(0===q)b=i;else{for(p=0;p<q;++p)i=ef(j[p],a.propertyFormats),c+=Y(i,e)+h,o[j[p].id]=j[p];
h&&(c=c.slice(0,-h.length));c&&(b+=f+c+g)}a.editable&&t.push({handler:function(){var b=document.getElementById(s),c=aa("janrainCapturePluralEditBtn",b),e=c.length,f=aa("janrainCapturePluralDeleteBtn",b),l=f.length,b=aa("janrainCapturePluralCreateBtn",b),g=m.fields[a.idField],h=g?document.getElementById(M+g.name):null;if(h){var r=tb(h,"form");if(r){var i=function(b){var b=N(b),c=b.getAttribute("data-plural-item-id"),e;null!==c&&(e=o[c],janrain.events.onCapturePluralItemEdit.fire({item:e,element:b,
editor:a.name}),h.disabled=!1,ga(a.fieldMapping,function(a,b){var d=m.fields[b];d&&k.setField(d,e[a],M)}))},q=function(b){var b=N(b),c=b.getAttribute("data-plural-item-id"),e;null!==c&&(e=o[c],janrain.events.onCapturePluralItemDelete.fire({item:e,element:b,editor:a.name}),k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile/delete_from_plural",name:a.deleteForm,needsResponse:!0,fields:[{elementType:"hidden",elementName:"delete",elementValue:a.name+
"["+c+"]"}],callback:function(){I(!1)}}))},p;for(p=0;p<e;++p)c[p].setAttribute("data-plural-item-id",j[p].id),y(c[p],"click",i);if(a.deleteForm)for(p=0;p<l;++p)f[p].setAttribute("data-plural-item-id",j[p].id),y(f[p],"click",q);else 0<l&&n.forceError("Plural iterator editor requires a delete form in the flow for deletions to work.");ga(a.fieldMapping,function(a,b){var d=m.fields[b];d&&(d.idFieldElementId=M+g.name)});0<b.length&&(b=b[0],y(b,"click",function(b){b=N(b);janrain.events.onCapturePluralItemCreate.fire({element:b,
editor:a.name});h.disabled=!0;ga(a.fieldMapping,function(a,b){var d=m.fields[b];d&&k.resetField(d,M)})}));y(r,"submit",function(){var b=null;h.disabled||(b=o[h.value]);janrain.events.onCapturePluralItemSave.fire({item:b,editor:a.name})})}else n.forceError("Plural iterator editor requires a form.")}else n.forceError("Plural iterator editor requires idField in flow and in your form.")},eventType:"render"});return v+b+"</div>"},datetime_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===
a.displayPublic)return"";var b,c,e,f=a.format||"{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}",g=(new Date).getFullYear(),h="01",i="01",j="NA",m="NA",n="NA",o;if("undefined"===typeof a.value||""===a.value)return"";b=a.value.split(" ");c=b.length;for(o=0;o<c;++o)e=b[o].split("-"),3===e.length?(g=e[0],h=e[1],i=e[2]):(e=b[o].split(":"),3===e.length?(j=e[0],m=e[1],n=e[2].split(".")[0]):(e=b[o].split("/"),3===e.length&&(g=e[0],h=e[1],i=e[2])));b=new Date;"NA"!==j||"NA"!==m||"NA"!==n?(b.setUTCHours(j),
b.setUTCMinutes(m),b.setUTCSeconds(n),b.setUTCMilliseconds(0),b.setUTCMonth(h-1),b.setUTCDate(i),b.setUTCFullYear(g)):(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b.setMonth(h-1),b.setDate(i),b.setFullYear(g));return"[object Date]"!==Object.prototype.toString.call(b)||isNaN(b.getTime())?a.value:a.justString?qb(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}):k.wrapStringData(a,qb(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}))}},widget:{login:function(){t.push({handler:function(){var a=
document.getElementById("janrainEngageEmbed"),b=document.getElementById(M+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var d=Ba();janrain.engage.signin.appendTokenParams({capture_transactionId:d},!0,!0)}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());ib||ob()},
eventType:"render"});var a=k.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,b){b=b?H.parse(b):{text:"Share"};t.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});var c=k.createDiv({elementName:"share_widget",classes:["share_widget"]});return c+=b.text+" </div>"}}};var bf=function(){function a(b,d,c){b={required:b,type:d};return"object"===typeof c?Ca(b,c):b}function b(c,e){return a(!0,c,e)}function c(b,
e){return a(!1,b,e)}function e(a,b){ga(g,function(d,c){ga(c,function(c,e){a.call(b,d,c,e)})})}var f={name:b("string"),elementName:b("string"),value:c("array",{subtype:"string"}),options:b("array",{subtype:"object",subtypeDefinition:{value:c("string"),label:c("string")}})},g={data:{engageCookie:{name:"Engage Cookie Data",definition:{cookieName:b("string")}},localStorage:{name:"Local Storage Data",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),classes:c("array",{subtype:"string"}),
data:b("string")}},string:{name:"String Data",definition:{displayPublic:b("boolean"),value:c("string"),displaySavedValue:c("boolean"),justString:c("boolean"),hideWhenValue:c("string")}},image:{name:"Image Data",definition:{value:b("string"),returnImageTag:c("boolean"),elementName:c("string"),hide:c("boolean"),classes:c("array",{subtype:"string"}),elementId:c("string")}}},html:{anchor:{name:"HTML Anchor",definition:{elementClasses:c("array",{subtype:"string"}),elementText:b("text"),fieldPrefix:c("string"),
elementHref:b("string"),elementName:b("string"),target:c("string"),name:b("string")}},textarea:{name:"Text Area",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementId:c("string"),rows:c("number"),name:b("string"),placeholder:c("string"),value:c("text"),publicPrivateToggle:c("boolean")}},select:{name:"Select",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),rendererFieldName:c("string"),rendererChildFieldName:c("string"),dontShowTip:c("boolean"),
showFieldWhere:c("string"),name:b("string"),elementName:b("string"),options:b("array",{subtype:"object",subtypeDefinition:{text:b("string"),value:c("string")}}),publicPrivateToggle:c("boolean")}},multi:{name:"Mutli",definition:f},multiCheckbox:{name:"Checkboxes",definition:f},multiRadio:{name:"Radio Buttons",definition:f},input:{name:"Input",definition:{type:b("string"),fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),justElement:c("boolean"),collection:c("boolean"),rendererFieldName:c("string"),
rendererChildFieldName:c("string"),hide:c("boolean"),elementValue:c("string"),value:c("string"),placeholder:c("string"),engageData:c("string"),checked:c("boolean"),modify:c("boolean"),publicPrivateToggle:c("boolean"),profileStoragePath:c("boolean"),displaySavedValue:c("boolean")}},button:{name:"Button",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementClasses:c("array",{subtype:"string"}),type:c("string"),hide:c("boolean"),name:b("string"),value:c("string"),
elementContent:c("string"),modify:c("boolean")}},form:{name:"Form",definition:{elementAttributes:c("object",{subtype:"string"}),localFieldPrefix:c("string"),classes:c("array",{subtype:"string"}),action:b("string"),transactionId:b("string"),serverNextScreen:c("boolean"),hideOnSubmit:c("boolean"),engageTokenRequired:c("boolean"),checkIdentifier:c("boolean")}},div:{name:"Div",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementAttributes:c("object",{subtype:"string"}),
classes:c("array",{subtype:"string"}),type:c("string"),name:b("string"),elementText:b("text")}},close:{name:"Close",definition:{element:b("string"),type:c("string")}}},capture:{table:{name:"Table",definition:{th:b("object",{definition:{display:c("boolean"),cols:c("array",{subtype:"string"})}}),rows:b("array",{subtype:"object",subtypeDefinition:{cells:b("array",{subtype:"object",subtypeDefinition:{elementValue:"string"}})}})}},countrySelect:{name:"Country Select",definition:{customText:c("object",
{definition:{countryLabel:c("string")}})}},stateSelect:{name:"State Select",definition:{customText:b("object",{definition:{stateLabel:c("string")}}),noCanadianProvinces:c("boolean")}},keepMeLoggedIn:{name:"Keep Me Logged In",definition:{fieldPrefix:b("boolean"),label:c("string"),name:b("string"),checked:c("boolean")}},captcha:{name:"CAPTCHA",definition:{name:b("string"),label:c("string")}},mergeAccounts:{name:"Merge Accounts",definition:{value:b("string"),customText:c("object",{subtype:"string",definition:{connectRadio:c("string"),
connecetLegacyRadio:c("string"),createRadio:c("string"),foundExistingAccount:c("string"),moreInfoHover:c("string"),moreInfo:c("string"),createButton:c("string"),name:b("string"),traditionalMergeScreen:b("string"),useConnectIcons:c("boolean"),connectButton:c("string")}})}},publicProfileLink:{name:"Public Profile Link",definition:{elementHref:c("string"),elementAttributes:c("object",{subtype:"string"}),addUUIDToLink:c("boolean")}},linkSocialAccount:{name:"Link Social Account",definition:{provider:b("string"),
elementClasses:c("string"),elementContent:b("string")}},linkAccounts:{name:"Link Accounts",definition:{value:c("object",{definition:{providers:b("array",{subtype:"string"}),displayNames:b("array",{subtype:"string"}),identifiers:b("array",{subtype:"string"}),prettyProviders:b("array",{subtype:"string"}),customProviders:b("array",{subtype:"string"})}}),customText:c("object",{subtype:"string"}),fieldPrefix:c("string"),name:c("string"),linkAccountContainer:b("string"),providerIconSize:c("number"),displayFormatKnown:c("string"),
customIcons:c("boolean"),customAddLinks:c("boolean"),customAddLinkFormat:c("string")}},errorMessages:{name:"Error Messages",definition:{}},savedProfileMessage:{name:"Saved Profile Message",definition:{}},nameFull_public:{name:"Name Full Public",definition:{displayPublic:b("boolean"),justString:c("boolean"),value:b("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},nameFull:{name:"Name Full",definition:{name:b("string"),publicPrivateToggle:b("boolean"),displayPublic:b("boolean"),
value:c("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}}),placeholder:c("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},dateselect_public:{name:"Date Select Public",definition:{displayPublic:b("boolean"),justString:c("boolean"),format:c("string"),value:b("object",{definition:{dateselect_year:b("number"),dateselect_month:b("number"),dateselect_day:b("number")}})}},dateselect:{name:"Date Select",definition:{customText:c("object",
{definition:{yearLabelDateSelect:c("string"),monthLabelDateSelect:c("string"),dayLabelDateSelect:c("string"),fieldPrefix:c("string"),name:b("string"),format:c("array",{subtype:"string"}),monthStart:c("number"),monthEnd:c("number"),dayStart:c("number"),dayEnd:c("number"),yearStart:c("number"),yearEnd:c("number"),label:c("string"),publicPrivateToggle:c("boolean"),displayPublic:b("boolean"),tip:c("string"),datePickerSettings:c("object"),elementName:b("string")}})}},addressFull_public:{name:"Address Full Public",
definition:{displayPublic:c("boolean"),value:b("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},addressFull:{name:"Address Full",definition:{name:b("string"),publicPrivateToggle:c("boolean"),displayPublic:c("boolean"),value:c("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}}),
customText:c("object",{definition:{stateLabel:c("string"),countryLabel:c("string")}}),placeholder:c("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},backButton:{name:"Back Button",definition:null},partial:{name:"Partial",definition:{layout:b("string")}},photoManager:{name:"Photo Manager",definition:{elementName:b("string"),fieldPrefix:c("string"),previewSizeWidth:c("number"),previewSizeHeight:c("number"),
originalMaxWidth:c("number"),originalMaxHeight:c("number"),name:b("string"),value:c("array",{subtype:"object",subtypeDefinition:{type:b("string")}}),customText:c("object",{definition:{profilePhotoTitlePhotoManager:c("string"),editProfilePhotoTitlePhotoManager:c("string"),editProfileInstructionPhotoManager:c("string"),chooseNewPhotoLinkPhotoManager:c("string"),removePhotoLinkPhotoManager:c("string"),editPhotoLinkPhotoManager:c("string"),chooseDifferentPhotoLinkPhotoManager:c("string"),editPhotoButtonTextPhotoManager:c("string"),
uploadPhotoButtonTextPhotoManager:c("string"),removePhotoButtonTextPhotoManager:c("string"),removePhotoCancelButtonTextPhotoManager:c("string"),uploadNewPhotoInstructionPhotoManager:c("string"),uploadNextStepInstructionPhotoManager:c("string"),editPhotoPreviewTitlePhotoManager:c("string")}})}},datePicker:{name:"Date Picker",definition:{monthPreviousText:c("string"),monthNextText:c("string"),openOnTargetElementFocus:c("boolean"),provideOpenButton:c("boolean"),hasCloseButton:c("boolean"),minimumSelectableDate:c("string"),
maximumSelectableDate:c("string"),monthAndYearSelectable:c("boolean"),defaultDate:c("string"),arrowKeyNavigation:c("boolean"),format:c("string"),calendarTitleFormat:c("string"),monthNames:c("array",{subtype:"string"}),weekStartsOnMonday:c("boolean"),daysOfWeek:c("array",{subtype:"string"}),additionalClasses:c("array",{subtype:"string"})}},slider:{name:"Slider",definition:{publicDisplay:c("boolean"),displayPublic:c("boolean"),fieldPrefix:c("string"),initialPosition:c("number"),label:b("string"),elementName:b("string"),
legend_items:b("array",{subtype:"string"}),publicPrivateToggle:c("boolean"),enabled:c("boolean"),value:c("object",{definition:{score:c("number")}})}},radioCollection:{name:"Radio Collection",definition:{classes:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementName:c("string"),collection:b("array",{subtype:"object",subtypeDefinition:{elementName:b("string")}})}},tabCollection:{name:"Tab Collection",definition:{classes:c("array",{subtype:"string"}),elementName:c("string"),collection:b("array",
{subtype:"object",subtypeDefinition:{elementName:b("string")}})}},newsletterSubscriptions:{name:"Newsletter Subscriptions",definition:{format:c("string"),startHTML:c("string"),endHTML:c("string"),delimiter:c("string"),value:c("array",{subtype:"string"}),classes:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementName:b("string")}},pluralIterator:{name:"Plural Iterator",definition:{format:c("string"),startHMTL:c("string"),endHTML:c("string"),delimiter:c("string"),emptyMessage:c("string"),
value:c("array",{subtype:"object"})}},datetime_public:{name:"Date Time Public",definition:{displayPublic:c("boolean"),format:c("string"),value:c("string"),justString:c("boolean")}}},widget:{login:{name:"Login Widget",definition:{}},share:{name:"Share Widget",definition:{}}}},h=[];e(function(a,b){h.push(a+"."+b)});var i=g,f=i.capture,i=i.html;f.dateselect.definition.customText.definition.datePickerSettings=f.datePicker.definition;f.backButton.definition=Ca({},i.button.definition);e(function(a,b,d){d.path=
a+"."+b;d.group=a;d.name=b;Ca(d.definition,{schemaId:c("string"),label:c("string"),tip:c("string")});"html"===a?d.definition.element=b:(d.definition.element=a,d.definition.type=b)});return{listComponents:function(){return h},componentDefinition:function(a){0>a.indexOf(".")&&(a="html."+a);return ua(g,a)}}}(),ke=!0,oa={},se,Nb={addCustomLink:function(a,b,c){var e=b.fieldPrefix||M,f=document.createElement("li");f.className="capture_custom_add_linkedaccount";f.setAttribute("data-captureprovider",a);f.innerHTML=
Y({provider:a},b.customAddLinkFormat);c&&c.parentNode?c.parentNode.insertBefore(f,c):document.getElementById(e+b.name+"_linkedproviderlist").appendChild(f)},unLinkAccountSuccessCallback:function(a,b){janrain.events.onCaptureProfileUnlink.fire({provider:b});var c=a.value.providers.indexOf(b);ga(a.value,function(a,b){u(b)&&b.splice(c,1)})},unLinkAccount:function(a,b,c,e){if(!("keypress"===a.type&&a.keyCode!==fb)){var f=N(a);"#"===f.getAttribute("href")&&R(a);if(o(f).has("capture_remove_linkedaccount")){var g=
this.completeUnLinkAccount;se=function(){e&&e();g(f,b,c)};b.confirmRemoval?("undefined"===typeof fd&&(fd=new mf,fd.setTitle(xa.confirmRemoveLinkedTitle||"Remove Linked Account?").setMessage(xa.confirmRemoveLinkedMessage||"Are you sure you want to remove this linked account?").setButtons(xa.confirmRemoveLinkedNoText||"Cancel",xa.confirmRemoveLinkedYesText||"Yes").setCallback(function(a){1===a.index&&se();fd.close()})),fd.open()):se()}}},completeUnLinkAccount:function(a,b,c){var e=a.getAttribute("data-captureidentifier"),
f=a.getAttribute("data-captureprovider"),g=a.parentNode.getAttribute("data-capturerelatedfieldsid");b.customAddLinks&&Nb.addCustomLink(f,b,a.parentNode);Ib(a.parentNode);g&&Ib(document.getElementById(g));k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",fieldPrefix:b.fieldPrefix||M,captureScreen:c,needsResponse:!0,callback:function(){Nb.unLinkAccountSuccessCallback(b,f)},fields:[{elementName:"identifier[]",elementType:"hidden",
elementValue:e},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:e}]})},openInModal:function(a,b,c){janrain.engage&&janrain.engage.signin&&(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:b},!0));e(document.getElementById(c));R(a)},linkWithCustomLink:function(a,b){if(!("keypress"===a.type&&a.keyCode!=fb)){var c=N(a),c=tb(c,"li");o(c).has("capture_custom_add_linkedaccount")&&(c=c.getAttribute("data-captureprovider"),
Tb(b,c))}},triggerLinkSocialAccountFlow:function(a,b,c){"keypress"===a.type&&a.keyCode!==fb||Tb(b,c)},renderHandler:function(a,b){var c=document.getElementById(a);document.getElementById(b).appendChild(c)}},lc=!0,Ue=0,Ve,dd=0,me=0,Td=janrain.settings.capture.autoSaveUpdateInterval||1E4,Xd=janrain.settings.capture.autoSaveDelay||janrain.settings.capture.autoSaveInterval||1E4;Me=function(a){if(janrain.settings.capture.redirectFlow){var b=Ma(Id?"true":"false");na(b.capture_transactionId);b.flow=E();
delete b.token;a&&(b.capture_screen=fa,b.engage_add_account=!0,b.access_token=C);a=a?"/widget/profile":"/widget/token_url";b=Mc(b);return janrain.settings.capture.captureServer+a+b}};var We={reactivateAccount:function(a){if("accountReactivated"===a.statusMessage||"invalidReactivationCode"===a.statusMessage)"success"===a.status?janrain.events.onCaptureAccountReactivateSuccess.fire(a):janrain.events.onCaptureAccountReactivateFailed.fire(a)},deactivateAccount:function(a){a.statusMessage&&("success"===
a.status&&"accountDeactivated"===a.statusMessage?janrain.events.onCaptureAccountDeactivateSuccess.fire(a):janrain.events.onCaptureAccountDeactivateFailed.fire(a))},emailCode:function(a){if("verified"===a.statusMessage||"invalidVerificationCode"===a.statusMessage)"success"===a.status?xb(a)?(a.accessToken||a.authorizationCode)&&Xb(a,"onCaptureEmailVerificationSuccess"):janrain.events.onCaptureEmailVerificationSuccess.fire(a):janrain.events.onCaptureEmailVerificationFailed.fire(a);else if("forgotPasswordCodeRedeemed"===
a.statusMessage||"invalidForgotPasswordCode"===a.statusMessage)"success"===a.status?xb(a)?(a.accessToken||a.authorizationCode)&&Xb(a,"onCaptureForgotPasswordCodeSuccess"):janrain.events.onCaptureForgotPasswordCodeSuccess.fire(a):janrain.events.onCaptureForgotPasswordCodeFailed.fire(a)},profile:function(a){"profileFound"!==a.statusMessage&&("success"===a.status?(G=!0,me=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(a)):janrain.events.onCaptureProfileSaveFailed.fire(a))},traditionalSignin:function(a){bd=
!1;if("success"!==a.status)janrain.events.onCaptureLoginFailed.fire(a);else{if(a.authorizationCode){var b=od(janrain.settings.capture.redirectUri,{code:a.authorizationCode});a.redirectUri=b}if(a.accessToken||a.authorizationCode){if(xb(a))a.oneTime?(bd=!0,a.fireEvent="onCapturePostLoginScreen"):Xb(a,"onCaptureLoginSuccess");else if(Kd)Kd=!1;else if(a.oneTime){bd=!0;var c=$(a);delete c.accessToken;janrain.events.onCapturePostLoginScreen.fire(c)}else janrain.events.onCaptureLoginSuccess.fire(a);("traditionalSignin"===
a.action||"socialSignin"===a.action)&&cb(a.action);janrain.settings.capture.federate&&a.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(a),Wb(a.transactionId),Kb=!0)}a.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=b)}},postLoginConfirmation:function(a){"success"!==a.status?janrain.events.onCaptureLoginFailed.fire(a):a.oneTime?janrain.events.onCapturePostLoginScreen.fire(a):Yc&&!bd?janrain.events.onCaptureRegistrationSuccess.fire(a):!Yc&&bd&&janrain.events.onCaptureLoginSuccess.fire(a)},
traditionalRegister:function(a){Yc=!1;if("success"!==a.status)janrain.events.onCaptureRegistrationFailed.fire(a);else{if(!xb(a))if(a.oneTime){Yc=!0;var b=$(a);delete b.accessToken;janrain.events.onCaptureRegistrationSuccessNoLogin.fire(b);janrain.events.onCapturePostLoginScreen.fire(b)}else janrain.events.onCaptureRegistrationSuccess.fire(a);cd&&(cd=!1);if(a.accessToken||a.authorizationCode)"socialRegister"===a.action?cb("socialSignin"):cb("traditionalSignin"),xb(a)&&(a.oneTime?(Yc=!0,a.fireEvent=
["onCapturePostLoginScreen","onCaptureRegistrationSuccessNoLogin"]):Xb(a,"onCaptureRegistrationSuccess"))}},control:function(a){"success"===a.status?janrain.events.onCaptureControlSuccesss.fire(a):janrain.events.onCaptureControlFailed.fire(a)}};(function(){this.otpSignin=this.ssoSignin=this.socialSignin=this.traditionalSignin;this.socialRegister=this.traditionalRegister}).call(We);var Xe=function(){Cc("accessDenied","capture_access","Sorry. Access denied.");Cc("retrievingUserData","capture_retrieving",
"Please wait while we retrieve your user data.");Cc("dialog","capture_dialog","",{layout:"captureDialogBuiltIn",modal:!0,modalLoadOnLoad:!0,source:"server"})};Xe();var Yd=[],re={};return{modal:{close:function(){"object"==typeof D&&D.close()},closeConfirm:function(){"object"==typeof D&&D.closeConfirm()},open:function(a){Xa=!0;var b=a||ia.flow.defaultScreen;if("object"==typeof D&&(a&&janrain.capture.ui.renderScreen(b),a=ia.div))D.setShowContentOnLoad(!0),D.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},
setBorder:function(a){"object"===typeof D&&(D.setBorder(a),D.refresh({center:!0}));return!0},setBorderColor:function(a){"object"===typeof D&&(D.setBorderColor(a),D.refresh());return!0},setBorderOpacity:function(a){"object"===typeof D&&(D.setBorderOpacity(a),D.refresh());return!0},setBorderRadius:function(a){"object"==typeof D&&(D.setBorderRadius(a),D.refresh());return!0},setOverlayZIndex:function(a){"object"==typeof D&&(D.setZIndex(a),D.refresh());return!0}},start:function(a,b){zb.fire();if(janrain.settings.capture.hasSettings&&
janrain.settings.capture.appId&&janrain.settings.capture.clientId){var c=P()+"/widget_data/settings/"+janrain.settings.capture.appId+"/"+janrain.settings.capture.clientId+".js";md(c,function(){g(a,b)}).setTimeoutCallback(function(){janrain.settings.capture.hasSettings=!1;n.forceError("Failed to load capture settings.");g(a,b)}).load()}else g(a,b)},hasActiveSession:function(){return!!C},renderComponent:Ka().renderField,listComponents:bf.listComponents,componentDefinition:bf.componentDefinition,render:function(a,
c){if(janrain.settings.capture.hasSettings){var e,f,g,h,i,k;e=Fd.mergeFlow;f=a.mergeFromSettings;if(e&&f)for(h=0,i=f.length;h<i;++h)g=f[h],k=ua(e,g),g=ua(a,g),k&&g&&Fe(g,k);Vb(a)}Lc(a);T||(T=b());a.i18nStrings&&(xa=a.i18nStrings);xa.validatingText&&(Ze=xa.validatingText);if(a.version)zd=a.version;else throw Error("MissingVersionError: Missing version.");yc(a);Dd=a.hasTraditionalAccount;be=a.form;if(Dd){e=aa("janrain_traditional_account_only");f=e.length;for(h=0;h<f;h++)e[h].style.display="block"}Bc(a);
e=new Ka;f=!1;$c&&cd&&(f=janrain.settings.capture.registerFlow||"socialRegister");f=m.oneTimeRender||f||janrain.settings.capture.screenToRender||m.defaultScreen;e.setScreenData(f,m.screens[f]);if(c)for(var j in c)c[j].id&&c[j].value&&(e=document.getElementById(c[j].id),e.value=c[j].value,"radio"===c[j].type&&(e.checked=c[j].checked,c[j].checked&&e.click()))},renderScreen:function(a,b){var c=m.screens[a];c?(Md=!1,b||xc.push(ia),(new Ka).setScreenData(a,c)):n.forceError("Can't render - Missing screen '"+
a+"' in flow.")},applySettings:function(a){Fd=a;ab=a.janrain_settings_version||""},getClientSettings:function(){return $(Fd)},setHandler:function(a,b,c){this.setFieldAttribute(a,b+"Handler",c)},setFieldAttribute:function(a,b,c){ad.push({field:a,attribute:b,value:c})},setRenderer:function(a,b,c){z.prototype.render[a].helpers=le;z.prototype.render[a][b]=c},setValidator:function(a,b){ea.prototype[a]=b},registerFunction:function(a,b){re[a]=b},addRenderer:function(a,b,c){this.setRenderer(a,b,c)},trackLoadedCssFiles:function(a){oe.push(a)},
handleCaptureUniqueResponse:function(a){Pc(a)},handleCaptureResponse:function(a,b){Nc(a,b)},handleErrorResponse:function(a,b){id(a,b)},createCaptureSession:function(a){Fa(a)},endCaptureSession:function(){vb()},addTransactionIds:function(a){Zb(a)},getFailedLogins:function(){return vc},setCustomHtml:function(a,b){Jc(a,b)},getEngageCookie:function(a){return Ic(a)},getProfileCookieData:function(a,b){return Vc(a,b)},getReturnExperienceData:function(a,b){return ld(a,b)},federateLogoutCallbackFired:function(a,
b){n.info("Federate logout callback fired");x(Od,a)||(Od.push(a),b())},federateNoLogin:function(a){n.info("federateNoLogin called at "+new Date);janrain.events.onCaptureFederateNoLogin.fire(a.result);Wb(a.transactionId);Rb();Kb=!0},federateSetLoginSuccess:function(a){n.info("Federate set login success");a&&a.transactionId&&Ub&&Ub[a.transactionId]&&(Ub[a.transactionId].setLoginSuccess=!0,Ub[a.transactionId].eventFiredDueToSlowResponse||rc(a.transactionId))},federateRefreshToken:function(b){b&&"ok"===
b.stat?(Fa(b.accessToken,!1,!0),Jb()):6>=++a?(n.warn("SSO refresh token returned: "+b.stat+" at "+new Date),n.warn("SSO refresh token retry attempt: "+a),Jb()):n.error("SSO refresh token failed with stat: "+b.stat+" at "+new Date)},linkSocialAccount:function(a){ib||ob();Tb(fa,a)},scriptLoader:function(a,b){return md(a,b)},noop:function(){},validationHandler:function(a){var b=document.getElementById(a.elementId),c=new k.validation;c.setParentDiv(b);c.setElement(b);c.valid();a.valid?c.valid():c.notValid(a.reason)},
setNoReturnExperience:function(){var a=new w;a.setUseLocalStorage(!0).setName("janrainLastAuthMethod");a.remove();janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);Zc&&janrain.capture.ui.renderScreen(Zc)},getPublicProfile:function(a,b){Kc(a,b)},activateCaptureControl:function(a){kb(a)},postCaptureForm:function(a,b){td(a,b)}}};td();return{engage:{signin:"loaded"===ua(janrain,"engage.signin.status")?janrain.engage.signin:uf,share:"loaded"===ua(janrain,"engage.share.status")?
janrain.engage.share:vf},capture:{ui:wf}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;